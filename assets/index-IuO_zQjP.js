function dE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var pE={exports:{}},vf={},mE={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),HA=Symbol.for("react.portal"),WA=Symbol.for("react.fragment"),GA=Symbol.for("react.strict_mode"),KA=Symbol.for("react.profiler"),QA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),JA=Symbol.for("react.forward_ref"),XA=Symbol.for("react.suspense"),ZA=Symbol.for("react.memo"),ek=Symbol.for("react.lazy"),Ly=Symbol.iterator;function tk(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var gE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,vE={};function Al(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||gE}Al.prototype.isReactComponent={};Al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yE(){}yE.prototype=Al.prototype;function l_(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||gE}var u_=l_.prototype=new yE;u_.constructor=l_;_E(u_,Al.prototype);u_.isPureReactComponent=!0;var My=Array.isArray,wE=Object.prototype.hasOwnProperty,c_={current:null},bE={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wE.call(e,r)&&!bE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:kc,type:t,key:i,ref:o,props:s,_owner:c_.current}}function nk(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function d_(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function rk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rk(""+t.key):e.toString(36)}function Zd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kc:case HA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ap(o,0):r,My(s)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),Zd(s,e,n,"",function(u){return u})):s!=null&&(d_(s)&&(s=nk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",My(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Ap(i,l);o+=Zd(i,e,n,a,s)}else if(a=tk(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Ap(i,l++),o+=Zd(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(t,e,n){if(t==null)return t;var r=[],s=0;return Zd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},eh={transition:null},ik={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:eh,ReactCurrentOwner:c_};function TE(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Td,forEach:function(t,e,n){Td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!d_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Al;je.Fragment=WA;je.Profiler=KA;je.PureComponent=l_;je.StrictMode=GA;je.Suspense=XA;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;je.act=TE;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=c_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)wE.call(e,a)&&!bE.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:kc,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:YA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QA,_context:t},t.Consumer=t};je.createElement=EE;je.createFactory=function(t){var e=EE.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:JA,render:t}};je.isValidElement=d_;je.lazy=function(t){return{$$typeof:ek,_payload:{_status:-1,_result:t},_init:sk}};je.memo=function(t,e){return{$$typeof:ZA,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=eh.transition;eh.transition={};try{t()}finally{eh.transition=e}};je.unstable_act=TE;je.useCallback=function(t,e){return Cn.current.useCallback(t,e)};je.useContext=function(t){return Cn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Cn.current.useEffect(t,e)};je.useId=function(){return Cn.current.useId()};je.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Cn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};je.useRef=function(t){return Cn.current.useRef(t)};je.useState=function(t){return Cn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Cn.current.useTransition()};je.version="18.3.1";mE.exports=je;var L=mE.exports;const Pt=hE(L),ok=dE({__proto__:null,default:Pt},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=L,lk=Symbol.for("react.element"),uk=Symbol.for("react.fragment"),ck=Object.prototype.hasOwnProperty,dk=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hk={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ck.call(e,r)&&!hk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lk,type:t,key:i,ref:o,props:s,_owner:dk.current}}vf.Fragment=uk;vf.jsx=SE;vf.jsxs=SE;pE.exports=vf;var f=pE.exports,Cm={},xE={exports:{}},ar={},IE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var se=z.length;z.push(Y);e:for(;0<se;){var ve=se-1>>>1,Te=z[ve];if(0<s(Te,Y))z[ve]=Y,z[se]=Te,se=ve;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],se=z.pop();if(se!==Y){z[0]=se;e:for(var ve=0,Te=z.length,W=Te>>>1;ve<W;){var He=2*(ve+1)-1,Ke=z[He],Ze=He+1,nt=z[Ze];if(0>s(Ke,se))Ze<Te&&0>s(nt,Ke)?(z[ve]=nt,z[Ze]=se,ve=Ze):(z[ve]=Ke,z[He]=se,ve=He);else if(Ze<Te&&0>s(nt,se))z[ve]=nt,z[Ze]=se,ve=Ze;else break e}}return Y}function s(z,Y){var se=z.sortIndex-Y.sortIndex;return se!==0?se:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,g=3,_=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(a,Y);else break;Y=n(u)}}function N(z){if(S=!1,T(z),!E)if(n(a)!==null)E=!0,ke(M);else{var Y=n(u);Y!==null&&ee(N,Y.startTime-z)}}function M(z,Y){E=!1,S&&(S=!1,x(y),y=-1),_=!0;var se=g;try{for(T(Y),h=n(a);h!==null&&(!(h.expirationTime>Y)||z&&!j());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,g=h.priorityLevel;var Te=ve(h.expirationTime<=Y);Y=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(a)&&r(a),T(Y)}else r(a);h=n(a)}if(h!==null)var W=!0;else{var He=n(u);He!==null&&ee(N,He.startTime-Y),W=!1}return W}finally{h=null,g=se,_=!1}}var R=!1,I=null,y=-1,k=5,A=-1;function j(){return!(t.unstable_now()-A<k)}function D(){if(I!==null){var z=t.unstable_now();A=z;var Y=!0;try{Y=I(!0,z)}finally{Y?O():(R=!1,I=null)}}else R=!1}var O;if(typeof w=="function")O=function(){w(D)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,_e=ie.port2;ie.port1.onmessage=D,O=function(){_e.postMessage(null)}}else O=function(){C(D,0)};function ke(z){I=z,R||(R=!0,O())}function ee(z,Y){y=C(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,ke(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var se=g;g=Y;try{return z()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=g;g=z;try{return Y()}finally{g=se}},t.unstable_scheduleCallback=function(z,Y,se){var ve=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ve+se:ve):se=ve,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=se+Te,z={id:d++,callback:Y,priorityLevel:z,startTime:se,expirationTime:Te,sortIndex:-1},se>ve?(z.sortIndex=se,e(u,z),n(a)===null&&z===n(u)&&(S?(x(y),y=-1):S=!0,ee(N,se-ve))):(z.sortIndex=Te,e(a,z),E||_||(E=!0,ke(M))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var Y=g;return function(){var se=g;g=Y;try{return z.apply(this,arguments)}finally{g=se}}}})(AE);IE.exports=AE;var fk=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=L,rr=fk;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,Yu={};function oa(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Yu[t]=e,t=0;t<e.length;t++)kE.add(e[t])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},$y={};function gk(t){return Pm.call($y,t)?!0:Pm.call(Fy,t)?!1:mk.test(t)?$y[t]=!0:(Fy[t]=!0,!1)}function _k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vk(t,e,n,r){if(e===null||typeof e>"u"||_k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var h_=/[\-:]([a-z])/g;function f_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(h_,f_);Zt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(h_,f_);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(h_,f_);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function p_(t,e,n,r){var s=Zt.hasOwnProperty(e)?Zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vk(e,n,s,r)&&(n=null),r||s===null?gk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oi=pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),__=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),RE=Symbol.for("react.offscreen"),Uy=Symbol.iterator;function su(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,kp;function vu(t){if(kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var Cp=!1;function Pp(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vu(t):""}function yk(t){switch(t.tag){case 5:return vu(t.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return t=Pp(t.type,!1),t;case 11:return t=Pp(t.type.render,!1),t;case 1:return t=Pp(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Na:return"Portal";case Rm:return"Profiler";case m_:return"StrictMode";case jm:return"Suspense";case Nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PE:return(t.displayName||"Context")+".Consumer";case CE:return(t._context.displayName||"Context")+".Provider";case g_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case __:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===m_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bk(t){var e=jE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xd(t){t._valueTracker||(t._valueTracker=bk(t))}function NE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dm(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function By(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OE(t,e){e=e.checked,e!=null&&p_(t,"checked",e,!1)}function Lm(t,e){OE(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||Th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yu=Array.isArray;function Ga(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(yu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function DE(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,ME=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ek=["Webkit","ms","Moz","O"];Object.keys(Pu).forEach(function(t){Ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pu[e]=Pu[t]})});function VE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pu.hasOwnProperty(t)&&Pu[t]?(""+e).trim():e+"px"}function FE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=VE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Tk=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(Tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function v_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zm=null,Ka=null,Qa=null;function Wy(t){if(t=Rc(t)){if(typeof zm!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Tf(e),zm(t.stateNode,t.type,e))}}function $E(t){Ka?Qa?Qa.push(t):Qa=[t]:Ka=t}function UE(){if(Ka){var t=Ka,e=Qa;if(Qa=Ka=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function BE(t,e){return t(e)}function zE(){}var Rp=!1;function qE(t,e,n){if(Rp)return t(e,n);Rp=!0;try{return BE(t,e,n)}finally{Rp=!1,(Ka!==null||Qa!==null)&&(zE(),UE())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var qm=!1;if(Ks)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){qm=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{qm=!1}function Sk(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ru=!1,Sh=null,xh=!1,Hm=null,xk={onError:function(t){Ru=!0,Sh=t}};function Ik(t,e,n,r,s,i,o,l,a){Ru=!1,Sh=null,Sk.apply(xk,arguments)}function Ak(t,e,n,r,s,i,o,l,a){if(Ik.apply(this,arguments),Ru){if(Ru){var u=Sh;Ru=!1,Sh=null}else throw Error(X(198));xh||(xh=!0,Hm=u)}}function aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gy(t){if(aa(t)!==t)throw Error(X(188))}function kk(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gy(s),t;if(i===r)return Gy(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function WE(t){return t=kk(t),t!==null?GE(t):null}function GE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GE(t);if(e!==null)return e;t=t.sibling}return null}var KE=rr.unstable_scheduleCallback,Ky=rr.unstable_cancelCallback,Ck=rr.unstable_shouldYield,Pk=rr.unstable_requestPaint,At=rr.unstable_now,Rk=rr.unstable_getCurrentPriorityLevel,y_=rr.unstable_ImmediatePriority,QE=rr.unstable_UserBlockingPriority,Ih=rr.unstable_NormalPriority,jk=rr.unstable_LowPriority,YE=rr.unstable_IdlePriority,yf=null,hs=null;function Nk(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:Lk,Ok=Math.log,Dk=Math.LN2;function Lk(t){return t>>>=0,t===0?32:31-(Ok(t)/Dk|0)|0}var Ad=64,kd=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=wu(l):(i&=o,i!==0&&(r=wu(i)))}else o=n&~s,o!==0?r=wu(o):i!==0&&(r=wu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),s=1<<n,r|=t[n],e&=~s;return r}function Mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kr(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Mk(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Wm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JE(){var t=Ad;return Ad<<=1,!(Ad&4194240)&&(Ad=64),t}function jp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function Fk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function w_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Qe=0;function XE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZE,b_,eT,tT,nT,Gm=!1,Cd=[],Ui=null,Bi=null,zi=null,Zu=new Map,ec=new Map,Ci=[],$k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function ou(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rc(e),e!==null&&b_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uk(t,e,n,r,s){switch(e){case"focusin":return Ui=ou(Ui,t,e,n,r,s),!0;case"dragenter":return Bi=ou(Bi,t,e,n,r,s),!0;case"mouseover":return zi=ou(zi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zu.set(i,ou(Zu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ec.set(i,ou(ec.get(i)||null,t,e,n,r,s)),!0}return!1}function rT(t){var e=Oo(t.target);if(e!==null){var n=aa(e);if(n!==null){if(e=n.tag,e===13){if(e=HE(n),e!==null){t.blockedOn=e,nT(t.priority,function(){eT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bm=r,n.target.dispatchEvent(r),Bm=null}else return e=Rc(n),e!==null&&b_(e),t.blockedOn=n,!1;e.shift()}return!0}function Yy(t,e,n){th(t)&&n.delete(e)}function Bk(){Gm=!1,Ui!==null&&th(Ui)&&(Ui=null),Bi!==null&&th(Bi)&&(Bi=null),zi!==null&&th(zi)&&(zi=null),Zu.forEach(Yy),ec.forEach(Yy)}function au(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,Bk)))}function tc(t){function e(s){return au(s,t)}if(0<Cd.length){au(Cd[0],t);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ui!==null&&au(Ui,t),Bi!==null&&au(Bi,t),zi!==null&&au(zi,t),Zu.forEach(e),ec.forEach(e),n=0;n<Ci.length;n++)r=Ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)rT(n),n.blockedOn===null&&Ci.shift()}var Ya=oi.ReactCurrentBatchConfig,kh=!0;function zk(t,e,n,r){var s=Qe,i=Ya.transition;Ya.transition=null;try{Qe=1,E_(t,e,n,r)}finally{Qe=s,Ya.transition=i}}function qk(t,e,n,r){var s=Qe,i=Ya.transition;Ya.transition=null;try{Qe=4,E_(t,e,n,r)}finally{Qe=s,Ya.transition=i}}function E_(t,e,n,r){if(kh){var s=Km(t,e,n,r);if(s===null)Bp(t,e,r,Ch,n),Qy(t,r);else if(Uk(s,t,e,n,r))r.stopPropagation();else if(Qy(t,r),e&4&&-1<$k.indexOf(t)){for(;s!==null;){var i=Rc(s);if(i!==null&&ZE(i),i=Km(t,e,n,r),i===null&&Bp(t,e,r,Ch,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bp(t,e,r,null,n)}}var Ch=null;function Km(t,e,n,r){if(Ch=null,t=v_(r),t=Oo(t),t!==null)if(e=aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ch=t,null}function sT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rk()){case y_:return 1;case QE:return 4;case Ih:case jk:return 16;case YE:return 536870912;default:return 16}default:return 16}}var Mi=null,T_=null,nh=null;function iT(){if(nh)return nh;var t,e=T_,n=e.length,r,s="value"in Mi?Mi.value:Mi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return nh=s.slice(t,1<r?1-r:void 0)}function rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pd(){return!0}function Jy(){return!1}function lr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pd:Jy,this.isPropagationStopped=Jy,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),e}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S_=lr(kl),Pc=yt({},kl,{view:0,detail:0}),Hk=lr(Pc),Np,Op,lu,wf=yt({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lu&&(lu&&t.type==="mousemove"?(Np=t.screenX-lu.screenX,Op=t.screenY-lu.screenY):Op=Np=0,lu=t),Np)},movementY:function(t){return"movementY"in t?t.movementY:Op}}),Xy=lr(wf),Wk=yt({},wf,{dataTransfer:0}),Gk=lr(Wk),Kk=yt({},Pc,{relatedTarget:0}),Dp=lr(Kk),Qk=yt({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Yk=lr(Qk),Jk=yt({},kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xk=lr(Jk),Zk=yt({},kl,{data:0}),Zy=lr(Zk),eC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nC[t])?!!e[t]:!1}function x_(){return rC}var sC=yt({},Pc,{key:function(t){if(t.key){var e=eC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x_,charCode:function(t){return t.type==="keypress"?rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iC=lr(sC),oC=yt({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=lr(oC),aC=yt({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x_}),lC=lr(aC),uC=yt({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),cC=lr(uC),dC=yt({},wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=lr(dC),fC=[9,13,27,32],I_=Ks&&"CompositionEvent"in window,ju=null;Ks&&"documentMode"in document&&(ju=document.documentMode);var pC=Ks&&"TextEvent"in window&&!ju,oT=Ks&&(!I_||ju&&8<ju&&11>=ju),tw=" ",nw=!1;function aT(t,e){switch(t){case"keyup":return fC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function mC(t,e){switch(t){case"compositionend":return lT(e);case"keypress":return e.which!==32?null:(nw=!0,tw);case"textInput":return t=e.data,t===tw&&nw?null:t;default:return null}}function gC(t,e){if(Da)return t==="compositionend"||!I_&&aT(t,e)?(t=iT(),nh=T_=Mi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oT&&e.locale!=="ko"?null:e.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_C[t.type]:e==="textarea"}function uT(t,e,n,r){$E(r),e=Ph(e,"onChange"),0<e.length&&(n=new S_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nu=null,nc=null;function vC(t){wT(t,0)}function bf(t){var e=Va(t);if(NE(e))return t}function yC(t,e){if(t==="change")return e}var cT=!1;if(Ks){var Lp;if(Ks){var Mp="oninput"in document;if(!Mp){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),Mp=typeof sw.oninput=="function"}Lp=Mp}else Lp=!1;cT=Lp&&(!document.documentMode||9<document.documentMode)}function iw(){Nu&&(Nu.detachEvent("onpropertychange",dT),nc=Nu=null)}function dT(t){if(t.propertyName==="value"&&bf(nc)){var e=[];uT(e,nc,t,v_(t)),qE(vC,e)}}function wC(t,e,n){t==="focusin"?(iw(),Nu=e,nc=n,Nu.attachEvent("onpropertychange",dT)):t==="focusout"&&iw()}function bC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(nc)}function EC(t,e){if(t==="click")return bf(e)}function TC(t,e){if(t==="input"||t==="change")return bf(e)}function SC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:SC;function rc(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pm.call(e,s)||!Yr(t[s],e[s]))return!1}return!0}function ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aw(t,e){var n=ow(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ow(n)}}function hT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fT(){for(var t=window,e=Th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Th(t.document)}return e}function A_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xC(t){var e=fT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hT(n.ownerDocument.documentElement,n)){if(r!==null&&A_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=aw(n,i);var o=aw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IC=Ks&&"documentMode"in document&&11>=document.documentMode,La=null,Qm=null,Ou=null,Ym=!1;function lw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ym||La==null||La!==Th(r)||(r=La,"selectionStart"in r&&A_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&rc(Ou,r)||(Ou=r,r=Ph(Qm,"onSelect"),0<r.length&&(e=new S_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=La)))}function Rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ma={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Vp={},pT={};Ks&&(pT=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ef(t){if(Vp[t])return Vp[t];if(!Ma[t])return t;var e=Ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pT)return Vp[t]=e[n];return t}var mT=Ef("animationend"),gT=Ef("animationiteration"),_T=Ef("animationstart"),vT=Ef("transitionend"),yT=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){yT.set(t,e),oa(e,[t])}for(var Fp=0;Fp<uw.length;Fp++){var $p=uw[Fp],AC=$p.toLowerCase(),kC=$p[0].toUpperCase()+$p.slice(1);so(AC,"on"+kC)}so(mT,"onAnimationEnd");so(gT,"onAnimationIteration");so(_T,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(vT,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CC=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function cw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ak(r,e,void 0,t),t.currentTarget=null}function wT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;cw(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;cw(s,l,u),i=a}}}if(xh)throw t=Hm,xh=!1,Hm=null,t}function ct(t,e){var n=e[tg];n===void 0&&(n=e[tg]=new Set);var r=t+"__bubble";n.has(r)||(bT(e,t,2,!1),n.add(r))}function Up(t,e,n){var r=0;e&&(r|=4),bT(n,t,r,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[jd]){t[jd]=!0,kE.forEach(function(n){n!=="selectionchange"&&(CC.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,Up("selectionchange",!1,e))}}function bT(t,e,n,r){switch(sT(e)){case 1:var s=zk;break;case 4:s=qk;break;default:s=E_}n=s.bind(null,e,n,t),s=void 0,!qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Oo(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}qE(function(){var u=i,d=v_(n),h=[];e:{var g=yT.get(t);if(g!==void 0){var _=S_,E=t;switch(t){case"keypress":if(rh(n)===0)break e;case"keydown":case"keyup":_=iC;break;case"focusin":E="focus",_=Dp;break;case"focusout":E="blur",_=Dp;break;case"beforeblur":case"afterblur":_=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Gk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=lC;break;case mT:case gT:case _T:_=Yk;break;case vT:_=cC;break;case"scroll":_=Hk;break;case"wheel":_=hC;break;case"copy":case"cut":case"paste":_=Xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=ew}var S=(e&4)!==0,C=!S&&t==="scroll",x=S?g!==null?g+"Capture":null:g;S=[];for(var w=u,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=Xu(w,x),N!=null&&S.push(ic(w,N,T)))),C)break;w=w.return}0<S.length&&(g=new _(g,E,null,n,d),h.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==Bm&&(E=n.relatedTarget||n.fromElement)&&(Oo(E)||E[Qs]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=u,E=E?Oo(E):null,E!==null&&(C=aa(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=u),_!==E)){if(S=Xy,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=ew,N="onPointerLeave",x="onPointerEnter",w="pointer"),C=_==null?g:Va(_),T=E==null?g:Va(E),g=new S(N,w+"leave",_,n,d),g.target=C,g.relatedTarget=T,N=null,Oo(d)===u&&(S=new S(x,w+"enter",E,n,d),S.target=T,S.relatedTarget=C,N=S),C=N,_&&E)t:{for(S=_,x=E,w=0,T=S;T;T=Ea(T))w++;for(T=0,N=x;N;N=Ea(N))T++;for(;0<w-T;)S=Ea(S),w--;for(;0<T-w;)x=Ea(x),T--;for(;w--;){if(S===x||x!==null&&S===x.alternate)break t;S=Ea(S),x=Ea(x)}S=null}else S=null;_!==null&&dw(h,g,_,S,!1),E!==null&&C!==null&&dw(h,C,E,S,!0)}}e:{if(g=u?Va(u):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var M=yC;else if(rw(g))if(cT)M=TC;else{M=bC;var R=wC}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=EC);if(M&&(M=M(t,u))){uT(h,M,n,d);break e}R&&R(t,g,u),t==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&Mm(g,"number",g.value)}switch(R=u?Va(u):window,t){case"focusin":(rw(R)||R.contentEditable==="true")&&(La=R,Qm=u,Ou=null);break;case"focusout":Ou=Qm=La=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,lw(h,n,d);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":lw(h,n,d)}var I;if(I_)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Da?aT(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(oT&&n.locale!=="ko"&&(Da||y!=="onCompositionStart"?y==="onCompositionEnd"&&Da&&(I=iT()):(Mi=d,T_="value"in Mi?Mi.value:Mi.textContent,Da=!0)),R=Ph(u,y),0<R.length&&(y=new Zy(y,t,null,n,d),h.push({event:y,listeners:R}),I?y.data=I:(I=lT(n),I!==null&&(y.data=I)))),(I=pC?mC(t,n):gC(t,n))&&(u=Ph(u,"onBeforeInput"),0<u.length&&(d=new Zy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}wT(h,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xu(t,n),i!=null&&r.unshift(ic(t,i,s)),i=Xu(t,e),i!=null&&r.push(ic(t,i,s))),t=t.return}return r}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Xu(n,i),a!=null&&o.unshift(ic(n,a,l))):s||(a=Xu(n,i),a!=null&&o.push(ic(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function hw(t){return(typeof t=="string"?t:""+t).replace(PC,`
`).replace(RC,"")}function Nd(t,e,n){if(e=hw(e),hw(t)!==e&&n)throw Error(X(425))}function Rh(){}var Jm=null,Xm=null;function Zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,fw=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof fw<"u"?function(t){return fw.resolve(null).then(t).catch(OC)}:eg;function OC(t){setTimeout(function(){throw t})}function zp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tc(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),cs="__reactFiber$"+Cl,oc="__reactProps$"+Cl,Qs="__reactContainer$"+Cl,tg="__reactEvents$"+Cl,DC="__reactListeners$"+Cl,LC="__reactHandles$"+Cl;function Oo(t){var e=t[cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qs]||n[cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pw(t);t!==null;){if(n=t[cs])return n;t=pw(t)}return e}t=n,n=t.parentNode}return null}function Rc(t){return t=t[cs]||t[Qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Tf(t){return t[oc]||null}var ng=[],Fa=-1;function io(t){return{current:t}}function dt(t){0>Fa||(t.current=ng[Fa],ng[Fa]=null,Fa--)}function ot(t,e){Fa++,ng[Fa]=t.current,t.current=e}var eo={},hn=io(eo),$n=io(!1),qo=eo;function ol(t,e){var n=t.type.contextTypes;if(!n)return eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Un(t){return t=t.childContextTypes,t!=null}function jh(){dt($n),dt(hn)}function mw(t,e,n){if(hn.current!==eo)throw Error(X(168));ot(hn,e),ot($n,n)}function ET(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,wk(t)||"Unknown",s));return yt({},n,r)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||eo,qo=hn.current,ot(hn,t),ot($n,$n.current),!0}function gw(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=ET(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,dt($n),dt(hn),ot(hn,t)):dt($n),ot($n,n)}var Ms=null,Sf=!1,qp=!1;function TT(t){Ms===null?Ms=[t]:Ms.push(t)}function MC(t){Sf=!0,TT(t)}function oo(){if(!qp&&Ms!==null){qp=!0;var t=0,e=Qe;try{var n=Ms;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ms=null,Sf=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(t+1)),KE(y_,oo),s}finally{Qe=e,qp=!1}}return null}var $a=[],Ua=0,Oh=null,Dh=0,yr=[],wr=0,Ho=null,Vs=1,Fs="";function ko(t,e){$a[Ua++]=Dh,$a[Ua++]=Oh,Oh=t,Dh=e}function ST(t,e,n){yr[wr++]=Vs,yr[wr++]=Fs,yr[wr++]=Ho,Ho=t;var r=Vs;t=Fs;var s=32-Kr(r)-1;r&=~(1<<s),n+=1;var i=32-Kr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vs=1<<32-Kr(e)+s|n<<s|r,Fs=i+t}else Vs=1<<i|n<<s|r,Fs=t}function k_(t){t.return!==null&&(ko(t,1),ST(t,1,0))}function C_(t){for(;t===Oh;)Oh=$a[--Ua],$a[Ua]=null,Dh=$a[--Ua],$a[Ua]=null;for(;t===Ho;)Ho=yr[--wr],yr[wr]=null,Fs=yr[--wr],yr[wr]=null,Vs=yr[--wr],yr[wr]=null}var tr=null,er=null,pt=!1,Wr=null;function xT(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,er=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:Vs,overflow:Fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,er=null,!0):!1;default:return!1}}function rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(pt){var e=er;if(e){var n=e;if(!_w(t,e)){if(rg(t))throw Error(X(418));e=qi(n.nextSibling);var r=tr;e&&_w(t,e)?xT(r,n):(t.flags=t.flags&-4097|2,pt=!1,tr=t)}}else{if(rg(t))throw Error(X(418));t.flags=t.flags&-4097|2,pt=!1,tr=t}}}function vw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Od(t){if(t!==tr)return!1;if(!pt)return vw(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zm(t.type,t.memoizedProps)),e&&(e=er)){if(rg(t))throw IT(),Error(X(418));for(;e;)xT(t,e),e=qi(e.nextSibling)}if(vw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){er=qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}er=null}}else er=tr?qi(t.stateNode.nextSibling):null;return!0}function IT(){for(var t=er;t;)t=qi(t.nextSibling)}function al(){er=tr=null,pt=!1}function P_(t){Wr===null?Wr=[t]:Wr.push(t)}var VC=oi.ReactCurrentBatchConfig;function uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Dd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function AT(t){function e(x,w){if(t){var T=x.deletions;T===null?(x.deletions=[w],x.flags|=16):T.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Ki(x,w),x.index=0,x.sibling=null,x}function i(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags|=2,w):T):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,T,N){return w===null||w.tag!==6?(w=Jp(T,x.mode,N),w.return=x,w):(w=s(w,T),w.return=x,w)}function a(x,w,T,N){var M=T.type;return M===Oa?d(x,w,T.props.children,N,T.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ii&&yw(M)===w.type)?(N=s(w,T.props),N.ref=uu(x,w,T),N.return=x,N):(N=ch(T.type,T.key,T.props,null,x.mode,N),N.ref=uu(x,w,T),N.return=x,N)}function u(x,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Xp(T,x.mode,N),w.return=x,w):(w=s(w,T.children||[]),w.return=x,w)}function d(x,w,T,N,M){return w===null||w.tag!==7?(w=Uo(T,x.mode,N,M),w.return=x,w):(w=s(w,T),w.return=x,w)}function h(x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jp(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sd:return T=ch(w.type,w.key,w.props,null,x.mode,T),T.ref=uu(x,null,w),T.return=x,T;case Na:return w=Xp(w,x.mode,T),w.return=x,w;case Ii:var N=w._init;return h(x,N(w._payload),T)}if(yu(w)||su(w))return w=Uo(w,x.mode,T,null),w.return=x,w;Dd(x,w)}return null}function g(x,w,T,N){var M=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:l(x,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sd:return T.key===M?a(x,w,T,N):null;case Na:return T.key===M?u(x,w,T,N):null;case Ii:return M=T._init,g(x,w,M(T._payload),N)}if(yu(T)||su(T))return M!==null?null:d(x,w,T,N,null);Dd(x,T)}return null}function _(x,w,T,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,l(w,x,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sd:return x=x.get(N.key===null?T:N.key)||null,a(w,x,N,M);case Na:return x=x.get(N.key===null?T:N.key)||null,u(w,x,N,M);case Ii:var R=N._init;return _(x,w,T,R(N._payload),M)}if(yu(N)||su(N))return x=x.get(T)||null,d(w,x,N,M,null);Dd(w,N)}return null}function E(x,w,T,N){for(var M=null,R=null,I=w,y=w=0,k=null;I!==null&&y<T.length;y++){I.index>y?(k=I,I=null):k=I.sibling;var A=g(x,I,T[y],N);if(A===null){I===null&&(I=k);break}t&&I&&A.alternate===null&&e(x,I),w=i(A,w,y),R===null?M=A:R.sibling=A,R=A,I=k}if(y===T.length)return n(x,I),pt&&ko(x,y),M;if(I===null){for(;y<T.length;y++)I=h(x,T[y],N),I!==null&&(w=i(I,w,y),R===null?M=I:R.sibling=I,R=I);return pt&&ko(x,y),M}for(I=r(x,I);y<T.length;y++)k=_(I,x,y,T[y],N),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?y:k.key),w=i(k,w,y),R===null?M=k:R.sibling=k,R=k);return t&&I.forEach(function(j){return e(x,j)}),pt&&ko(x,y),M}function S(x,w,T,N){var M=su(T);if(typeof M!="function")throw Error(X(150));if(T=M.call(T),T==null)throw Error(X(151));for(var R=M=null,I=w,y=w=0,k=null,A=T.next();I!==null&&!A.done;y++,A=T.next()){I.index>y?(k=I,I=null):k=I.sibling;var j=g(x,I,A.value,N);if(j===null){I===null&&(I=k);break}t&&I&&j.alternate===null&&e(x,I),w=i(j,w,y),R===null?M=j:R.sibling=j,R=j,I=k}if(A.done)return n(x,I),pt&&ko(x,y),M;if(I===null){for(;!A.done;y++,A=T.next())A=h(x,A.value,N),A!==null&&(w=i(A,w,y),R===null?M=A:R.sibling=A,R=A);return pt&&ko(x,y),M}for(I=r(x,I);!A.done;y++,A=T.next())A=_(I,x,y,A.value,N),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?y:A.key),w=i(A,w,y),R===null?M=A:R.sibling=A,R=A);return t&&I.forEach(function(D){return e(x,D)}),pt&&ko(x,y),M}function C(x,w,T,N){if(typeof T=="object"&&T!==null&&T.type===Oa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sd:e:{for(var M=T.key,R=w;R!==null;){if(R.key===M){if(M=T.type,M===Oa){if(R.tag===7){n(x,R.sibling),w=s(R,T.props.children),w.return=x,x=w;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ii&&yw(M)===R.type){n(x,R.sibling),w=s(R,T.props),w.ref=uu(x,R,T),w.return=x,x=w;break e}n(x,R);break}else e(x,R);R=R.sibling}T.type===Oa?(w=Uo(T.props.children,x.mode,N,T.key),w.return=x,x=w):(N=ch(T.type,T.key,T.props,null,x.mode,N),N.ref=uu(x,w,T),N.return=x,x=N)}return o(x);case Na:e:{for(R=T.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=s(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Xp(T,x.mode,N),w.return=x,x=w}return o(x);case Ii:return R=T._init,C(x,w,R(T._payload),N)}if(yu(T))return E(x,w,T,N);if(su(T))return S(x,w,T,N);Dd(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,T),w.return=x,x=w):(n(x,w),w=Jp(T,x.mode,N),w.return=x,x=w),o(x)):n(x,w)}return C}var ll=AT(!0),kT=AT(!1),Lh=io(null),Mh=null,Ba=null,R_=null;function j_(){R_=Ba=Mh=null}function N_(t){var e=Lh.current;dt(Lh),t._currentValue=e}function ig(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){Mh=t,R_=Ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(R_!==t)if(t={context:t,memoizedValue:e,next:null},Ba===null){if(Mh===null)throw Error(X(308));Ba=t,Mh.dependencies={lanes:0,firstContext:t}}else Ba=Ba.next=t;return e}var Do=null;function O_(t){Do===null?Do=[t]:Do.push(t)}function CT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,O_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function D_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ys(t,n)}return s=r.interleaved,s===null?(e.next=e,O_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ys(t,n)}function sh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w_(t,n)}}function ww(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vh(t,e,n,r){var s=t.updateQueue;Ai=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,_=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,S=l;switch(g=e,_=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(_,h,g);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,g=typeof E=="function"?E.call(_,h,g):E,g==null)break e;h=yt({},h,g);break e;case 2:Ai=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=_,a=h):d=d.next=_,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Go|=o,t.lanes=o,t.memoizedState=h}}function bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var jc={},fs=io(jc),ac=io(jc),lc=io(jc);function Lo(t){if(t===jc)throw Error(X(174));return t}function L_(t,e){switch(ot(lc,e),ot(ac,t),ot(fs,jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}dt(fs),ot(fs,e)}function ul(){dt(fs),dt(ac),dt(lc)}function RT(t){Lo(lc.current);var e=Lo(fs.current),n=Fm(e,t.type);e!==n&&(ot(ac,t),ot(fs,n))}function M_(t){ac.current===t&&(dt(fs),dt(ac))}var _t=io(0);function Fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function V_(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var ih=oi.ReactCurrentDispatcher,Wp=oi.ReactCurrentBatchConfig,Wo=0,vt=null,Vt=null,Ht=null,$h=!1,Du=!1,uc=0,FC=0;function sn(){throw Error(X(321))}function F_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function $_(t,e,n,r,s,i){if(Wo=i,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ih.current=t===null||t.memoizedState===null?zC:qC,t=n(r,s),Du){i=0;do{if(Du=!1,uc=0,25<=i)throw Error(X(301));i+=1,Ht=Vt=null,e.updateQueue=null,ih.current=HC,t=n(r,s)}while(Du)}if(ih.current=Uh,e=Vt!==null&&Vt.next!==null,Wo=0,Ht=Vt=vt=null,$h=!1,e)throw Error(X(300));return t}function U_(){var t=uc!==0;return uc=0,t}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Ir(){if(Vt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,Vt=t;else{if(t===null)throw Error(X(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function cc(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=Ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((Wo&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,vt.lanes|=d,Go|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Yr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,vt.lanes|=i,Go|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kp(t){var e=Ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yr(i,e.memoizedState)||(Fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function jT(){}function NT(t,e){var n=vt,r=Ir(),s=e(),i=!Yr(r.memoizedState,s);if(i&&(r.memoizedState=s,Fn=!0),r=r.queue,B_(LT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,dc(9,DT.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(X(349));Wo&30||OT(n,e,s)}return s}function OT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DT(t,e,n,r){e.value=n,e.getSnapshot=r,MT(e)&&VT(t)}function LT(t,e,n){return n(function(){MT(e)&&VT(t)})}function MT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function VT(t){var e=Ys(t,1);e!==null&&Qr(e,t,1,-1)}function Ew(t){var e=us();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},e.queue=t,t=t.dispatch=BC.bind(null,vt,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FT(){return Ir().memoizedState}function oh(t,e,n,r){var s=us();vt.flags|=t,s.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function xf(t,e,n,r){var s=Ir();r=r===void 0?null:r;var i=void 0;if(Vt!==null){var o=Vt.memoizedState;if(i=o.destroy,r!==null&&F_(r,o.deps)){s.memoizedState=dc(e,n,i,r);return}}vt.flags|=t,s.memoizedState=dc(1|e,n,i,r)}function Tw(t,e){return oh(8390656,8,t,e)}function B_(t,e){return xf(2048,8,t,e)}function $T(t,e){return xf(4,2,t,e)}function UT(t,e){return xf(4,4,t,e)}function BT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zT(t,e,n){return n=n!=null?n.concat([t]):null,xf(4,4,BT.bind(null,e,t),n)}function z_(){}function qT(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HT(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WT(t,e,n){return Wo&21?(Yr(n,e)||(n=JE(),vt.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function $C(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Wp.transition;Wp.transition={};try{t(!1),e()}finally{Qe=n,Wp.transition=r}}function GT(){return Ir().memoizedState}function UC(t,e,n){var r=Gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KT(t))QT(e,n);else if(n=CT(t,e,n,r),n!==null){var s=Sn();Qr(n,t,r,s),YT(n,e,r)}}function BC(t,e,n){var r=Gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KT(t))QT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,o)){var a=e.interleaved;a===null?(s.next=s,O_(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=CT(t,e,s,r),n!==null&&(s=Sn(),Qr(n,t,r,s),YT(n,e,r))}}function KT(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function QT(t,e){Du=$h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w_(t,n)}}var Uh={readContext:xr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},zC={readContext:xr,useCallback:function(t,e){return us().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:Tw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oh(4194308,4,BT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oh(4194308,4,t,e)},useInsertionEffect:function(t,e){return oh(4,2,t,e)},useMemo:function(t,e){var n=us();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=us();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UC.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=us();return t={current:t},e.memoizedState=t},useState:Ew,useDebugValue:z_,useDeferredValue:function(t){return us().memoizedState=t},useTransition:function(){var t=Ew(!1),e=t[0];return t=$C.bind(null,t[1]),us().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,s=us();if(pt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Wt===null)throw Error(X(349));Wo&30||OT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Tw(LT.bind(null,r,i,t),[t]),r.flags|=2048,dc(9,DT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=us(),e=Wt.identifierPrefix;if(pt){var n=Fs,r=Vs;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qC={readContext:xr,useCallback:qT,useContext:xr,useEffect:B_,useImperativeHandle:zT,useInsertionEffect:$T,useLayoutEffect:UT,useMemo:HT,useReducer:Gp,useRef:FT,useState:function(){return Gp(cc)},useDebugValue:z_,useDeferredValue:function(t){var e=Ir();return WT(e,Vt.memoizedState,t)},useTransition:function(){var t=Gp(cc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:NT,useId:GT,unstable_isNewReconciler:!1},HC={readContext:xr,useCallback:qT,useContext:xr,useEffect:B_,useImperativeHandle:zT,useInsertionEffect:$T,useLayoutEffect:UT,useMemo:HT,useReducer:Kp,useRef:FT,useState:function(){return Kp(cc)},useDebugValue:z_,useDeferredValue:function(t){var e=Ir();return Vt===null?e.memoizedState=t:WT(e,Vt.memoizedState,t)},useTransition:function(){var t=Kp(cc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:NT,useId:GT,unstable_isNewReconciler:!1};function Br(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),s=Gi(t),i=Hs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hi(t,i,s),e!==null&&(Qr(e,t,s,r),sh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),s=Gi(t),i=Hs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hi(t,i,s),e!==null&&(Qr(e,t,s,r),sh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Gi(t),s=Hs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hi(t,s,r),e!==null&&(Qr(e,t,r,n),sh(e,t,r))}};function Sw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(s,i):!0}function JT(t,e,n){var r=!1,s=eo,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=Un(e)?qo:hn.current,r=e.contextTypes,i=(r=r!=null)?ol(t,s):eo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function ag(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},D_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=Un(e)?qo:hn.current,s.context=ol(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(og(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&If.enqueueReplaceState(s,s.state,null),Vh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=yk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WC=typeof WeakMap=="function"?WeakMap:Map;function XT(t,e,n){n=Hs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zh||(zh=!0,vg=r),lg(t,e)},n}function ZT(t,e,n){n=Hs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=oP.bind(null,t,e,n),e.then(t,t))}function Aw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hs(-1,1),e.tag=2,Hi(n,e,1))),n.lanes|=1),t)}var GC=oi.ReactCurrentOwner,Fn=!1;function Tn(t,e,n,r){e.child=t===null?kT(e,null,n,r):ll(e,t.child,n,r)}function Cw(t,e,n,r,s){n=n.render;var i=e.ref;return Ja(e,s),r=$_(t,e,n,r,i,s),n=U_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Js(t,e,s)):(pt&&n&&k_(e),e.flags|=1,Tn(t,e,r,s),e.child)}function Pw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!J_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,eS(t,e,i,r,s)):(t=ch(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(o,r)&&t.ref===e.ref)return Js(t,e,s)}return e.flags|=1,t=Ki(i,r),t.ref=e.ref,t.return=e,e.child=t}function eS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(rc(i,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,Js(t,e,s)}return ug(t,e,n,r,s)}function tS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(qa,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(qa,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ot(qa,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ot(qa,Yn),Yn|=r;return Tn(t,e,s,n),e.child}function nS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,r,s){var i=Un(n)?qo:hn.current;return i=ol(e,i),Ja(e,s),n=$_(t,e,n,r,i,s),r=U_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Js(t,e,s)):(pt&&r&&k_(e),e.flags|=1,Tn(t,e,n,s),e.child)}function Rw(t,e,n,r,s){if(Un(n)){var i=!0;Nh(e)}else i=!1;if(Ja(e,s),e.stateNode===null)ah(t,e),JT(e,n,r),ag(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xr(u):(u=Un(n)?qo:hn.current,u=ol(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&xw(e,o,r,u),Ai=!1;var g=e.memoizedState;o.state=g,Vh(e,r,o,s),a=e.memoizedState,l!==r||g!==a||$n.current||Ai?(typeof d=="function"&&(og(e,n,d,r),a=e.memoizedState),(l=Ai||Sw(e,n,l,r,g,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Br(e.type,l),o.props=u,h=e.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=xr(a):(a=Un(n)?qo:hn.current,a=ol(e,a));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==a)&&xw(e,o,r,a),Ai=!1,g=e.memoizedState,o.state=g,Vh(e,r,o,s);var E=e.memoizedState;l!==h||g!==E||$n.current||Ai?(typeof _=="function"&&(og(e,n,_,r),E=e.memoizedState),(u=Ai||Sw(e,n,u,r,g,E,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return cg(t,e,n,r,i,s)}function cg(t,e,n,r,s,i){nS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gw(e,n,!1),Js(t,e,i);r=e.stateNode,GC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ll(e,t.child,null,i),e.child=ll(e,null,l,i)):Tn(t,e,l,i),e.memoizedState=r.state,s&&gw(e,n,!0),e.child}function rS(t){var e=t.stateNode;e.pendingContext?mw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mw(t,e.context,!1),L_(t,e.containerInfo)}function jw(t,e,n,r,s){return al(),P_(s),e.flags|=256,Tn(t,e,n,r),e.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function hg(t){return{baseLanes:t,cachePool:null,transitions:null}}function sS(t,e,n){var r=e.pendingProps,s=_t.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ot(_t,s&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cf(o,r,0,null),t=Uo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hg(n),e.memoizedState=dg,t):q_(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return KC(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ki(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ki(l,i):(i=Uo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?hg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dg,r}return i=t.child,t=i.sibling,r=Ki(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function q_(t,e){return e=Cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ld(t,e,n,r){return r!==null&&P_(r),ll(e,t.child,null,n),t=q_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qp(Error(X(422))),Ld(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cf({mode:"visible",children:r.children},s,0,null),i=Uo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ll(e,t.child,null,o),e.child.memoizedState=hg(o),e.memoizedState=dg,i);if(!(e.mode&1))return Ld(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(X(419)),r=Qp(i,r,void 0),Ld(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fn||l){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ys(t,s),Qr(r,t,s,-1))}return Y_(),r=Qp(Error(X(421))),Ld(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=aP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,er=qi(s.nextSibling),tr=e,pt=!0,Wr=null,t!==null&&(yr[wr++]=Vs,yr[wr++]=Fs,yr[wr++]=Ho,Vs=t.id,Fs=t.overflow,Ho=e),e=q_(e,r.children),e.flags|=4096,e)}function Nw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ig(t.return,e,n)}function Yp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nw(t,n,e);else if(t.tag===19)Nw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yp(e,!0,n,null,i);break;case"together":Yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QC(t,e,n){switch(e.tag){case 3:rS(e),al();break;case 5:RT(e);break;case 1:Un(e.type)&&Nh(e);break;case 4:L_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ot(Lh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?sS(t,e,n):(ot(_t,_t.current&1),t=Js(t,e,n),t!==null?t.sibling:null);ot(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,tS(t,e,n)}return Js(t,e,n)}var oS,fg,aS,lS;oS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};aS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Lo(fs.current);var i=null;switch(n){case"input":s=Dm(t,s),r=Dm(t,r),i=[];break;case"select":s=yt({},s,{value:void 0}),r=yt({},r,{value:void 0}),i=[];break;case"textarea":s=Vm(t,s),r=Vm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}$m(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ct("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};lS=function(t,e,n,r){n!==r&&(e.flags|=4)};function cu(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YC(t,e,n){var r=e.pendingProps;switch(C_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Un(e.type)&&jh(),on(e),null;case 3:return r=e.stateNode,ul(),dt($n),dt(hn),V_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(bg(Wr),Wr=null))),fg(t,e),on(e),null;case 5:M_(e);var s=Lo(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)aS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return on(e),null}if(t=Lo(fs.current),Od(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cs]=e,r[oc]=i,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<bu.length;s++)ct(bu[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":By(r,i),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ct("invalid",r);break;case"textarea":qy(r,i),ct("invalid",r)}$m(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,l,t),s=["children",""+l]):Yu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":xd(r),zy(r,i,!0);break;case"textarea":xd(r),Hy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cs]=e,t[oc]=r,oS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Um(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<bu.length;s++)ct(bu[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":By(t,r),s=Dm(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=yt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":qy(t,r),s=Vm(t,r),ct("invalid",t);break;default:s=r}$m(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?FE(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ME(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ju(t,a):typeof a=="number"&&Ju(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yu.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ct("scroll",t):a!=null&&p_(t,i,a,o))}switch(n){case"input":xd(t),zy(t,r,!1);break;case"textarea":xd(t),Hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ga(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)lS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Lo(lc.current),Lo(fs.current),Od(e)){if(r=e.stateNode,n=e.memoizedProps,r[cs]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cs]=e,e.stateNode=r}return on(e),null;case 13:if(dt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&er!==null&&e.mode&1&&!(e.flags&128))IT(),al(),e.flags|=98560,i=!1;else if(i=Od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[cs]=e}else al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),i=!1}else Wr!==null&&(bg(Wr),Wr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ft===0&&(Ft=3):Y_())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return ul(),fg(t,e),t===null&&sc(e.stateNode.containerInfo),on(e),null;case 10:return N_(e.type._context),on(e),null;case 17:return Un(e.type)&&jh(),on(e),null;case 19:if(dt(_t),i=e.memoizedState,i===null)return on(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)cu(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fh(t),o!==null){for(e.flags|=128,cu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(_t,_t.current&1|2),e.child}t=t.sibling}i.tail!==null&&At()>dl&&(e.flags|=128,r=!0,cu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pt)return on(e),null}else 2*At()-i.renderingStartTime>dl&&n!==1073741824&&(e.flags|=128,r=!0,cu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,n=_t.current,ot(_t,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return Q_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function JC(t,e){switch(C_(e),e.tag){case 1:return Un(e.type)&&jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ul(),dt($n),dt(hn),V_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M_(e),null;case 13:if(dt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(_t),null;case 4:return ul(),null;case 10:return N_(e.type._context),null;case 22:case 23:return Q_(),null;case 24:return null;default:return null}}var Md=!1,cn=!1,XC=typeof WeakSet=="function"?WeakSet:Set,ae=null;function za(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function pg(t,e,n){try{n()}catch(r){Et(t,e,r)}}var Ow=!1;function ZC(t,e){if(Jm=kh,t=fT(),A_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,g=null;t:for(;;){for(var _;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)g=h,h=_;for(;;){if(h===t)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(a=o),(_=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},kh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:Br(e.type,S),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(N){Et(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return E=Ow,Ow=!1,E}function Lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&pg(e,n,i)}s=s.next}while(s!==r)}}function Af(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uS(t){var e=t.alternate;e!==null&&(t.alternate=null,uS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[oc],delete e[tg],delete e[DC],delete e[LC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cS(t){return t.tag===5||t.tag===3||t.tag===4}function Dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}function _g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}var Kt=null,zr=!1;function Ei(t,e,n){for(n=n.child;n!==null;)dS(t,e,n),n=n.sibling}function dS(t,e,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(yf,n)}catch{}switch(n.tag){case 5:cn||za(n,e);case 6:var r=Kt,s=zr;Kt=null,Ei(t,e,n),Kt=r,zr=s,Kt!==null&&(zr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(zr?(t=Kt,n=n.stateNode,t.nodeType===8?zp(t.parentNode,n):t.nodeType===1&&zp(t,n),tc(t)):zp(Kt,n.stateNode));break;case 4:r=Kt,s=zr,Kt=n.stateNode.containerInfo,zr=!0,Ei(t,e,n),Kt=r,zr=s;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pg(n,e,o),s=s.next}while(s!==r)}Ei(t,e,n);break;case 1:if(!cn&&(za(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Et(n,e,l)}Ei(t,e,n);break;case 21:Ei(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Ei(t,e,n),cn=r):Ei(t,e,n);break;default:Ei(t,e,n)}}function Lw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XC),e.forEach(function(r){var s=lP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,zr=!1;break e;case 3:Kt=l.stateNode.containerInfo,zr=!0;break e;case 4:Kt=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(Kt===null)throw Error(X(160));dS(i,o,s),Kt=null,zr=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hS(e,t),e=e.sibling}function hS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),ls(t),r&4){try{Lu(3,t,t.return),Af(3,t)}catch(S){Et(t,t.return,S)}try{Lu(5,t,t.return)}catch(S){Et(t,t.return,S)}}break;case 1:$r(e,t),ls(t),r&512&&n!==null&&za(n,n.return);break;case 5:if($r(e,t),ls(t),r&512&&n!==null&&za(n,n.return),t.flags&32){var s=t.stateNode;try{Ju(s,"")}catch(S){Et(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&OE(s,i),Um(l,o);var u=Um(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?FE(s,h):d==="dangerouslySetInnerHTML"?ME(s,h):d==="children"?Ju(s,h):p_(s,d,h,u)}switch(l){case"input":Lm(s,i);break;case"textarea":DE(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Ga(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ga(s,!!i.multiple,i.defaultValue,!0):Ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[oc]=i}catch(S){Et(t,t.return,S)}}break;case 6:if($r(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Et(t,t.return,S)}}break;case 3:if($r(e,t),ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(S){Et(t,t.return,S)}break;case 4:$r(e,t),ls(t);break;case 13:$r(e,t),ls(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(G_=At())),r&4&&Lw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||d,$r(e,t),cn=u):$r(e,t),ls(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(h=ae=d;ae!==null;){switch(g=ae,_=g.child,g.tag){case 0:case 11:case 14:case 15:Lu(4,g,g.return);break;case 1:za(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){Et(r,n,S)}}break;case 5:za(g,g.return);break;case 22:if(g.memoizedState!==null){Vw(h);continue}}_!==null?(_.return=g,ae=_):Vw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=VE("display",o))}catch(S){Et(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Et(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$r(e,t),ls(t),r&4&&Lw(t);break;case 21:break;default:$r(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ju(s,""),r.flags&=-33);var i=Dw(t);_g(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Dw(t);gg(t,l,o);break;default:throw Error(X(161))}}catch(a){Et(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eP(t,e,n){ae=t,fS(t)}function fS(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Md;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||cn;l=Md;var u=cn;if(Md=o,(cn=a)&&!u)for(ae=s;ae!==null;)o=ae,a=o.child,o.tag===22&&o.memoizedState!==null?Fw(s):a!==null?(a.return=o,ae=a):Fw(s);for(;i!==null;)ae=i,fS(i),i=i.sibling;ae=s,Md=l,cn=u}Mw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):Mw(t)}}function Mw(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Af(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Br(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}cn||e.flags&512&&mg(e)}catch(g){Et(e,e.return,g)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Vw(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Fw(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Af(4,e)}catch(a){Et(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Et(e,s,a)}}var i=e.return;try{mg(e)}catch(a){Et(e,i,a)}break;case 5:var o=e.return;try{mg(e)}catch(a){Et(e,o,a)}}}catch(a){Et(e,e.return,a)}if(e===t){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var tP=Math.ceil,Bh=oi.ReactCurrentDispatcher,H_=oi.ReactCurrentOwner,Tr=oi.ReactCurrentBatchConfig,Be=0,Wt=null,Rt=null,Jt=0,Yn=0,qa=io(0),Ft=0,hc=null,Go=0,kf=0,W_=0,Mu=null,Mn=null,G_=0,dl=1/0,Ds=null,zh=!1,vg=null,Wi=null,Vd=!1,Vi=null,qh=0,Vu=0,yg=null,lh=-1,uh=0;function Sn(){return Be&6?At():lh!==-1?lh:lh=At()}function Gi(t){return t.mode&1?Be&2&&Jt!==0?Jt&-Jt:VC.transition!==null?(uh===0&&(uh=JE()),uh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:sT(t.type)),t):1}function Qr(t,e,n,r){if(50<Vu)throw Vu=0,yg=null,Error(X(185));Cc(t,n,r),(!(Be&2)||t!==Wt)&&(t===Wt&&(!(Be&2)&&(kf|=n),Ft===4&&Pi(t,Jt)),Bn(t,r),n===1&&Be===0&&!(e.mode&1)&&(dl=At()+500,Sf&&oo()))}function Bn(t,e){var n=t.callbackNode;Vk(t,e);var r=Ah(t,t===Wt?Jt:0);if(r===0)n!==null&&Ky(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ky(n),e===1)t.tag===0?MC($w.bind(null,t)):TT($w.bind(null,t)),NC(function(){!(Be&6)&&oo()}),n=null;else{switch(XE(r)){case 1:n=y_;break;case 4:n=QE;break;case 16:n=Ih;break;case 536870912:n=YE;break;default:n=Ih}n=bS(n,pS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pS(t,e){if(lh=-1,uh=0,Be&6)throw Error(X(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Ah(t,t===Wt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hh(t,r);else{e=r;var s=Be;Be|=2;var i=gS();(Wt!==t||Jt!==e)&&(Ds=null,dl=At()+500,$o(t,e));do try{sP();break}catch(l){mS(t,l)}while(!0);j_(),Bh.current=i,Be=s,Rt!==null?e=0:(Wt=null,Jt=0,e=Ft)}if(e!==0){if(e===2&&(s=Wm(t),s!==0&&(r=s,e=wg(t,s))),e===1)throw n=hc,$o(t,0),Pi(t,r),Bn(t,At()),n;if(e===6)Pi(t,r);else{if(s=t.current.alternate,!(r&30)&&!nP(s)&&(e=Hh(t,r),e===2&&(i=Wm(t),i!==0&&(r=i,e=wg(t,i))),e===1))throw n=hc,$o(t,0),Pi(t,r),Bn(t,At()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Co(t,Mn,Ds);break;case 3:if(Pi(t,r),(r&130023424)===r&&(e=G_+500-At(),10<e)){if(Ah(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=eg(Co.bind(null,t,Mn,Ds),e);break}Co(t,Mn,Ds);break;case 4:if(Pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tP(r/1960))-r,10<r){t.timeoutHandle=eg(Co.bind(null,t,Mn,Ds),r);break}Co(t,Mn,Ds);break;case 5:Co(t,Mn,Ds);break;default:throw Error(X(329))}}}return Bn(t,At()),t.callbackNode===n?pS.bind(null,t):null}function wg(t,e){var n=Mu;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=Hh(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&bg(e)),t}function bg(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function nP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~W_,e&=~kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function $w(t){if(Be&6)throw Error(X(327));Xa();var e=Ah(t,0);if(!(e&1))return Bn(t,At()),null;var n=Hh(t,e);if(t.tag!==0&&n===2){var r=Wm(t);r!==0&&(e=r,n=wg(t,r))}if(n===1)throw n=hc,$o(t,0),Pi(t,e),Bn(t,At()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,Mn,Ds),Bn(t,At()),null}function K_(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(dl=At()+500,Sf&&oo())}}function Ko(t){Vi!==null&&Vi.tag===0&&!(Be&6)&&Xa();var e=Be;Be|=1;var n=Tr.transition,r=Qe;try{if(Tr.transition=null,Qe=1,t)return t()}finally{Qe=r,Tr.transition=n,Be=e,!(Be&6)&&oo()}}function Q_(){Yn=qa.current,dt(qa)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jC(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(C_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jh();break;case 3:ul(),dt($n),dt(hn),V_();break;case 5:M_(r);break;case 4:ul();break;case 13:dt(_t);break;case 19:dt(_t);break;case 10:N_(r.type._context);break;case 22:case 23:Q_()}n=n.return}if(Wt=t,Rt=t=Ki(t.current,null),Jt=Yn=e,Ft=0,hc=null,W_=kf=Go=0,Mn=Mu=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Do=null}return t}function mS(t,e){do{var n=Rt;try{if(j_(),ih.current=Uh,$h){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$h=!1}if(Wo=0,Ht=Vt=vt=null,Du=!1,uc=0,H_.current=null,n===null||n.return===null){Ft=1,hc=e,Rt=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Jt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Aw(o);if(_!==null){_.flags&=-257,kw(_,o,l,i,e),_.mode&1&&Iw(i,u,e),e=_,a=u;var E=e.updateQueue;if(E===null){var S=new Set;S.add(a),e.updateQueue=S}else E.add(a);break e}else{if(!(e&1)){Iw(i,u,e),Y_();break e}a=Error(X(426))}}else if(pt&&l.mode&1){var C=Aw(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),kw(C,o,l,i,e),P_(cl(a,l));break e}}i=a=cl(a,l),Ft!==4&&(Ft=2),Mu===null?Mu=[i]:Mu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=XT(i,a,e);ww(i,x);break e;case 1:l=a;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Wi===null||!Wi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=ZT(i,l,e);ww(i,N);break e}}i=i.return}while(i!==null)}vS(n)}catch(M){e=M,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function gS(){var t=Bh.current;return Bh.current=Uh,t===null?Uh:t}function Y_(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(Go&268435455)&&!(kf&268435455)||Pi(Wt,Jt)}function Hh(t,e){var n=Be;Be|=2;var r=gS();(Wt!==t||Jt!==e)&&(Ds=null,$o(t,e));do try{rP();break}catch(s){mS(t,s)}while(!0);if(j_(),Be=n,Bh.current=r,Rt!==null)throw Error(X(261));return Wt=null,Jt=0,Ft}function rP(){for(;Rt!==null;)_S(Rt)}function sP(){for(;Rt!==null&&!Ck();)_S(Rt)}function _S(t){var e=wS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?vS(t):Rt=e,H_.current=null}function vS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JC(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Rt=null;return}}else if(n=YC(n,e,Yn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ft===0&&(Ft=5)}function Co(t,e,n){var r=Qe,s=Tr.transition;try{Tr.transition=null,Qe=1,iP(t,e,n,r)}finally{Tr.transition=s,Qe=r}return null}function iP(t,e,n,r){do Xa();while(Vi!==null);if(Be&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fk(t,i),t===Wt&&(Rt=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vd||(Vd=!0,bS(Ih,function(){return Xa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=Qe;Qe=1;var l=Be;Be|=4,H_.current=null,ZC(t,n),hS(n,t),xC(Xm),kh=!!Jm,Xm=Jm=null,t.current=n,eP(n),Pk(),Be=l,Qe=o,Tr.transition=i}else t.current=n;if(Vd&&(Vd=!1,Vi=t,qh=s),i=t.pendingLanes,i===0&&(Wi=null),Nk(n.stateNode),Bn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zh)throw zh=!1,t=vg,vg=null,t;return qh&1&&t.tag!==0&&Xa(),i=t.pendingLanes,i&1?t===yg?Vu++:(Vu=0,yg=t):Vu=0,oo(),null}function Xa(){if(Vi!==null){var t=XE(qh),e=Tr.transition,n=Qe;try{if(Tr.transition=null,Qe=16>t?16:t,Vi===null)var r=!1;else{if(t=Vi,Vi=null,qh=0,Be&6)throw Error(X(331));var s=Be;for(Be|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Lu(8,d,i)}var h=d.child;if(h!==null)h.return=d,ae=h;else for(;ae!==null;){d=ae;var g=d.sibling,_=d.return;if(uS(d),d===u){ae=null;break}if(g!==null){g.return=_,ae=g;break}ae=_}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ae=x;break e}ae=i.return}}var w=t.current;for(ae=w;ae!==null;){o=ae;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ae=T;else e:for(o=w;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Af(9,l)}}catch(M){Et(l,l.return,M)}if(l===o){ae=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ae=N;break e}ae=l.return}}if(Be=s,oo(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(yf,t)}catch{}r=!0}return r}finally{Qe=n,Tr.transition=e}}return!1}function Uw(t,e,n){e=cl(n,e),e=XT(t,e,1),t=Hi(t,e,1),e=Sn(),t!==null&&(Cc(t,1,e),Bn(t,e))}function Et(t,e,n){if(t.tag===3)Uw(t,t,n);else for(;e!==null;){if(e.tag===3){Uw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){t=cl(n,t),t=ZT(e,t,1),e=Hi(e,t,1),t=Sn(),e!==null&&(Cc(e,1,t),Bn(e,t));break}}e=e.return}}function oP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Jt&n)===n&&(Ft===4||Ft===3&&(Jt&130023424)===Jt&&500>At()-G_?$o(t,0):W_|=n),Bn(t,e)}function yS(t,e){e===0&&(t.mode&1?(e=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):e=1);var n=Sn();t=Ys(t,e),t!==null&&(Cc(t,e,n),Bn(t,n))}function aP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yS(t,n)}function lP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),yS(t,n)}var wS;wS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,QC(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,pt&&e.flags&1048576&&ST(e,Dh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ah(t,e),t=e.pendingProps;var s=ol(e,hn.current);Ja(e,n),s=$_(null,e,r,t,s,n);var i=U_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(i=!0,Nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,D_(e),s.updater=If,e.stateNode=s,s._reactInternals=e,ag(e,r,t,n),e=cg(null,e,r,!0,i,n)):(e.tag=0,pt&&i&&k_(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ah(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cP(r),t=Br(r,t),s){case 0:e=ug(null,e,r,t,n);break e;case 1:e=Rw(null,e,r,t,n);break e;case 11:e=Cw(null,e,r,t,n);break e;case 14:e=Pw(null,e,r,Br(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),ug(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),Rw(t,e,r,s,n);case 3:e:{if(rS(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PT(t,e),Vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cl(Error(X(423)),e),e=jw(t,e,r,n,s);break e}else if(r!==s){s=cl(Error(X(424)),e),e=jw(t,e,r,n,s);break e}else for(er=qi(e.stateNode.containerInfo.firstChild),tr=e,pt=!0,Wr=null,n=kT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===s){e=Js(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return RT(e),t===null&&sg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zm(r,s)?o=null:i!==null&&Zm(r,i)&&(e.flags|=32),nS(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&sg(e),null;case 13:return sS(t,e,n);case 4:return L_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ll(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),Cw(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ot(Lh,r._currentValue),r._currentValue=o,i!==null)if(Yr(i.value,o)){if(i.children===s.children&&!$n.current){e=Js(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Hs(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ig(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ig(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ja(e,n),s=xr(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=Br(r,e.pendingProps),s=Br(r.type,s),Pw(t,e,r,s,n);case 15:return eS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),ah(t,e),e.tag=1,Un(r)?(t=!0,Nh(e)):t=!1,Ja(e,n),JT(e,r,s),ag(e,r,s,n),cg(null,e,r,!0,t,n);case 19:return iS(t,e,n);case 22:return tS(t,e,n)}throw Error(X(156,e.tag))};function bS(t,e){return KE(t,e)}function uP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new uP(t,e,n,r)}function J_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cP(t){if(typeof t=="function")return J_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===g_)return 11;if(t===__)return 14}return 2}function Ki(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ch(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")J_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oa:return Uo(n.children,s,i,e);case m_:o=8,s|=8;break;case Rm:return t=Er(12,n,e,s|2),t.elementType=Rm,t.lanes=i,t;case jm:return t=Er(13,n,e,s),t.elementType=jm,t.lanes=i,t;case Nm:return t=Er(19,n,e,s),t.elementType=Nm,t.lanes=i,t;case RE:return Cf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CE:o=10;break e;case PE:o=9;break e;case g_:o=11;break e;case __:o=14;break e;case Ii:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Uo(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function Cf(t,e,n,r){return t=Er(22,t,r,e),t.elementType=RE,t.lanes=n,t.stateNode={isHidden:!1},t}function Jp(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function Xp(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jp(0),this.expirationTimes=jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function X_(t,e,n,r,s,i,o,l,a){return t=new dP(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D_(i),t}function hP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ES(t){if(!t)return eo;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Un(n))return ET(t,n,e)}return e}function TS(t,e,n,r,s,i,o,l,a){return t=X_(n,r,!0,t,s,i,o,l,a),t.context=ES(null),n=t.current,r=Sn(),s=Gi(n),i=Hs(r,s),i.callback=e??null,Hi(n,i,s),t.current.lanes=s,Cc(t,s,r),Bn(t,r),t}function Pf(t,e,n,r){var s=e.current,i=Sn(),o=Gi(s);return n=ES(n),e.context===null?e.context=n:e.pendingContext=n,e=Hs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hi(s,e,o),t!==null&&(Qr(t,s,o,i),sh(t,s,o)),o}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Z_(t,e){Bw(t,e),(t=t.alternate)&&Bw(t,e)}function fP(){return null}var SS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}Rf.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Pf(t,e,null,null)};Rf.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){Pf(null,t,null,null)}),e[Qs]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=tT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&rT(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zw(){}function pP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wh(o);i.call(u)}}var o=TS(e,r,t,0,null,!1,!1,"",zw);return t._reactRootContainer=o,t[Qs]=o.current,sc(t.nodeType===8?t.parentNode:t),Ko(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Wh(a);l.call(u)}}var a=X_(t,0,!1,null,null,!1,!1,"",zw);return t._reactRootContainer=a,t[Qs]=a.current,sc(t.nodeType===8?t.parentNode:t),Ko(function(){Pf(e,a,n,r)}),a}function Nf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Wh(o);l.call(a)}}Pf(e,o,t,s)}else o=pP(n,e,t,s,r);return Wh(o)}ZE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wu(e.pendingLanes);n!==0&&(w_(e,n|1),Bn(e,At()),!(Be&6)&&(dl=At()+500,oo()))}break;case 13:Ko(function(){var r=Ys(t,1);if(r!==null){var s=Sn();Qr(r,t,1,s)}}),Z_(t,1)}};b_=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=Sn();Qr(e,t,134217728,n)}Z_(t,134217728)}};eT=function(t){if(t.tag===13){var e=Gi(t),n=Ys(t,e);if(n!==null){var r=Sn();Qr(n,t,e,r)}Z_(t,e)}};tT=function(){return Qe};nT=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};zm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tf(r);if(!s)throw Error(X(90));NE(r),Lm(r,s)}}}break;case"textarea":DE(t,n);break;case"select":e=n.value,e!=null&&Ga(t,!!n.multiple,e,!1)}};BE=K_;zE=Ko;var mP={usingClientEntryPoint:!1,Events:[Rc,Va,Tf,$E,UE,K_]},du={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gP={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WE(t),t===null?null:t.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||fP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{yf=Fd.inject(gP),hs=Fd}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mP;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error(X(200));return hP(t,e,null,n)};ar.createRoot=function(t,e){if(!tv(t))throw Error(X(299));var n=!1,r="",s=SS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=X_(t,1,!1,null,null,n,!1,r,s),t[Qs]=e.current,sc(t.nodeType===8?t.parentNode:t),new ev(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=WE(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return Ko(t)};ar.hydrate=function(t,e,n){if(!jf(e))throw Error(X(200));return Nf(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!tv(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=SS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TS(e,null,t,1,n??null,s,!1,i,o),t[Qs]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rf(e)};ar.render=function(t,e,n){if(!jf(e))throw Error(X(200));return Nf(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!jf(t))throw Error(X(40));return t._reactRootContainer?(Ko(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Qs]=null})}),!0):!1};ar.unstable_batchedUpdates=K_;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jf(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Nf(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(t){console.error(t)}}xS(),xE.exports=ar;var nv=xE.exports;const _P=hE(nv),vP=dE({__proto__:null,default:_P},[nv]);var qw=nv;Cm.createRoot=qw.createRoot,Cm.hydrateRoot=qw.hydrateRoot;var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let g=(l&15)<<2|u>>6,_=u&63;a||(_=64,o||(g=64)),r.push(n[d],n[h],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new wP;const g=i<<2|l>>4;if(r.push(g),u!==64){const _=l<<4&240|u>>2;if(r.push(_),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bP=function(t){const e=IS(t);return AS.encodeByteArray(e,!0)},Gh=function(t){return bP(t).replace(/\./g,"")},kS=function(t){try{return AS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=()=>EP().__FIREBASE_DEFAULTS__,SP=()=>{if(typeof process>"u"||typeof Hw>"u")return;const t=Hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kS(t[1]);return e&&JSON.parse(e)},Of=()=>{try{return TP()||SP()||xP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CS=t=>{var e,n;return(n=(e=Of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IP=t=>{const e=CS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PS=()=>{var t;return(t=Of())===null||t===void 0?void 0:t.config},RS=t=>{var e;return(e=Of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AP=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gh(JSON.stringify(n)),Gh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function PP(){var t;const e=(t=Of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NP(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OP(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DP(){try{return typeof indexedDB=="object"}catch{return!1}}function LP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MP,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VP(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ai(s,l,r)}}function VP(t,e){return t.replace(FP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const FP=/\{\$([^}]+)}/g;function $P(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ww(i)&&Ww(o)){if(!Kh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UP(t,e){const n=new BP(t,e);return n.subscribe.bind(n)}class BP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zp),s.error===void 0&&(s.error=Zp),s.complete===void 0&&(s.complete=Zp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WP(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HP(t){return t===Po?void 0:t}function WP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const KP={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},QP=Ve.INFO,YP={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},JP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=QP,this._logHandler=JP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const XP=(t,e)=>e.some(n=>t instanceof n);let Gw,Kw;function ZP(){return Gw||(Gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,Eg=new WeakMap,NS=new WeakMap,em=new WeakMap,sv=new WeakMap;function tR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jS.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function nR(t){if(Eg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Eg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rR(t){Tg=t(Tg)}function sR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tm(this),e,...n);return NS.set(r,e.sort?e.sort():[e]),Qi(r)}:eR().includes(t)?function(...e){return t.apply(tm(this),e),Qi(jS.get(this))}:function(...e){return Qi(t.apply(tm(this),e))}}function iR(t){return typeof t=="function"?sR(t):(t instanceof IDBTransaction&&nR(t),XP(t,ZP())?new Proxy(t,Tg):t)}function Qi(t){if(t instanceof IDBRequest)return tR(t);if(em.has(t))return em.get(t);const e=iR(t);return e!==t&&(em.set(t,e),sv.set(e,t)),e}const tm=t=>sv.get(t);function oR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Qi(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Qi(o.result),a.oldVersion,a.newVersion,Qi(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const aR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],nm=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aR.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&a.done]))[0]};return nm.set(e,i),i}rR(t=>({...t,get:(e,n,r)=>Qw(e,n)||t.get(e,n,r),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",Yw="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new rv("@firebase/app"),dR="@firebase/app-compat",hR="@firebase/analytics-compat",fR="@firebase/analytics",pR="@firebase/app-check-compat",mR="@firebase/app-check",gR="@firebase/auth",_R="@firebase/auth-compat",vR="@firebase/database",yR="@firebase/database-compat",wR="@firebase/functions",bR="@firebase/functions-compat",ER="@firebase/installations",TR="@firebase/installations-compat",SR="@firebase/messaging",xR="@firebase/messaging-compat",IR="@firebase/performance",AR="@firebase/performance-compat",kR="@firebase/remote-config",CR="@firebase/remote-config-compat",PR="@firebase/storage",RR="@firebase/storage-compat",jR="@firebase/firestore",NR="@firebase/vertexai-preview",OR="@firebase/firestore-compat",DR="firebase",LR="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",MR={[Sg]:"fire-core",[dR]:"fire-core-compat",[fR]:"fire-analytics",[hR]:"fire-analytics-compat",[mR]:"fire-app-check",[pR]:"fire-app-check-compat",[gR]:"fire-auth",[_R]:"fire-auth-compat",[vR]:"fire-rtdb",[yR]:"fire-rtdb-compat",[wR]:"fire-fn",[bR]:"fire-fn-compat",[ER]:"fire-iid",[TR]:"fire-iid-compat",[SR]:"fire-fcm",[xR]:"fire-fcm-compat",[IR]:"fire-perf",[AR]:"fire-perf-compat",[kR]:"fire-rc",[CR]:"fire-rc-compat",[PR]:"fire-gcs",[RR]:"fire-gcs-compat",[jR]:"fire-fst",[OR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,VR=new Map,Ig=new Map;function Jw(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(Ig.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of Qh.values())Jw(n,t);for(const n of VR.values())Jw(n,t);return!0}function iv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ds(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Nc("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=LR;function OS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(n||(n=PS()),!n)throw Yi.create("no-options");const i=Qh.get(s);if(i){if(Kh(n,i.options)&&Kh(r,i.config))return i;throw Yi.create("duplicate-app",{appName:s})}const o=new GP(s);for(const a of Ig.values())o.addComponent(a);const l=new $R(n,r,o);return Qh.set(s,l),l}function DS(t=xg){const e=Qh.get(t);if(!e&&t===xg&&PS())return OS();if(!e)throw Yi.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let s=(r=MR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(l.join(" "));return}hl(new Qo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebase-heartbeat-database",BR=1,fc="firebase-heartbeat-store";let rm=null;function LS(){return rm||(rm=oR(UR,BR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),rm}async function zR(t){try{const n=(await LS()).transaction(fc),r=await n.objectStore(fc).get(MS(t));return await n.done,r}catch(e){if(e instanceof ai)Xs.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(n.message)}}}async function Xw(t,e){try{const r=(await LS()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,MS(t)),await r.done}catch(n){if(n instanceof ai)Xs.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(r.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1024,HR=30*24*60*60*1e3;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=HR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zw(),{heartbeatsToSend:r,unsentEntries:s}=GR(this._heartbeatsCache.heartbeats),i=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xs.warn(n),""}}}function Zw(){return new Date().toISOString().substring(0,10)}function GR(t,e=qR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),e0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),e0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DP()?LP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e0(t){return Gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){hl(new Qo("platform-logger",e=>new uR(e),"PRIVATE")),hl(new Qo("heartbeat",e=>new WR(e),"PRIVATE")),Ji(Sg,Yw,t),Ji(Sg,Yw,"esm2017"),Ji("fire-js","")}QR("");function ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=VS,FS=new Nc("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new rv("@firebase/auth");function JR(t,...e){Yh.logLevel<=Ve.WARN&&Yh.warn(`Auth (${Pl}): ${t}`,...e)}function dh(t,...e){Yh.logLevel<=Ve.ERROR&&Yh.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw av(t,...e)}function ps(t,...e){return av(t,...e)}function $S(t,e,n){const r=Object.assign(Object.assign({},YR()),{[e]:n});return new Nc("auth","Firebase",r).create(e,{appName:t.name})}function Ws(t){return $S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FS.create(t,...e)}function ye(t,e,...n){if(!t)throw av(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function Zs(t,e){t||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XR(){return t0()==="http:"||t0()==="https:"}function t0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||RP()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=CP()||jP()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Dc(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,n,r,s={}){return BS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Oc(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),US.fetch()(zS(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))})}async function BS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tj),e);try{const s=new sj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $d(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw $d(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw $d(t,"user-disabled",o);const d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $S(t,d,u);Jr(t,d)}}catch(s){if(s instanceof ai)throw s;Jr(t,"network-request-failed",{message:String(s)})}}async function Lc(t,e,n,r,s={}){const i=await lo(t,e,n,r,s);return"mfaPendingCredential"in i&&Jr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?lv(t.config,s):`${t.config.apiScheme}://${s}`}function rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),nj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ps(t,e,r);return s.customData._tokenResponse=n,s}function n0(t){return t!==void 0&&t.enterprise!==void 0}class ij{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oj(t,e){return lo(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function qS(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(t,e=!1){const n=An(t),r=await n.getIdToken(e),s=uv(r);ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fu(sm(s.auth_time)),issuedAtTime:Fu(sm(s.iat)),expirationTime:Fu(sm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const s=kS(n);return s?JSON.parse(s):(dh("Failed to decode base64 JWT payload"),null)}catch(s){return dh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r0(t){const e=uv(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&uj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pc(t,qS(n,{idToken:r}));ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?HS(i.providerUserInfo):[],l=hj(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kg(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function dj(t){const e=An(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HS(t){return t.map(e=>{var{providerId:n}=e,r=ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){const n=await BS(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=zS(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",US.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pj(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await fj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Za;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Us{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pc(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lj(this,e)}reload(){return dj(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ds(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await pc(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,a,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:N,isAnonymous:M,providerData:R,stsTokenManager:I}=n;ye(T&&I,e,"internal-error");const y=Za.fromJSON(this.name,I);ye(typeof T=="string",e,"internal-error"),Ti(h,e.name),Ti(g,e.name),ye(typeof N=="boolean",e,"internal-error"),ye(typeof M=="boolean",e,"internal-error"),Ti(_,e.name),Ti(E,e.name),Ti(S,e.name),Ti(C,e.name),Ti(x,e.name),Ti(w,e.name);const k=new Us({uid:T,auth:e,email:g,emailVerified:N,displayName:h,isAnonymous:M,photoURL:E,phoneNumber:_,tenantId:S,stsTokenManager:y,createdAt:x,lastLoginAt:w});return R&&Array.isArray(R)&&(k.providerData=R.map(A=>Object.assign({},A))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Za;s.updateFromServerResponse(n);const i=new Us({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ye(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?HS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Za;l.updateFromIdToken(r);const a=new Us({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;function Bs(t){Zs(t instanceof Function,"Expected a class definition");let e=s0.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WS.type="NONE";const i0=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,i),this.fullPersistenceKey=hh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Us._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(Bs(i0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Bs(i0);const o=hh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Us._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const a=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new el(i,e,r):(i=a[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new el(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XS(e))return"Blackberry";if(ZS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GS(t=fn()){return/firefox\//i.test(t)}function KS(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(t=fn()){return/crios\//i.test(t)}function YS(t=fn()){return/iemobile/i.test(t)}function JS(t=fn()){return/android/i.test(t)}function XS(t=fn()){return/blackberry/i.test(t)}function ZS(t=fn()){return/webos/i.test(t)}function cv(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mj(t=fn()){var e;return cv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return NP()&&document.documentMode===10}function ex(t=fn()){return cv(t)||JS(t)||ZS(t)||XS(t)||/windows phone/i.test(t)||YS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e=[]){let n;switch(t){case"Browser":n=o0(fn());break;case"Worker":n=`${o0(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const a=e(i);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=6;class wj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new _j(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qS(this,{idToken:e}),r=await Us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ds(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ds(this.app))return Promise.reject(Ws(this));const n=e?An(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ds(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ds(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),n=new wj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,s);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return An(t)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=UP(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(t){Df=t}function nx(t){return Df.loadJS(t)}function Tj(){return Df.recaptchaEnterpriseScript}function Sj(){return Df.gapiScript}function xj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ij="recaptcha-enterprise",Aj="NO_RECAPTCHA";class kj{constructor(e){this.type=Ij,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{oj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new ij(a);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function s(i,o,l){const a=window.grecaptcha;n0(a)?a.enterprise.ready(()=>{a.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Aj)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&n0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=Tj();a.length!==0&&(a+=l),nx(a).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function l0(t,e,n,r=!1){const s=new kj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await l0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await l0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e){const n=iv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Kh(i,e??{}))return s;Jr(s,"already-initialized")}return n.initialize({options:e})}function Pj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rj(t,e,n){const r=la(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=rx(e),{host:o,port:l}=jj(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Nj()}function rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jj(t){const e=rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u0(o)}}}function u0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Nj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function Oj(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Lc(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function Mj(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends dv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",Dj);case"emailLink":return Lj(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,r,"signUpPassword",Oj);case"emailLink":return Mj(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return Lc(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="http://localhost";class Yo extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ov(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:Vj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $j(t){const e=Eu(Tu(t)).link,n=e?Eu(Tu(e)).deep_link_id:null,r=Eu(Tu(t)).deep_link_id;return(r?Eu(Tu(r)).link:null)||r||n||e||t}class hv{constructor(e){var n,r,s,i,o,l;const a=Eu(Tu(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,h=Fj((s=a.mode)!==null&&s!==void 0?s:null);ye(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=a.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=$j(e);try{return new hv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hv.parseLink(n);return ye(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends sx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Mc{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Mc{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e){return Lc(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Us._fromIdTokenResponse(e,r,s),o=c0(r);return new Jo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=c0(r);return new Jo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function c0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends ai{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xh(e,n,r,s)}}function ix(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(t,i,e,r):i})}async function Bj(t,e,n=!1){const r=await pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e,n=!1){const{auth:r}=t;if(ds(r.app))return Promise.reject(Ws(r));const s="reauthenticate";try{const i=await pc(t,ix(r,s,e,t),n);ye(i.idToken,r,"internal-error");const o=uv(i.idToken);ye(o,r,"internal-error");const{sub:l}=o;return ye(t.uid===l,r,"user-mismatch"),Jo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){if(ds(t.app))return Promise.reject(Ws(t));const r="signIn",s=await ix(t,r,e),i=await Jo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function qj(t,e){return ox(la(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hj(t,e,n){if(ds(t.app))return Promise.reject(Ws(t));const r=la(t),o=await Cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uj).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&ax(t),a}),l=await Jo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Wj(t,e,n){return ds(t.app)?Promise.reject(Ws(t)):qj(An(t),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ax(t),r})}function Gj(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function Kj(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function lx(t,e,n,r){return An(t).onAuthStateChanged(e,n,r)}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1e3,Yj=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Yj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const Jj=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dx.type="SESSION";const hx=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),a=await Xj(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,a)=>{const u=fv("",20);s.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(d),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function eN(t){ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rN(){return fx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebaseLocalStorageDb",sN=1,ef="firebaseLocalStorage",mx="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(t,e){return t.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function iN(){const t=indexedDB.deleteDatabase(px);return new Vc(t).toPromise()}function Pg(){const t=indexedDB.open(px,sN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ef,{keyPath:mx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ef)?e(r):(r.close(),await iN(),e(await Pg()))})})}async function d0(t,e,n){const r=Mf(t,!0).put({[mx]:e,value:n});return new Vc(r).toPromise()}async function oN(t,e){const n=Mf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function h0(t,e){const n=Mf(t,!0).delete(e);return new Vc(n).toPromise()}const aN=800,lN=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new Zj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await d0(e,Zh,"1"),await h0(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Mf(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const uN=gx;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){return e?Bs(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dN(t){return ox(t.auth,new pv(t),t.bypassAuthState)}function hN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),zj(n,new pv(t),t.bypassAuthState)}async function fN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),Bj(n,new pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:Jr(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Dc(2e3,1e4);class Ha extends _x{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",fh=new Map;class gN extends _x{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(t,e){const n=wN(e),r=yN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vN(t,e){fh.set(t._key(),e)}function yN(t){return Bs(t._redirectPersistence)}function wN(t){return hh(mN,t.config.apiKey,t.name)}async function bN(t,e,n=!1){if(ds(t.app))return Promise.reject(Ws(t));const r=la(t),s=cN(r,e),o=await new gN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=10*60*1e3;class TN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ps(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EN&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AN=/^https?/;async function kN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xN(t);for(const n of e)try{if(CN(n))return}catch{}Jr(t,"unauthorized-domain")}function CN(t){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AN.test(n))return!1;if(IN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Dc(3e4,6e4);function p0(){const t=ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RN(t){return new Promise((e,n)=>{var r,s,i;function o(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(ps(t,"network-request-failed"))},timeout:PN.get()})}if(!((s=(r=ms().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ms().gapi)===null||i===void 0)&&i.load)o();else{const l=xj("iframefcb");return ms()[l]=()=>{gapi.load?o():n(ps(t,"network-request-failed"))},nx(`${Sj()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw ph=null,e})}let ph=null;function jN(t){return ph=ph||RN(t),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Dc(5e3,15e3),ON="__/auth/iframe",DN="emulator/auth/iframe",LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,DN):`https://${t.config.authDomain}/${ON}`,r={apiKey:e.apiKey,appName:t.name,v:Pl},s=MN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oc(r).slice(1)}`}async function FN(t){const e=await jN(t),n=ms().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:VN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ps(t,"network-request-failed"),l=ms().setTimeout(()=>{i(o)},NN.get());function a(){ms().clearTimeout(l),s(r)}r.ping(a).then(a,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UN=500,BN=600,zN="_blank",qN="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HN(t,e,n,r=UN,s=BN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},$N),{width:r.toString(),height:s.toString(),top:i,left:o}),u=fn().toLowerCase();n&&(l=QS(u)?zN:n),GS(u)&&(e=e||qN,a.scrollbars="yes");const d=Object.entries(a).reduce((g,[_,E])=>`${g}${_}=${E},`,"");if(mj(u)&&l!=="_self")return WN(e||"",l),new m0(null);const h=window.open(e||"",l,d);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new m0(h)}function WN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__/auth/handler",KN="emulator/auth/handler",QN=encodeURIComponent("fac");async function g0(t,e,n,r,s,i){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pl,eventId:s};if(e instanceof sx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$P(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Mc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const a=await t._getAppCheckToken(),u=a?`#${QN}=${encodeURIComponent(a)}`:"";return`${YN(t)}?${Oc(l).slice(1)}${u}`}function YN({config:t}){return t.emulator?lv(t,KN):`https://${t.authDomain}/${GN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hx,this._completeRedirectFn=bN,this._overrideRedirectResult=vN}async _openPopup(e,n,r,s){var i;Zs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await g0(e,n,r,Ag(),s);return HN(e,o,fv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g0(e,n,r,Ag(),s);return eN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Zs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FN(e),r=new TN(e);return n.register("authEvent",s=>(ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[im];o!==void 0&&n(!!o),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ex()||KS()||cv()}}const XN=JN;var _0="@firebase/auth",v0="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(t){hl(new Qo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tx(t)},u=new bj(r,s,i,a);return Pj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hl(new Qo("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new ZN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(_0,v0,eO(t)),Ji(_0,v0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=RS("authIdTokenMaxAge")||nO;let y0=null;const sO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rO)return;const s=n==null?void 0:n.token;y0!==s&&(y0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iO(t=DS()){const e=iv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Cj(t,{popupRedirectResolver:XN,persistence:[uN,Jj,hx]}),r=RS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sO(i.toString());Kj(n,o,()=>o(n.currentUser)),Gj(n,l=>o(l))}}const s=CS("auth");return s&&Rj(n,`http://${s}`),n}function oO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ej({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ps("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var aO="firebase",lO="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(aO,lO,"app");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,yx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,y){function k(){}k.prototype=y.prototype,I.D=y.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(A,j,D){for(var O=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)O[ie-2]=arguments[ie];return y.prototype[j].apply(A,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,y,k){k||(k=0);var A=Array(16);if(typeof y=="string")for(var j=0;16>j;++j)A[j]=y.charCodeAt(k++)|y.charCodeAt(k++)<<8|y.charCodeAt(k++)<<16|y.charCodeAt(k++)<<24;else for(j=0;16>j;++j)A[j]=y[k++]|y[k++]<<8|y[k++]<<16|y[k++]<<24;y=I.g[0],k=I.g[1],j=I.g[2];var D=I.g[3],O=y+(D^k&(j^D))+A[0]+3614090360&4294967295;y=k+(O<<7&4294967295|O>>>25),O=D+(j^y&(k^j))+A[1]+3905402710&4294967295,D=y+(O<<12&4294967295|O>>>20),O=j+(k^D&(y^k))+A[2]+606105819&4294967295,j=D+(O<<17&4294967295|O>>>15),O=k+(y^j&(D^y))+A[3]+3250441966&4294967295,k=j+(O<<22&4294967295|O>>>10),O=y+(D^k&(j^D))+A[4]+4118548399&4294967295,y=k+(O<<7&4294967295|O>>>25),O=D+(j^y&(k^j))+A[5]+1200080426&4294967295,D=y+(O<<12&4294967295|O>>>20),O=j+(k^D&(y^k))+A[6]+2821735955&4294967295,j=D+(O<<17&4294967295|O>>>15),O=k+(y^j&(D^y))+A[7]+4249261313&4294967295,k=j+(O<<22&4294967295|O>>>10),O=y+(D^k&(j^D))+A[8]+1770035416&4294967295,y=k+(O<<7&4294967295|O>>>25),O=D+(j^y&(k^j))+A[9]+2336552879&4294967295,D=y+(O<<12&4294967295|O>>>20),O=j+(k^D&(y^k))+A[10]+4294925233&4294967295,j=D+(O<<17&4294967295|O>>>15),O=k+(y^j&(D^y))+A[11]+2304563134&4294967295,k=j+(O<<22&4294967295|O>>>10),O=y+(D^k&(j^D))+A[12]+1804603682&4294967295,y=k+(O<<7&4294967295|O>>>25),O=D+(j^y&(k^j))+A[13]+4254626195&4294967295,D=y+(O<<12&4294967295|O>>>20),O=j+(k^D&(y^k))+A[14]+2792965006&4294967295,j=D+(O<<17&4294967295|O>>>15),O=k+(y^j&(D^y))+A[15]+1236535329&4294967295,k=j+(O<<22&4294967295|O>>>10),O=y+(j^D&(k^j))+A[1]+4129170786&4294967295,y=k+(O<<5&4294967295|O>>>27),O=D+(k^j&(y^k))+A[6]+3225465664&4294967295,D=y+(O<<9&4294967295|O>>>23),O=j+(y^k&(D^y))+A[11]+643717713&4294967295,j=D+(O<<14&4294967295|O>>>18),O=k+(D^y&(j^D))+A[0]+3921069994&4294967295,k=j+(O<<20&4294967295|O>>>12),O=y+(j^D&(k^j))+A[5]+3593408605&4294967295,y=k+(O<<5&4294967295|O>>>27),O=D+(k^j&(y^k))+A[10]+38016083&4294967295,D=y+(O<<9&4294967295|O>>>23),O=j+(y^k&(D^y))+A[15]+3634488961&4294967295,j=D+(O<<14&4294967295|O>>>18),O=k+(D^y&(j^D))+A[4]+3889429448&4294967295,k=j+(O<<20&4294967295|O>>>12),O=y+(j^D&(k^j))+A[9]+568446438&4294967295,y=k+(O<<5&4294967295|O>>>27),O=D+(k^j&(y^k))+A[14]+3275163606&4294967295,D=y+(O<<9&4294967295|O>>>23),O=j+(y^k&(D^y))+A[3]+4107603335&4294967295,j=D+(O<<14&4294967295|O>>>18),O=k+(D^y&(j^D))+A[8]+1163531501&4294967295,k=j+(O<<20&4294967295|O>>>12),O=y+(j^D&(k^j))+A[13]+2850285829&4294967295,y=k+(O<<5&4294967295|O>>>27),O=D+(k^j&(y^k))+A[2]+4243563512&4294967295,D=y+(O<<9&4294967295|O>>>23),O=j+(y^k&(D^y))+A[7]+1735328473&4294967295,j=D+(O<<14&4294967295|O>>>18),O=k+(D^y&(j^D))+A[12]+2368359562&4294967295,k=j+(O<<20&4294967295|O>>>12),O=y+(k^j^D)+A[5]+4294588738&4294967295,y=k+(O<<4&4294967295|O>>>28),O=D+(y^k^j)+A[8]+2272392833&4294967295,D=y+(O<<11&4294967295|O>>>21),O=j+(D^y^k)+A[11]+1839030562&4294967295,j=D+(O<<16&4294967295|O>>>16),O=k+(j^D^y)+A[14]+4259657740&4294967295,k=j+(O<<23&4294967295|O>>>9),O=y+(k^j^D)+A[1]+2763975236&4294967295,y=k+(O<<4&4294967295|O>>>28),O=D+(y^k^j)+A[4]+1272893353&4294967295,D=y+(O<<11&4294967295|O>>>21),O=j+(D^y^k)+A[7]+4139469664&4294967295,j=D+(O<<16&4294967295|O>>>16),O=k+(j^D^y)+A[10]+3200236656&4294967295,k=j+(O<<23&4294967295|O>>>9),O=y+(k^j^D)+A[13]+681279174&4294967295,y=k+(O<<4&4294967295|O>>>28),O=D+(y^k^j)+A[0]+3936430074&4294967295,D=y+(O<<11&4294967295|O>>>21),O=j+(D^y^k)+A[3]+3572445317&4294967295,j=D+(O<<16&4294967295|O>>>16),O=k+(j^D^y)+A[6]+76029189&4294967295,k=j+(O<<23&4294967295|O>>>9),O=y+(k^j^D)+A[9]+3654602809&4294967295,y=k+(O<<4&4294967295|O>>>28),O=D+(y^k^j)+A[12]+3873151461&4294967295,D=y+(O<<11&4294967295|O>>>21),O=j+(D^y^k)+A[15]+530742520&4294967295,j=D+(O<<16&4294967295|O>>>16),O=k+(j^D^y)+A[2]+3299628645&4294967295,k=j+(O<<23&4294967295|O>>>9),O=y+(j^(k|~D))+A[0]+4096336452&4294967295,y=k+(O<<6&4294967295|O>>>26),O=D+(k^(y|~j))+A[7]+1126891415&4294967295,D=y+(O<<10&4294967295|O>>>22),O=j+(y^(D|~k))+A[14]+2878612391&4294967295,j=D+(O<<15&4294967295|O>>>17),O=k+(D^(j|~y))+A[5]+4237533241&4294967295,k=j+(O<<21&4294967295|O>>>11),O=y+(j^(k|~D))+A[12]+1700485571&4294967295,y=k+(O<<6&4294967295|O>>>26),O=D+(k^(y|~j))+A[3]+2399980690&4294967295,D=y+(O<<10&4294967295|O>>>22),O=j+(y^(D|~k))+A[10]+4293915773&4294967295,j=D+(O<<15&4294967295|O>>>17),O=k+(D^(j|~y))+A[1]+2240044497&4294967295,k=j+(O<<21&4294967295|O>>>11),O=y+(j^(k|~D))+A[8]+1873313359&4294967295,y=k+(O<<6&4294967295|O>>>26),O=D+(k^(y|~j))+A[15]+4264355552&4294967295,D=y+(O<<10&4294967295|O>>>22),O=j+(y^(D|~k))+A[6]+2734768916&4294967295,j=D+(O<<15&4294967295|O>>>17),O=k+(D^(j|~y))+A[13]+1309151649&4294967295,k=j+(O<<21&4294967295|O>>>11),O=y+(j^(k|~D))+A[4]+4149444226&4294967295,y=k+(O<<6&4294967295|O>>>26),O=D+(k^(y|~j))+A[11]+3174756917&4294967295,D=y+(O<<10&4294967295|O>>>22),O=j+(y^(D|~k))+A[2]+718787259&4294967295,j=D+(O<<15&4294967295|O>>>17),O=k+(D^(j|~y))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var k=y-this.blockSize,A=this.B,j=this.h,D=0;D<y;){if(j==0)for(;D<=k;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<y;)if(A[j++]=I.charCodeAt(D++),j==this.blockSize){s(this,A),j=0;break}}else for(;D<y;)if(A[j++]=I[D++],j==this.blockSize){s(this,A),j=0;break}}this.h=j,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var k=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=k&255,k/=256;for(this.u(I),I=Array(16),y=k=0;4>y;++y)for(var A=0;32>A;A+=8)I[k++]=this.g[y]>>>A&255;return I};function i(I,y){var k=l;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=y(I)}function o(I,y){this.h=y;for(var k=[],A=!0,j=I.length-1;0<=j;j--){var D=I[j]|0;A&&D==y||(k[j]=D,A=!1)}this.g=k}var l={};function a(I){return-128<=I&&128>I?i(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(u(-I));for(var y=[],k=1,A=0;I>=k;A++)y[A]=I/k|0,k*=4294967296;return new o(y,0)}function d(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return C(d(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(y,8)),A=h,j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j),O=parseInt(I.substring(j,j+D),y);8>D?(D=u(Math.pow(y,D)),A=A.j(D).add(u(O))):(A=A.j(k),A=A.add(u(O)))}return A}var h=a(0),g=a(1),_=a(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var I=0,y=1,k=0;k<this.g.length;k++){var A=this.i(k);I+=(0<=A?A:4294967296+A)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(S(this))return"-"+C(this).toString(I);for(var y=u(Math.pow(I,6)),k=this,A="";;){var j=N(k,y).g;k=x(k,j.j(y));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=j,E(k))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=x(this,I),S(I)?-1:E(I)?0:1};function C(I){for(var y=I.g.length,k=[],A=0;A<y;A++)k[A]=~I.g[A];return new o(k,~I.h).add(g)}t.abs=function(){return S(this)?C(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),k=[],A=0,j=0;j<=y;j++){var D=A+(this.i(j)&65535)+(I.i(j)&65535),O=(D>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);A=O>>>16,D&=65535,O&=65535,k[j]=O<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(I,y){return I.add(C(y))}t.j=function(I){if(E(this)||E(I))return h;if(S(this))return S(I)?C(this).j(C(I)):C(C(this).j(I));if(S(I))return C(this.j(C(I)));if(0>this.l(_)&&0>I.l(_))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,k=[],A=0;A<2*y;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var j=0;j<I.g.length;j++){var D=this.i(A)>>>16,O=this.i(A)&65535,ie=I.i(j)>>>16,_e=I.i(j)&65535;k[2*A+2*j]+=O*_e,w(k,2*A+2*j),k[2*A+2*j+1]+=D*_e,w(k,2*A+2*j+1),k[2*A+2*j+1]+=O*ie,w(k,2*A+2*j+1),k[2*A+2*j+2]+=D*ie,w(k,2*A+2*j+2)}for(A=0;A<y;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=y;A<2*y;A++)k[A]=0;return new o(k,0)};function w(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function T(I,y){this.g=I,this.h=y}function N(I,y){if(E(y))throw Error("division by zero");if(E(I))return new T(h,h);if(S(I))return y=N(C(I),y),new T(C(y.g),C(y.h));if(S(y))return y=N(I,C(y)),new T(C(y.g),y.h);if(30<I.g.length){if(S(I)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var k=g,A=y;0>=A.l(I);)k=M(k),A=M(A);var j=R(k,1),D=R(A,1);for(A=R(A,2),k=R(k,2);!E(A);){var O=D.add(A);0>=O.l(I)&&(j=j.add(k),D=O),A=R(A,1),k=R(k,1)}return y=x(I,j.j(y)),new T(j,y)}for(j=h;0<=I.l(y);){for(k=Math.max(1,Math.floor(I.m()/y.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=u(k),O=D.j(y);S(O)||0<O.l(I);)k-=A,D=u(k),O=D.j(y);E(D)&&(D=g),j=j.add(D),I=x(I,O)}return new T(j,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)&I.i(A);return new o(k,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)|I.i(A);return new o(k,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)^I.i(A);return new o(k,this.h^I.h)};function M(I){for(var y=I.g.length+1,k=[],A=0;A<y;A++)k[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(k,I.h)}function R(I,y){var k=y>>5;y%=32;for(var A=I.g.length-k,j=[],D=0;D<A;D++)j[D]=0<y?I.i(D+k)>>>y|I.i(D+k+1)<<32-y:I.i(D+k);return new o(j,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Bo=o}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wx,bx,Su,Ex,mh,Rg,Tx,Sx,xx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var v=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var B=c[P];if(!(B in v))break e;v=v[B]}c=c[c.length-1],P=v[c],m=m(P),m!=P&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var v=0,P=!1,B={next:function(){if(!P&&v<c.length){var H=v++;return{value:m(H,c[H]),done:!1}}return P=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function a(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,v){return c.call.apply(c.bind,arguments)}function h(c,m,v){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,P),c.apply(m,B)}}return function(){return c.apply(m,arguments)}}function g(c,m,v){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,g.apply(null,arguments)}function _(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var P=v.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function E(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(P,B,H){for(var te=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)te[Fe-2]=arguments[Fe];return m.prototype[B].apply(P,te)}}function S(c){const m=c.length;if(0<m){const v=Array(m);for(let P=0;P<m;P++)v[P]=c[P];return v}return[]}function C(c,m){for(let v=1;v<arguments.length;v++){const P=arguments[v];if(a(P)){const B=c.length||0,H=P.length||0;c.length=B+H;for(let te=0;te<H;te++)c[B+te]=P[te]}else c.push(P)}}class x{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function R(c,m,v){for(const P in c)m.call(v,c[P],P,c)}function I(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function y(c){const m={};for(const v in c)m[v]=c[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,m){let v,P;for(let B=1;B<arguments.length;B++){P=arguments[B];for(v in P)c[v]=P[v];for(let H=0;H<k.length;H++)v=k[H],Object.prototype.hasOwnProperty.call(P,v)&&(c[v]=P[v])}}function j(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function D(c){l.setTimeout(()=>{throw c},0)}function O(){var c=Y;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ie{constructor(){this.h=this.g=null}add(m,v){const P=_e.get();P.set(m,v),this.h?this.h.next=P:this.g=P,this.h=P}}var _e=new x(()=>new ke,c=>c.reset());class ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,z=!1,Y=new ie,se=()=>{const c=l.Promise.resolve(void 0);ee=()=>{c.then(ve)}};var ve=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){D(v)}var m=_e;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var He=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};l.addEventListener("test",v,m),l.removeEventListener("test",v,m)}catch{}return c}();function Ke(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(M){e:{try{N(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ze[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ke.aa.h.call(this)}}E(Ke,W);var Ze={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Dt(c,m,v,P,B){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!P,this.ha=B,this.key=++Ot,this.da=this.fa=!1}function cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,v,P,B){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var te=nn(c,m,P,B);return-1<te?(m=c[te],v||(m.fa=!1)):(m=new Dt(m,this.src,H,!!P,B),m.fa=v,c.push(m)),m};function rt(c,m){var v=m.type;if(v in c.g){var P=c.g[v],B=Array.prototype.indexOf.call(P,m,void 0),H;(H=0<=B)&&Array.prototype.splice.call(P,B,1),H&&(cr(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function nn(c,m,v,P){for(var B=0;B<c.length;++B){var H=c[B];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==P)return B}return-1}var es="closure_lm_"+(1e6*Math.random()|0),xs={};function Lt(c,m,v,P,B){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Lt(c,m[H],v,P,B);return null}return v=qn(v),c&&c[nt]?c.K(m,v,u(P)?!!P.capture:!!P,B):Is(c,m,v,!1,P,B)}function Is(c,m,v,P,B,H){if(!m)throw Error("Invalid event type");var te=u(B)?!!B.capture:!!B,Fe=ts(c);if(Fe||(c[es]=Fe=new le(c)),v=Fe.add(m,v,P,te,H),v.proxy)return v;if(P=Ar(),v.proxy=P,P.src=c,P.listener=v,c.addEventListener)He||(B=te),B===void 0&&(B=!1),c.addEventListener(m.toString(),P,B);else if(c.attachEvent)c.attachEvent(kr(m.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ar(){function c(v){return m.call(c.src,c.listener,v)}const m=ci;return c}function jn(c,m,v,P,B){if(Array.isArray(m))for(var H=0;H<m.length;H++)jn(c,m[H],v,P,B);else P=u(P)?!!P.capture:!!P,v=qn(v),c&&c[nt]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],v=nn(H,v,P,B),-1<v&&(cr(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=ts(c))&&(m=c.g[m.toString()],c=-1,m&&(c=nn(m,v,P,B)),(v=-1<c?m[c]:null)&&mn(v))}function mn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[nt])rt(m.i,c);else{var v=c.type,P=c.proxy;m.removeEventListener?m.removeEventListener(v,P,c.capture):m.detachEvent?m.detachEvent(kr(v),P):m.addListener&&m.removeListener&&m.removeListener(P),(v=ts(m))?(rt(v,c),v.h==0&&(v.src=null,m[es]=null)):cr(c)}}}function kr(c){return c in xs?xs[c]:xs[c]="on"+c}function ci(c,m){if(c.da)c=!0;else{m=new Ke(m,this);var v=c.listener,P=c.ha||c.src;c.fa&&mn(c),c=v.call(P,m)}return c}function ts(c){return c=c[es],c instanceof le?c:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(c){return typeof c=="function"?c:(c[gn]||(c[gn]=function(m){return c.handleEvent(m)}),c[gn])}function ht(){Te.call(this),this.i=new le(this),this.M=this,this.F=null}E(ht,Te),ht.prototype[nt]=!0,ht.prototype.removeEventListener=function(c,m,v,P){jn(this,c,m,v,P)};function et(c,m){var v,P=c.F;if(P)for(v=[];P;P=P.F)v.push(P);if(c=c.M,P=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var B=m;m=new W(P,c),A(m,B)}if(B=!0,v)for(var H=v.length-1;0<=H;H--){var te=m.g=v[H];B=at(te,P,!0,m)&&B}if(te=m.g=c,B=at(te,P,!0,m)&&B,B=at(te,P,!1,m)&&B,v)for(H=0;H<v.length;H++)te=m.g=v[H],B=at(te,P,!1,m)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],P=0;P<v.length;P++)cr(v[P]);delete c.g[m],c.h--}}this.F=null},ht.prototype.K=function(c,m,v,P){return this.i.add(String(c),m,!1,v,P)},ht.prototype.L=function(c,m,v,P){return this.i.add(String(c),m,!0,v,P)};function at(c,m,v,P){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,H=0;H<m.length;++H){var te=m[H];if(te&&!te.da&&te.capture==v){var Fe=te.listener,xt=te.ha||te.src;te.fa&&rt(c.i,te),B=Fe.call(xt,P)!==!1&&B}}return B&&!P.defaultPrevented}function _n(c,m,v){if(typeof c=="function")v&&(c=g(c,v));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(c,m||0)}function Cr(c){c.g=_n(()=>{c.g=null,c.i&&(c.i=!1,Cr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Hn extends Te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(c){Te.call(this),this.h=c,this.g={}}E(Nn,Te);var rn=[];function fo(c){R(c.g,function(m,v){this.g.hasOwnProperty(v)&&mn(m)},c),c.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),fo(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=l.JSON.stringify,pa=l.JSON.parse,zl=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function di(){}di.prototype.h=null;function As(c){return c.h||(c.h=c.i())}function po(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){W.call(this,"d")}E(Rr,W);function dr(){W.call(this,"c")}E(dr,W);var hr={},hi=null;function fi(){return hi=hi||new ht}hr.La="serverreachability";function mo(c){W.call(this,hr.La,c)}E(mo,W);function fr(c){const m=fi();et(m,new mo(m))}hr.STAT_EVENT="statevent";function ks(c,m){W.call(this,hr.STAT_EVENT,c),this.stat=m}E(ks,W);function ft(c){const m=fi();et(m,new ks(m,c))}hr.Ma="timingevent";function rs(c,m){W.call(this,hr.Ma,c),this.size=m}E(rs,W);function F(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},m)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function q(c,m,v,P,B,H){c.info(function(){if(c.g)if(H)for(var te="",Fe=H.split("&"),xt=0;xt<Fe.length;xt++){var De=Fe[xt].split("=");if(1<De.length){var Ut=De[0];De=De[1];var Bt=Ut.split("_");te=2<=Bt.length&&Bt[1]=="type"?te+(Ut+"="+De+"&"):te+(Ut+"=redacted&")}}else te=null;else te=H;return"XMLHTTP REQ ("+P+") [attempt "+B+"]: "+m+`
`+v+`
`+te})}function G(c,m,v,P,B,H,te){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+B+"]: "+m+`
`+v+`
`+H+" "+te})}function re(c,m,v,P){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+pe(c,v)+(P?" "+P:"")})}function ue(c,m){c.info(function(){return"TIMEOUT: "+m})}U.prototype.info=function(){};function pe(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var P=v[c];if(!(2>P.length)){var B=P[1];if(Array.isArray(B)&&!(1>B.length)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(var te=1;te<B.length;te++)B[te]=""}}}}return ns(v)}catch{return m}}var Z={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},we={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},he;function fe(){}E(fe,di),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},he=new fe;function Ce(c,m,v,P){this.j=c,this.i=m,this.l=v,this.R=P||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var Ue={},xe={};function lt(c,m,v){c.L=1,c.v=Cs(gr(m)),c.m=v,c.P=!0,ut(c,null)}function ut(c,m){c.F=Date.now(),Wn(c),c.A=gr(c.v);var v=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),id(v.i,"t",P),c.C=0,v=c.j.J,c.h=new Pe,c.g=eu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Hn(g(c.Y,c,c.g),c.O)),m=c.U,v=c.g,P=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(rn[0]=B.toString()),B=rn);for(var H=0;H<B.length;H++){var te=Lt(v,B[H],P||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),fr(),q(c.i,c.u,c.A,c.l,c.R,c.m)}Ce.prototype.ca=function(c){c=c.target;const m=this.M;m&&Lr(c)==3?m.j():this.Y(c)},Ce.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=Lr(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||dd(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=wi?fr(3):fr(2)),mr(this);var v=this.g.Z();this.X=v;t:if(jr(this)){var P=dd(this.g);c="";var B=P.length,H=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Mt(this);var te="";break t}this.h.i=new l.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,c+=this.h.i.decode(P[m],{stream:!(H&&m==B-1)});P.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,G(this.i,this.u,this.A,this.l,this.R,Bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,xt=this.g;if((Fe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Fe)){var De=Fe;break t}}De=null}if(v=De)re(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ss(this,v);else{this.o=!1,this.s=3,ft(12),vn(this),Mt(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<te.length;)if(Gt=pr(this,te),Gt==xe){Bt==4&&(this.s=4,ft(14),v=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ue){this.s=4,ft(15),re(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else re(this.i,this.l,Gt,null),ss(this,Gt);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||te.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)re(this.i,this.l,te,"[Invalid Chunked Response]"),vn(this),Mt(this);else if(0<te.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Xl(Ut),Ut.M=!0,ft(11))}}else re(this.i,this.l,te,null),ss(this,te);Bt==4&&vn(this),this.o&&!this.J&&(Bt==4?gd(this.j,this):(this.o=!1,Wn(this)))}else bp(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),vn(this),Mt(this)}}}catch{}finally{}};function jr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pr(c,m){var v=c.C,P=m.indexOf(`
`,v);return P==-1?xe:(v=Number(m.substring(v,P)),isNaN(v)?Ue:(P+=1,P+v>m.length?xe:(m=m.slice(P,P+v),c.C=P+v,m)))}Ce.prototype.cancel=function(){this.J=!0,vn(this)};function Wn(c){c.S=Date.now()+c.I,Nr(c,c.I)}function Nr(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=F(g(c.ba,c),m)}function mr(c){c.B&&(l.clearTimeout(c.B),c.B=null)}Ce.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ue(this.i,this.A),this.L!=2&&(fr(),ft(17)),vn(this),this.s=2,Mt(this)):Nr(this,this.S-c)};function Mt(c){c.j.G==0||c.J||gd(c.j,c)}function vn(c){mr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,fo(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ss(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||We(v.h,c))){if(!c.K&&We(v.h,c)&&v.G==3){try{var P=v.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var B=P;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ba(v),ya(v);else break e;Jl(v),ft(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=F(g(v.Za,v),6e3));if(1>=St(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mr(v,11)}else if((c.K||v.g==c)&&ba(v),!w(m))for(B=v.Da.g.parse(m),m=0;m<B.length;m++){let De=B[m];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const Ut=De[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Bt=De[4];Bt!=null&&(v.Aa=Bt,v.j.info("SVER="+v.Aa));const wi=De[5];wi!=null&&typeof wi=="number"&&0<wi&&(P=1.5*wi,v.L=P,v.j.info("backChannelRequestTimeoutMs_="+P)),P=v;const Gt=c.g;if(Gt){const vr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var H=P.h;H.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(yn(H,H.h),H.h=null))}if(P.D){const tu=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(P.ya=tu,Ye(P.I,P.D,tu))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),P=v;var te=c;if(P.qa=Zl(P,P.J?P.ia:null,P.W),te.K){go(P.h,te);var Fe=te,xt=P.L;xt&&(Fe.I=xt),Fe.B&&(mr(Fe),Wn(Fe)),P.g=te}else pd(P);0<v.i.length&&wa(v)}else De[0]!="stop"&&De[0]!="close"||Mr(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Mr(v,7):Yl(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}fr(4)}catch{}}var Gn=class{constructor(c,m){this.g=c,this.map=m}};function ge(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function St(c){return c.h?1:c.g?c.g.size:0}function We(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function yn(c,m){c.g?c.g.add(m):c.h=m}function go(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ge.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ma(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return S(c.i)}function mp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(a(c)){for(var m=[],v=c.length,P=0;P<v;P++)m.push(c[P]);return m}m=[],v=0;for(P in c)m[v++]=c[P];return m}function gp(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(a(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const P in c)m[v++]=P;return m}}}function Jc(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(a(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=gp(c),P=mp(c),B=P.length,H=0;H<B;H++)m.call(void 0,P[H],v&&v[H],c)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kn(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var P=c[v].indexOf("="),B=null;if(0<=P){var H=c[v].substring(0,P);B=c[v].substring(P+1)}else H=c[v];m(H,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function is(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof is){this.h=c.h,_o(this,c.j),this.o=c.o,this.g=c.g,ga(this,c.s),this.l=c.l;var m=c.i,v=new os;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Zc(this,v),this.m=c.m}else c&&(m=String(c).match(Xc))?(this.h=!1,_o(this,m[1]||"",!0),this.o=vo(m[2]||""),this.g=vo(m[3]||"",!0),ga(this,m[4]),this.l=vo(m[5]||"",!0),Zc(this,m[6]||"",!0),this.m=vo(m[7]||"")):(this.h=!1,this.i=new os(null,this.h))}is.prototype.toString=function(){var c=[],m=this.j;m&&c.push(yo(m,td,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(yo(m,td,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(yo(v,v.charAt(0)=="/"?nd:_p,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",yo(v,sd)),c.join("")};function gr(c){return new is(c)}function _o(c,m,v){c.j=v?vo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ga(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Zc(c,m,v){m instanceof os?(c.i=m,od(c.i,c.h)):(v||(m=yo(m,rd)),c.i=new os(m,c.h))}function Ye(c,m,v){c.i.set(m,v)}function Cs(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yo(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,ed),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ed(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var td=/[#\/\?@]/g,_p=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,sd=/#/g;function os(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Or(c){c.g||(c.g=new Map,c.h=0,c.i&&Kn(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=os.prototype,t.add=function(c,m){Or(this),this.i=null,c=pi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function _a(c,m){Or(c),m=pi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function wn(c,m){return Or(c),m=pi(c,m),c.g.has(m)}t.forEach=function(c,m){Or(this),this.g.forEach(function(v,P){v.forEach(function(B){c.call(m,B,P,this)},this)},this)},t.na=function(){Or(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let P=0;P<m.length;P++){const B=c[P];for(let H=0;H<B.length;H++)v.push(m[P])}return v},t.V=function(c){Or(this);let m=[];if(typeof c=="string")wn(this,c)&&(m=m.concat(this.g.get(pi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},t.set=function(c,m){return Or(this),this.i=null,c=pi(this,c),wn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function id(c,m,v){_a(c,m),0<v.length&&(c.i=null,c.g.set(pi(c,m),S(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var P=m[v];const H=encodeURIComponent(String(P)),te=this.V(P);for(P=0;P<te.length;P++){var B=H;te[P]!==""&&(B+="="+encodeURIComponent(String(te[P]))),c.push(B)}}return this.i=c.join("&")};function pi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function od(c,m){m&&!c.j&&(Or(c),c.i=null,c.g.forEach(function(v,P){var B=P.toLowerCase();P!=B&&(_a(this,P),id(this,B,v))},c)),c.j=m}function ad(c,m){const v=new U;if(l.Image){const P=new Image;P.onload=_(as,v,"TestLoadImage: loaded",!0,m,P),P.onerror=_(as,v,"TestLoadImage: error",!1,m,P),P.onabort=_(as,v,"TestLoadImage: abort",!1,m,P),P.ontimeout=_(as,v,"TestLoadImage: timeout",!1,m,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else m(!1)}function vp(c,m){const v=new U,P=new AbortController,B=setTimeout(()=>{P.abort(),as(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:P.signal}).then(H=>{clearTimeout(B),H.ok?as(v,"TestPingServer: ok",!0,m):as(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),as(v,"TestPingServer: error",!1,m)})}function as(c,m,v,P,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),P(v)}catch{}}function yp(){this.g=new zl}function wp(c,m,v){const P=v||"";try{Jc(c,function(B,H){let te=B;u(B)&&(te=ns(B)),m.push(P+H+"="+encodeURIComponent(te))})}catch(B){throw m.push(P+"type="+encodeURIComponent("_badmap")),B}}function wo(c){this.l=c.Ub||null,this.j=c.eb||!1}E(wo,di),wo.prototype.g=function(){return new va(this.l,this.j)},wo.prototype.i=function(c){return function(){return c}}({});function va(c,m){ht.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(va,ht),t=va.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ps(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mi(this):Ps(this),this.readyState==3&&ql(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},t.Qa=function(c){this.g&&(this.response=c,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ps(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Ps(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ld(c){let m="";return R(c,function(v,P){m+=P,m+=":",m+=v,m+=`\r
`}),m}function Hl(c,m,v){e:{for(P in v){var P=!1;break e}P=!0}P||(v=ld(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,m,v))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ge,ht);var Dr=/^https?$/i,ud=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,v,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():he.g(),this.v=this.o?As(this.o):As(he),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){cd(this,H);return}if(c=v||"",v=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var B in P)v.set(B,P[B]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const H of P.keys())v.set(H,P.get(H));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),B=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ud,m,void 0))||P||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kl(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){cd(this,H)}};function cd(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Wl(c),bo(c)}function Wl(c){c.A||(c.A=!0,et(c,"complete"),et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,et(this,"complete"),et(this,"abort"),bo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bo(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},t.bb=function(){Gl(this)};function Gl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Lr(c)!=4||c.Z()!=2)){if(c.u&&Lr(c)==4)_n(c.Ea,0,c);else if(et(c,"readystatechange"),Lr(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var P;if(P=te===0){var B=String(c.D).match(Xc)[1]||null;!B&&l.self&&l.self.location&&(B=l.self.location.protocol.slice(0,-1)),P=!Dr.test(B?B.toLowerCase():"")}v=P}if(v)et(c,"complete"),et(c,"success");else{c.m=6;try{var H=2<Lr(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Wl(c)}}finally{bo(c)}}}}function bo(c,m){if(c.g){Kl(c);const v=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||et(c,"ready");try{v.onreadystatechange=P}catch{}}}function Kl(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),pa(m)}};function dd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bp(c){const m={};c=(c.g&&2<=Lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(w(c[P]))continue;var v=j(c[P]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[B]||[];m[B]=H,H.push(v)}I(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ql(c){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,c),this.cb=gi("retryDelaySeedMs",1e4,c),this.Wa=gi("forwardChannelMaxRetries",2,c),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ge(c&&c.concurrentRequestLimit),this.Da=new yp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ql.prototype,t.la=8,t.G=1,t.connect=function(c,m,v,P){ft(0),this.W=c,this.H=m||{},v&&P!==void 0&&(this.H.OSID=v,this.H.OAID=P),this.F=this.X,this.I=Zl(this,null,this.W),wa(this)};function Yl(c){if(hd(c),c.G==3){var m=c.U++,v=gr(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),_i(c,v),m=new Ce(c,c.j,m),m.L=2,m.v=Cs(gr(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=m.v,v=!0),v||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wn(m)}Eo(c)}function ya(c){c.g&&(Xl(c),c.g.cancel(),c.g=null)}function hd(c){ya(c),c.u&&(l.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function wa(c){if(!tt(c.h)&&!c.s){c.s=!0;var m=c.Ga;ee||se(),z||(ee(),z=!0),Y.add(m,c),c.B=0}}function Ep(c,m){return St(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=F(g(c.Ga,c,m),_d(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Ce(this,this.j,c);let H=this.o;if(this.S&&(H?(H=y(H),A(H,this.S)):H=this.S),this.m!==null||this.O||(B.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var P=this.i[v];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fd(this,B,m),v=gr(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),_i(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(ld(H)))+"&"+m:this.m&&Hl(v,this.m,H)),yn(this.h,B),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),B.T=!0,lt(B,v,null)):lt(B,v,m),this.G=2}}else this.G==3&&(c?_r(this,c):this.i.length==0||tt(this.h)||_r(this))};function _r(c,m){var v;m?v=m.l:v=c.U++;const P=gr(c.I);Ye(P,"SID",c.K),Ye(P,"RID",v),Ye(P,"AID",c.T),_i(c,P),c.m&&c.o&&Hl(P,c.m,c.o),v=new Ce(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=fd(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yn(c.h,v),lt(v,P,m)}function _i(c,m){c.H&&R(c.H,function(v,P){Ye(m,P,v)}),c.l&&Jc({},function(v,P){Ye(m,P,v)})}function fd(c,m,v){v=Math.min(c.i.length,v);var P=c.l?g(c.l.Na,c.l,c):null;e:{var B=c.i;let H=-1;for(;;){const te=["count="+v];H==-1?0<v?(H=B[0].g,te.push("ofs="+H)):H=0:te.push("ofs="+H);let Fe=!0;for(let xt=0;xt<v;xt++){let De=B[xt].g;const Ut=B[xt].map;if(De-=H,0>De)H=Math.max(0,B[xt].g-100),Fe=!1;else try{wp(Ut,te,"req"+De+"_")}catch{P&&P(Ut)}}if(Fe){P=te.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,P}function pd(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ee||se(),z||(ee(),z=!0),Y.add(m,c),c.v=0}}function Jl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=F(g(c.Fa,c),_d(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=F(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ya(this),md(this))};function Xl(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function md(c){c.g=new Ce(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=gr(c.qa);Ye(m,"RID","rpc"),Ye(m,"SID",c.K),Ye(m,"AID",c.T),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(m,"TO",c.ja),Ye(m,"TYPE","xmlhttp"),_i(c,m),c.m&&c.o&&Hl(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Cs(gr(m)),v.m=null,v.P=!0,ut(v,c)}t.Za=function(){this.C!=null&&(this.C=null,ya(this),Jl(this),ft(19))};function ba(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function gd(c,m){var v=null;if(c.g==m){ba(c),Xl(c),c.g=null;var P=2}else if(We(c.h,m))v=m.D,go(c.h,m),P=1;else return;if(c.G!=0){if(m.o)if(P==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var B=c.B;P=fi(),et(P,new rs(P,v)),wa(c)}else pd(c);else if(B=m.s,B==3||B==0&&0<m.X||!(P==1&&Ep(c,m)||P==2&&Jl(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),B){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function _d(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Mr(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.fb,c),P=c.Xa;const B=!P;P=new is(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_o(P,"https"),Cs(P),B?ad(P.toString(),v):vp(P.toString(),v)}else ft(2);c.G=0,c.l&&c.l.sa(m),Eo(c),hd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Eo(c){if(c.G=0,c.ka=[],c.l){const m=ma(c.h);(m.length!=0||c.i.length!=0)&&(C(c.ka,m),C(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function Zl(c,m,v){var P=v instanceof is?gr(v):new is(v);if(P.g!="")m&&(P.g=m+"."+P.g),ga(P,P.s);else{var B=l.location;P=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var H=new is(null);P&&_o(H,P),m&&(H.g=m),B&&ga(H,B),v&&(H.l=v),P=H}return v=c.D,m=c.ya,v&&m&&Ye(P,v,m),Ye(P,"VER",c.la),_i(c,P),P}function eu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ge(new wo({eb:v})):new Ge(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vi(){}t=vi.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yi(){}yi.prototype.g=function(c,m){return new bn(c,m)};function bn(c,m){ht.call(this),this.g=new Ql(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new On(this)}E(bn,ht),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Yl(this.g)},bn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ns(c),c=v);m.i.push(new Gn(m.Ya++,c)),m.G==3&&wa(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,bn.aa.N.call(this)};function vd(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(vd,Rr);function yd(){dr.call(this),this.status=1}E(yd,dr);function On(c){this.g=c}E(On,vi),On.prototype.ua=function(){et(this.g,"a")},On.prototype.ta=function(c){et(this.g,new vd(c))},On.prototype.sa=function(c){et(this.g,new yd)},On.prototype.ra=function(){et(this.g,"b")},yi.prototype.createWebChannel=yi.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,xx=function(){return new yi},Sx=function(){return fi()},Tx=hr,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Z.NO_ERROR=0,Z.TIMEOUT=8,Z.HTTP_ERROR=6,mh=Z,we.COMPLETE="complete",Ex=we,po.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Su=po,bx=wo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,wx=Ge}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new rv("@firebase/firestore");function hu(){return Xo.logLevel}function de(t,...e){if(Xo.logLevel<=Ve.DEBUG){const n=e.map(mv);Xo.debug(`Firestore (${jl}): ${t}`,...n)}}function ei(t,...e){if(Xo.logLevel<=Ve.ERROR){const n=e.map(mv);Xo.error(`Firestore (${jl}): ${t}`,...n)}}function fl(t,...e){if(Xo.logLevel<=Ve.WARN){const n=e.map(mv);Xo.warn(`Firestore (${jl}): ${t}`,...n)}}function mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function Xe(t,e){t||be()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let i=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const a=i;e.enqueueRetryable(async()=>{await a.promise,await s(this.currentUser)})},l=a=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new Ix(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new un(e)}}class hO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new pO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function pl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new $t(0,0))}static max(){return new Se(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends gc{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new it(n)}static emptyPath(){return new it([])}}const _O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends gc{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return _O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[s+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function vO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new to(s,me.empty(),e)}function yO(t){return new to(t.readTime,t.key,-1)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(Se.min(),me.empty(),-1)}static max(){return new to(Se.max(),me.empty(),-1)}}function wO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==bO)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},a=>r(a))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let a=0;a<i;a++){const u=a;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gv.oe=-1;function Vf(t){return t==null}function tf(t){return t===0&&1/t==-1/0}function SO(t){return typeof t=="number"&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xO(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new Xt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Cx("Invalid base64 string: "+i):i}}(e);return new en(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=IO.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _v(t){const e=t.mapValue.fields.__previous_value__;return Ff(e)?_v(e):e}function _c(t){const e=no(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,s,i,o,l,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class vc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ff(t)?4:CO(t)?9007199254740991:kO(t)?10:11:be()}function Es(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=no(s.timestampValue),l=no(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Zo(s.bytesValue).isEqual(Zo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return It(s.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return It(s.integerValue)===It(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=It(s.doubleValue),l=It(i.doubleValue);return o===l?tf(o)===tf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(E0(o)!==E0(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!Es(o[a],l[a])))return!1;return!0}(t,e);default:return be()}}function yc(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function ml(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=It(i.integerValue||i.doubleValue),a=It(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return S0(t.timestampValue,e.timestampValue);case 4:return S0(_c(t),_c(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Zo(i),a=Zo(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),a=o.split("/");for(let u=0;u<l.length&&u<a.length;u++){const d=qe(l[u],a[u]);if(d!==0)return d}return qe(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=qe(It(i.latitude),It(o.latitude));return l!==0?l:qe(It(i.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,a,u,d;const h=i.fields||{},g=o.fields||{},_=(l=h.value)===null||l===void 0?void 0:l.arrayValue,E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,S=qe(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:x0(_,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zd.mapValue&&o===zd.mapValue)return 0;if(i===zd.mapValue)return 1;if(o===zd.mapValue)return-1;const l=i.fields||{},a=Object.keys(l),u=o.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let h=0;h<a.length&&h<d.length;++h){const g=qe(a[h],d[h]);if(g!==0)return g;const _=ml(l[a[h]],u[d[h]]);if(_!==0)return _}return qe(a.length,d.length)}(t.mapValue,e.mapValue);default:throw be()}}function S0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=no(t),r=no(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function x0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ml(n[s],r[s]);if(i)return i}return qe(n.length,r.length)}function gl(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jg(n.fields[o])}`;return s+"}"}(t.mapValue):be()}function nf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ng(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function A0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function kO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$u(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=$u(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Nl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new br($u(this.value))}}function Px(t){const e=[];return Nl(t.fields,(n,r)=>{const s=new Yt([n]);if(gh(r)){const i=Px(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new dn(e,0,Se.min(),Se.min(),Se.min(),br.empty(),0)}static newFoundDocument(e,n,r,s){return new dn(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new dn(e,2,n,Se.min(),Se.min(),br.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Se.min(),Se.min(),br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.position=e,this.inclusive=n}}function k0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=ml(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function C0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{}class jt extends Rx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jO(e,n,r):n==="array-contains"?new DO(e,r):n==="in"?new LO(e,r):n==="not-in"?new MO(e,r):n==="array-contains-any"?new VO(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NO(e,r):new OO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ml(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends Rx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xr(e,n)}matches(e){return jx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jx(t){return t.op==="and"}function Nx(t){return RO(t)&&jx(t)}function RO(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function Og(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(Nx(t))return t.filters.map(e=>Og(e)).join(",");{const e=t.filters.map(n=>Og(n)).join(",");return`${t.op}(${e})`}}function Ox(t,e){return t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&Es(r.value,s.value)}(t,e):t instanceof Xr?function(r,s){return s instanceof Xr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Ox(o,s.filters[l]),!0):!1}(t,e):void be()}function Dx(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(Dx).join(" ,")+"}"}(t):"Filter"}class jO extends jt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class NO extends jt{constructor(e,n){super(e,"in",n),this.keys=Lx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Lx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class DO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&yc(n.arrayValue,this.value)}}class LO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class MO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class VO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function P0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new FO(t,e,n,r,s,i,o)}function yv(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Og(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gl(r)).join(",")),e.ue=n}return e.ue}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ox(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C0(t.startAt,e.startAt)&&C0(t.endAt,e.endAt)}function Dg(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $O(t,e,n,r,s,i,o,l){return new ua(t,e,n,r,s,i,o,l)}function bv(t){return new ua(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ev(t){return t.collectionGroup!==null}function nl(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xt(Yt.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new wc(i,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new wc(Yt.keyField(),r))}return e.ce}function _s(t){const e=Ee(t);return e.le||(e.le=Mx(e,nl(t))),e.le}function UO(t){const e=Ee(t);return e.he||(e.he=Mx(e,t.explicitOrderBy)),e.he}function Mx(t,e){if(t.limitType==="F")return P0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wc(s.field,i)});const n=t.endAt?new _l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _l(t.startAt.position,t.startAt.inclusive):null;return P0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lg(t,e){const n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rf(t,e,n){return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $f(t,e){return wv(_s(t),_s(e))&&t.limitType===e.limitType}function Vx(t){return`${yv(_s(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Dx(s)).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gl(s)).join(",")),`Target(${r})`}(_s(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of nl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,a){const u=k0(o,l,a);return o.inclusive?u<=0:u<0}(r.startAt,nl(r),s)||r.endAt&&!function(o,l,a){const u=k0(o,l,a);return o.inclusive?u>=0:u>0}(r.endAt,nl(r),s))}(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fx(t){return(e,n)=>{let r=!1;for(const s of nl(t)){const i=zO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zO(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,l){const a=o.data.field(i),u=l.data.field(i);return a!==null&&u!==null?ml(a,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new wt(me.comparator);function ti(){return qO}const $x=new wt(me.comparator);function xu(...t){let e=$x;for(const n of t)e=e.insert(n.key,n);return e}function Ux(t){let e=$x;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mo(){return Uu()}function Bx(){return Uu()}function Uu(){return new Ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const HO=new wt(me.comparator),WO=new Xt(me.comparator);function Oe(...t){let e=WO;for(const n of t)e=e.add(n);return e}const GO=new Xt(qe);function KO(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function zx(t){return{integerValue:""+t}}function QO(t,e){return SO(e)?zx(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function YO(t,e,n){return t instanceof bc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ff(i)&&(i=_v(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ec?Hx(t,e):t instanceof Tc?Wx(t,e):function(s,i){const o=qx(s,i),l=j0(o)+j0(s.Pe);return Ng(o)&&Ng(s.Pe)?zx(l):Tv(s.serializer,l)}(t,e)}function JO(t,e,n){return t instanceof Ec?Hx(t,e):t instanceof Tc?Wx(t,e):n}function qx(t,e){return t instanceof sf?function(r){return Ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bc extends Bf{}class Ec extends Bf{constructor(e){super(),this.elements=e}}function Hx(t,e){const n=Gx(e);for(const r of t.elements)n.some(s=>Es(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends Bf{constructor(e){super(),this.elements=e}}function Wx(t,e){let n=Gx(e);for(const r of t.elements)n=n.filter(s=>!Es(s,r));return{arrayValue:{values:n}}}class sf extends Bf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function j0(t){return It(t.integerValue||t.doubleValue)}function Gx(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.field=e,this.transform=n}}function ZO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ec&&s instanceof Ec||r instanceof Tc&&s instanceof Tc?pl(r.elements,s.elements,Es):r instanceof sf&&s instanceof sf?Es(r.Pe,s.Pe):r instanceof bc&&s instanceof bc}(t.transform,e.transform)}class eD{constructor(e,n){this.version=e,this.transformResults=n}}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zf{}function Kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yx(t.key,vs.none()):new Uc(t.key,t.data,vs.none());{const n=t.data,r=br.empty();let s=new Xt(Yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ca(t.key,r,new Gr(s.toArray()),vs.none())}}function tD(t,e,n){t instanceof Uc?function(s,i,o){const l=s.value.clone(),a=O0(s.fieldTransforms,i,o.transformResults);l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ca?function(s,i,o){if(!_h(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=O0(s.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(Qx(s)),a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof Uc?function(i,o,l,a){if(!_h(i.precondition,o))return l;const u=i.value.clone(),d=D0(i.fieldTransforms,a,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ca?function(i,o,l,a){if(!_h(i.precondition,o))return l;const u=D0(i.fieldTransforms,a,o),d=o.data;return d.setAll(Qx(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return _h(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function nD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qx(r.transform,s||null);i!=null&&(n===null&&(n=br.empty()),n.set(r.field,i))}return n||null}function N0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pl(r,s,(i,o)=>ZO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ca extends zf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function O0(t,e,n){const r=new Map;Xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,JO(o,l,n[s]))}return r}function D0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,YO(i,o,e))}return r}class Yx extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const a=Kx(o,l);a!==null&&r.set(s.key,a),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,r)=>N0(n,r))&&pl(this.baseMutations,e.baseMutations,(n,r)=>N0(n,r))}}class Sv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length);let s=function(){return HO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Sv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function lD(t){switch(t){default:return be();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Jx(t){if(t===void 0)return ei("GRPC error has no .code"),K.UNKNOWN;switch(t){case kt.OK:return K.OK;case kt.CANCELLED:return K.CANCELLED;case kt.UNKNOWN:return K.UNKNOWN;case kt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case kt.INTERNAL:return K.INTERNAL;case kt.UNAVAILABLE:return K.UNAVAILABLE;case kt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case kt.NOT_FOUND:return K.NOT_FOUND;case kt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case kt.ABORTED:return K.ABORTED;case kt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case kt.DATA_LOSS:return K.DATA_LOSS;default:return be()}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Bo([4294967295,4294967295],0);function L0(t){const e=uD().encode(t),n=new yx;return n.update(e),new Uint8Array(n.digest())}function M0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([s,i],0)]}class xv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Bo.fromNumber(r)));return s.compare(cD)===1&&(s=new Bo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=L0(e),[r,s]=M0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xv(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=L0(e),[r,s]=M0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qf(Se.min(),s,new wt(qe),ti(),Oe())}}class Bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Xx{constructor(e,n){this.targetId=e,this.me=n}}class Zx{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class V0{constructor(){this.fe=0,this.ge=$0(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new Bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=F0(),this.Qe=new wt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new me(i.path);this.Ue(n,o,dn.newNoDocument(o,Se.min()))}else Xe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),a=l?this.Xe(l,e,o):1;if(a!==0){this.je(n);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Zo(r).toUint8Array()}catch(a){if(a instanceof Cx)return fl("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new xv(o,s,i)}catch(a){return fl(a instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Dg(l.target)){const a=new me(l.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,dn.newNoDocument(a,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Oe();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new qf(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=F0(),this.Qe=new wt(qe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new V0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new V0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function F0(){return new wt(me.comparator)}function $0(){return new wt(me.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class mD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||Vf(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gD(t,e){return of(t,e.toTimestamp())}function ys(t){return Xe(!!t),Se.fromTimestamp(function(n){const r=no(n);return new $t(r.seconds,r.nanos)}(t))}function Iv(t,e){return Vg(t,e).canonicalString()}function Vg(t,e){const n=function(s){return new it(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=it.fromString(t);return Xe(aI(e)),e}function Fg(t,e){return Iv(t.databaseId,e.path)}function om(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(rI(n))}function nI(t,e){return Iv(t.databaseId,e)}function _D(t){const e=tI(t);return e.length===4?it.emptyPath():rI(e)}function $g(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rI(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U0(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function vD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Xe(d===void 0||typeof d=="string"),en.fromBase64String(d||"")):(Xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),en.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?K.UNKNOWN:Jx(u.code);return new oe(d,u.message||"")}(o);n=new Zx(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=om(t,r.document.name),i=ys(r.document.updateTime),o=r.document.createTime?ys(r.document.createTime):Se.min(),l=new br({mapValue:{fields:r.document.fields}}),a=dn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new vh(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=om(t,r.document),i=r.readTime?ys(r.readTime):Se.min(),o=dn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new vh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=om(t,r.document),i=r.removedTargetIds||[];n=new vh([],i,s,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new aD(s,i),l=r.targetId;n=new Xx(l,o)}}return n}function yD(t,e){let n;if(e instanceof Uc)n={update:U0(t,e.key,e.value)};else if(e instanceof Yx)n={delete:Fg(t,e.key)};else if(e instanceof ca)n={update:U0(t,e.key,e.data),updateMask:kD(e.fieldMask)};else{if(!(e instanceof rD))return be();n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sf)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:gD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be()}(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ys(s.updateTime):ys(i);return o.isEqual(Se.min())&&(o=ys(i)),new eD(o,s.transformResults||[])}(n,e))):[]}function bD(t,e){return{documents:[nI(t,e.path)]}}function sI(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nI(t,s);const i=function(u){if(u.length!==0)return oI(Xr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Di(g.field),direction:xD(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Mg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function ED(t,e,n,r){const{_t:s,parent:i}=sI(t,e),o={},l=[];let a=0;return n.forEach(u=>{const d="aggregate_"+a++;o[d]=u.alias,u.aggregateType==="count"?l.push({alias:d,count:{}}):u.aggregateType==="avg"?l.push({alias:d,avg:{field:Di(u.fieldPath)}}):u.aggregateType==="sum"&&l.push({alias:d,sum:{field:Di(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function TD(t){let e=_D(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const g=iI(h);return g instanceof Xr&&Nx(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(g=>function(E){return new wc(Pa(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(h){let g;return g=typeof h=="object"?h.value:h,Vf(g)?null:g}(n.limit));let a=null;n.startAt&&(a=function(h){const g=!!h.before,_=h.values||[];return new _l(_,g)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const g=!h.before,_=h.values||[];return new _l(_,g)}(n.endAt)),$O(e,s,o,i,l,"F",a,u)}function SD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pa(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pa(n.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pa(n.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Pa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>iI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function xD(t){return hD[t]}function ID(t){return fD[t]}function AD(t){return pD[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Yt.fromServerFormat(t.fieldPath)}function oI(t){return t instanceof jt?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(n.field),op:ID(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(s=>oI(s));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):be()}function kD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,s,i=Se.min(),o=Se.min(),l=en.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.ct=e}}function PD(t){const e=TD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.un=new jD}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(to.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class jD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xt(it.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vl(0)}static kn(){return new vl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new Ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Bu(r.mutation,s,Gr.empty(),$t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=xu();return i.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ti();const o=Uu(),l=function(){return Uu()}();return n.forEach((a,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ca)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Bu(d.mutation,u,d.mutation.getFieldMask(),$t.now())):o.set(u.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,i).next(a=>(a.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new OD(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Uu();let s=new wt((o,l)=>o-l),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let d=r.get(a)||Gr.empty();d=l.applyToLocalView(u,d),r.set(a,d);const h=(s.get(l.batchId)||Oe()).add(a);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,d=a.value,h=Bx();d.forEach(g=>{if(!i.has(g)){const _=Kx(n.get(g),r.get(g));_!==null&&h.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ev(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(Mo());let l=-1,a=i;return o.next(u=>J.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{a=a.insert(d,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,a,u,Oe())).next(d=>({batchId:l,changes:Ux(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=xu();return this.indexManager.getCollectionParents(e,i).next(l=>J.forEach(l,a=>{const u=function(h,g){return new ua(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,g)=>{o=o.insert(h,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((a,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,dn.newInvalidDocument(d)))});let l=xu();return o.forEach((a,u)=>{const d=i.get(a);d!==void 0&&Bu(d.mutation,u,Gr.empty(),$t.now()),Uf(n,u)&&(l=l.insert(a,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ys(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:PD(s.bundledQuery),readTime:ys(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.overlays=new wt(me.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Mo(),i=n.length+1,o=new me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&a.largestBatchId>r&&s.set(a.getKey(),a)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new wt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Mo(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Mo(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return J.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iD(n,r));let i=this.Ir.get(n);i===void 0&&(i=Oe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Tr=new Xt(qt.Er),this.dr=new Xt(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new it([])),r=new qt(n,e),s=new qt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new it([])),r=new qt(n,e),s=new qt(n,e+1);let i=Oe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(qt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sD(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new qt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(qe);return n.forEach(s=>{const i=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new qt(new me(i),0);let l=new Xt(qe);return this.br.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(a.wr)),!0)},o),J.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,s=>{const i=new qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qt(n,0),s=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Mr=e,this.docs=function(){return new wt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ti();const o=n.path,l=new me(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:d}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||wO(yO(d),r)<=0||(s.has(d.key)||Uf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){be()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UD(this)}getSize(e){return J.resolve(this.size)}}class UD extends ND{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.persistence=e,this.Nr=new Ol(n=>yv(n),wv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Av,this.targetCount=0,this.kr=vl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gv(0),this.Kr=!1,this.Kr=!0,this.$r=new VD,this.referenceDelegate=e(this),this.Ur=new BD(this),this.indexManager=new RD,this.remoteDocumentCache=function(s){return new $D(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CD(n),this.Gr=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new qD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qD extends EO{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Jr=new Av,this.Yr=null}static Zr(e){return new kv(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{const s=me.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Cv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OP()?8:TO(fn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HD;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(hu()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(hu()<=Ve.DEBUG&&de("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(hu()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):J.resolve())}Yi(e,n){if(R0(n))return J.resolve(null);let r=_s(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rf(n,null,"F"),r=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Oe(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const u=this.ts(n,l);return this.ns(n,u,o,a.readTime)?this.Yi(e,rf(n,null,"F")):this.rs(e,u,n,a)}))})))}Zi(e,n,r,s){return R0(n)||s.isEqual(Se.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?J.resolve(null):(hu()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ca(n)),this.rs(e,o,n,vO(s,-1)).next(l=>l))})}ts(e,n){let r=new Xt(Fx(e));return n.forEach((s,i)=>{Uf(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return hu()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,to.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new wt(qe),this._s=new Ol(i=>yv(i),wv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KD(t,e,n,r){return new GD(t,e,n,r)}async function lI(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let a=Oe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function QD(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,a,u,d){const h=u.batch,g=h.keys();let _=J.resolve();return g.forEach(E=>{_=_.next(()=>d.getEntry(a,E)).next(S=>{const C=u.docVersions.get(E);Xe(C!==null),S.version.compareTo(C)<0&&(h.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(a,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=Oe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(a=a.add(l.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function uI(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YD(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,h)=>{const g=s.get(h);if(!g)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?_=_.withResumeToken(en.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(h,_),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,_,d)&&l.push(n.Ur.updateTargetData(i,_))});let a=ti(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(JD(i,o,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!r.isEqual(Se.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return J.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,a,u)).next(()=>a)}).then(i=>(n.os=s,i))}function JD(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ti();return n.forEach((l,a)=>{const u=i.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),a.isNoDocument()&&a.version.isEqual(Se.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):de("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Ps:o,Is:s}})}function XD(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZD(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!$c(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function B0(t,e,n){const r=Ee(t);let s=Se.min(),i=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,d){const h=Ee(a),g=h._s.get(d);return g!==void 0?J.resolve(h.os.get(g)):h.Ur.getTargetData(u,d)}(r,o,_s(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(a=>{i=a})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:Oe())).next(l=>(eL(r,BO(e),l),{documents:l,Ts:i})))}function eL(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class z0{constructor(){this.activeTargetIds=KO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tL{constructor(){this.so=new z0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function am(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class iL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=am(),a=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${l}:`,a,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,a,u,s).then(d=>(de("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw fl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",a,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=rL[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=am();return new Promise((o,l)=>{const a=new wx;a.setWithCredentials(!0),a.listenOnce(Ex.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case mh.NO_ERROR:const d=a.getResponseJson();de(an,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case mh.TIMEOUT:de(an,`RPC '${e}' ${i} timed out`),l(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const h=a.getStatus();if(de(an,`RPC '${e}' ${i} failed with status:`,h,"response text:",a.getResponseText()),h>0){let g=a.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const E=function(C){const x=C.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(_.status);l(new oe(E,_.message))}else l(new oe(K.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new oe(K.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(an,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);de(an,`RPC '${e}' ${i} sending request:`,s),a.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=am(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xx(),l=Sx(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new bx({})),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=i.join("");de(an,`Creating RPC '${e}' stream ${s}: ${d}`,a);const h=o.createWebChannel(d,a);let g=!1,_=!1;const E=new sL({Io:C=>{_?de(an,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(de(an,`Opening RPC '${e}' stream ${s} transport.`),h.open(),g=!0),de(an,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},To:()=>h.close()}),S=(C,x,w)=>{C.listen(x,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return S(h,Su.EventType.OPEN,()=>{_||(de(an,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),S(h,Su.EventType.CLOSE,()=>{_||(_=!0,de(an,`RPC '${e}' stream ${s} transport closed`),E.So())}),S(h,Su.EventType.ERROR,C=>{_||(_=!0,fl(an,`RPC '${e}' stream ${s} transport errored:`,C),E.So(new oe(K.UNAVAILABLE,"The operation could not be completed")))}),S(h,Su.EventType.MESSAGE,C=>{var x;if(!_){const w=C.data[0];Xe(!!w);const T=w,N=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(N){de(an,`RPC '${e}' stream ${s} received error:`,N);const M=N.status;let R=function(k){const A=kt[k];if(A!==void 0)return Jx(A)}(M),I=N.message;R===void 0&&(R=K.INTERNAL,I="Unknown error status: "+M+" with message "+N.message),_=!0,E.So(new oe(R,I)),h.close()}else de(an,`RPC '${e}' stream ${s} received:`,w),E.bo(w)}}),S(l,Tx.STAT_EVENT,C=>{C.stat===Rg.PROXY?de(an,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Rg.NOPROXY&&de(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){return new mD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,s,i,o,l,a){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new oe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oL extends dI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vD(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?ys(o.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$g(this.serializer),n.addTarget=function(i,o){let l;const a=o.target;if(l=Dg(a)?{documents:bD(i,a)}:{query:sI(i,a)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=eI(i,o.resumeToken);const u=Mg(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){l.readTime=of(i,o.snapshotVersion.toTimestamp());const u=Mg(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=SD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.a_(n)}}class aL extends dI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wD(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$g(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Vg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Vg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{da(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ee(a);u.L_.add(4),await zc(u),u.q_.set("Unknown"),u.L_.delete(4),await Wf(u)}(this))})}),this.q_=new uL(r,s)}}async function Wf(t){if(da(t))for(const e of t.B_)await e(!0)}async function zc(t){for(const e of t.B_)await e(!1)}function hI(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nv(n)?jv(n):Dl(n).r_()&&Rv(n,e))}function Pv(t,e){const n=Ee(t),r=Dl(n);n.N_.delete(e),r.r_()&&fI(n,e),n.N_.size===0&&(r.r_()?r.o_():da(n)&&n.q_.set("Unknown"))}function Rv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).A_(e)}function fI(t,e){t.Q_.xe(e),Dl(t).R_(e)}function jv(t){t.Q_=new dD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.q_.v_()}function Nv(t){return da(t)&&!Dl(t).n_()&&t.N_.size>0}function da(t){return Ee(t).L_.size===0}function pI(t){t.Q_=void 0}async function dL(t){t.q_.set("Online")}async function hL(t){t.N_.forEach((e,n)=>{Rv(t,e)})}async function fL(t,e){pI(t),Nv(t)?(t.q_.M_(e),jv(t)):t.q_.set("Unknown")}async function pL(t,e,n){if(t.q_.set("Online"),e instanceof Zx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await af(t,r)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof Xx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await uI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,u)=>{const d=i.N_.get(a);if(!d)return;i.N_.set(a,d.withResumeToken(en.EMPTY_BYTE_STRING,d.snapshotVersion)),fI(i,a);const h=new Fi(d.target,a,u,d.sequenceNumber);Rv(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await af(t,r)}}async function af(t,e,n){if(!$c(e))throw e;t.L_.add(1),await zc(t),t.q_.set("Offline"),n||(n=()=>uI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wf(t)})}function mI(t,e){return e().catch(n=>af(t,n,e))}async function Gf(t){const e=Ee(t),n=ro(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mL(e);)try{const s=await XD(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,gL(e,s)}catch(s){await af(e,s)}gI(e)&&_I(e)}function mL(t){return da(t)&&t.O_.length<10}function gL(t,e){t.O_.push(e);const n=ro(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gI(t){return da(t)&&!ro(t).n_()&&t.O_.length>0}function _I(t){ro(t).start()}async function _L(t){ro(t).p_()}async function vL(t){const e=ro(t);for(const n of t.O_)e.m_(n.mutations)}async function yL(t,e,n){const r=t.O_.shift(),s=Sv.from(r,e,n);await mI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gf(t)}async function wL(t,e){e&&ro(t).V_&&await async function(r,s){if(function(o){return lD(o)&&o!==K.ABORTED}(s.code)){const i=r.O_.shift();ro(r).s_(),await mI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gf(r)}}(t,e),gI(t)&&_I(t)}async function H0(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=da(n);n.L_.add(3),await zc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wf(n)}async function bL(t,e){const n=Ee(t);e?(n.L_.delete(2),await Wf(n)):e||(n.L_.add(2),await zc(n),n.q_.set("Unknown"))}function Dl(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new oL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:dL.bind(null,t),Ro:hL.bind(null,t),mo:fL.bind(null,t),d_:pL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Nv(t)?jv(t):t.q_.set("Unknown")):(await t.K_.stop(),pI(t))})),t.K_}function ro(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new aL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_L.bind(null,t),mo:wL.bind(null,t),f_:vL.bind(null,t),g_:yL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gf(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ov(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(ei("AsyncQueue",`${e}: ${t}`),$c(t))return new oe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=xu(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.W_=new wt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,l,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yl(e,n,rl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TL{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=G0(),i.forEach((o,l)=>{for(const a of l.j_)a.onError(r)})})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function G0(){return new Ol(t=>Vx(t),$f)}async function vI(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new EL,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Dv(o,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Lv(n)}async function yI(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SL(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Lv(n)}function xL(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var Bg,K0;(K0=Bg||(Bg={})).ea="default",K0.Cache="cache";class wI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.key=e}}class EI{constructor(e){this.key=e}}class IL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=Fx(e),this.Ra=new rl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W0,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const a=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const g=s.get(d),_=Uf(this.query,h)?h:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;g&&_?g.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),C=!0):this.ga(g,_)||(r.track({type:2,doc:_}),C=!0,(a&&this.Aa(_,a)>0||u&&this.Aa(_,u)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),C=!0):g&&!_&&(r.track({type:1,doc:g}),C=!0,(a||u)&&(l=!0)),C&&(_?(o=o.add(_),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(_,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return S(_)-S(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],a=this.da.size===0&&this.current&&!s?1:0,u=a!==this.Ea;return this.Ea=a,o.length!==0||u?{snapshot:new yl(this.query,e.Ra,i,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new bI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kL{constructor(e){this.key=e,this.va=!1}}class CL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ol(l=>Vx(l),$f),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(me.comparator),this.Na=new Map,this.La=new Av,this.Ba={},this.ka=new Map,this.qa=vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PL(t,e,n=!0){const r=kI(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await TI(r,e,n,!0),s}async function RL(t,e){const n=kI(t);await TI(n,e,!0,!1)}async function TI(t,e,n,r){const s=await ZD(t.localStore,_s(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let l;return r&&(l=await jL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&hI(t.remoteStore,s),l}async function jL(t,e,n,r,s){t.Ka=(h,g,_)=>async function(S,C,x,w){let T=C.view.ma(x);T.ns&&(T=await B0(S.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,T)));const N=w&&w.targetChanges.get(C.targetId),M=w&&w.targetMismatches.get(C.targetId)!=null,R=C.view.applyChanges(T,S.isPrimaryClient,N,M);return Y0(S,C.targetId,R.wa),R.snapshot}(t,h,g,_);const i=await B0(t.localStore,e,!0),o=new IL(e,i.Ts),l=o.ma(i.documents),a=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,a);Y0(t,n,u.wa);const d=new AL(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function NL(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!$f(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ug(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pv(r.remoteStore,s.targetId),zg(r,s.targetId)}).catch(Fc)):(zg(r,s.targetId),await Ug(r.localStore,s.targetId,!0))}async function OL(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(n.remoteStore,r.targetId))}async function DL(t,e,n){const r=BL(t);try{const s=await function(o,l){const a=Ee(o),u=$t.now(),d=l.reduce((_,E)=>_.add(E.key),Oe());let h,g;return a.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ti(),S=Oe();return a.cs.getEntries(_,d).next(C=>{E=C,E.forEach((x,w)=>{w.isValidDocument()||(S=S.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(_,E)).next(C=>{h=C;const x=[];for(const w of l){const T=nD(w,h.get(w.key).overlayedDocument);T!=null&&x.push(new ca(w.key,T,Px(T.value.mapValue),vs.exists(!0)))}return a.mutationQueue.addMutationBatch(_,u,x,l)}).next(C=>{g=C;const x=C.applyToLocalDocumentSet(h,S);return a.documentOverlayCache.saveOverlays(_,C.batchId,x)})}).then(()=>({batchId:g.batchId,changes:Ux(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,a){let u=o.Ba[o.currentUser.toKey()];u||(u=new wt(qe)),u=u.insert(l,a),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await qc(r,s.changes),await Gf(r.remoteStore)}catch(s){const i=Dv(s,"Failed to persist write");n.reject(i)}}async function SI(t,e){const n=Ee(t);try{const r=await YD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Xe(o.va):s.removedDocuments.size>0&&(Xe(o.va),o.va=!1))}),await qc(n,r,e)}catch(r){await Fc(r)}}function Q0(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const a=Ee(o);a.onlineState=l;let u=!1;a.queries.forEach((d,h)=>{for(const g of h.j_)g.Z_(l)&&(u=!0)}),u&&Lv(a)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LL(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new wt(me.comparator);o=o.insert(i,dn.newNoDocument(i,Se.min()));const l=Oe().add(i),a=new qf(Se.min(),new Map,new wt(qe),o,l);await SI(r,a),r.Oa=r.Oa.remove(i),r.Na.delete(e),Mv(r)}else await Ug(r.localStore,e,!1).then(()=>zg(r,e,n)).catch(Fc)}async function ML(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await QD(n.localStore,e);II(n,r,null),xI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qc(n,s)}catch(s){await Fc(s)}}async function VL(t,e,n){const r=Ee(t);try{const s=await function(o,l){const a=Ee(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return a.mutationQueue.lookupMutationBatch(u,l).next(h=>(Xe(h!==null),d=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>a.localDocuments.getDocuments(u,d))})}(r.localStore,e);II(r,e,n),xI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qc(r,s)}catch(s){await Fc(s)}}function xI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function II(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||AI(t,r)})}function AI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mv(t))}function Y0(t,e,n){for(const r of n)r instanceof bI?(t.La.addReference(r.key,e),FL(t,r)):r instanceof EI?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||AI(t,r.key)):be()}function FL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mv(t))}function Mv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(it.fromString(e)),r=t.qa.next();t.Na.set(r,new kL(n)),t.Oa=t.Oa.insert(n,r),hI(t.remoteStore,new Fi(_s(bv(n.path)),r,"TargetPurposeLimboResolution",gv.oe))}}async function qc(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,a)=>{o.push(r.Ka(a,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Cv.Wi(a.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(a,u){const d=Ee(a);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(u,g=>J.forEach(g.$i,_=>d.persistence.referenceDelegate.addReference(h,g.targetId,_)).next(()=>J.forEach(g.Ui,_=>d.persistence.referenceDelegate.removeReference(h,g.targetId,_)))))}catch(h){if(!$c(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const _=d.os.get(g),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(g,S)}}}(r.localStore,i))}async function $L(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await lI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(a=>{a.reject(new oe(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qc(n,r.hs)}}function UL(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let s=Oe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function kI(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LL.bind(null,e),e.Ca.d_=SL.bind(null,e.eventManager),e.Ca.$a=xL.bind(null,e.eventManager),e}function BL(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ML.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VL.bind(null,e),e}class J0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KD(this.persistence,new WD,e.initialUser,this.serializer)}createPersistence(e){return new zD(kv.Zr,this.serializer)}createSharedClientState(e){return new tL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$L.bind(null,this.syncEngine),await bL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TL}()}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=function(i){return new iL(i)}(e.databaseInfo);return function(i,o,l,a){return new lL(i,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new cL(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Q0(this.syncEngine,n,0),function(){return q0.D()?new q0:new nL}())}createSyncEngine(e,n){return function(s,i,o,l,a,u,d){const h=new CL(s,i,o,l,a,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);de("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await zc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{de("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(de("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function um(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WL(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>H0(e.remoteStore,s)),t._onlineComponents=e}function HL(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await um(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HL(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await um(t,new J0)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await um(t,new J0);return t._offlineComponents}async function Vv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await X0(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await X0(t,new zL))),t._onlineComponents}function GL(t){return Vv(t).then(e=>e.syncEngine)}function KL(t){return Vv(t).then(e=>e.datastore)}async function PI(t){const e=await Vv(t),n=e.eventManager;return n.onListen=PL.bind(null,e.syncEngine),n.onUnlisten=NL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OL.bind(null,e.syncEngine),n}function QL(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,a,u){const d=new CI({next:g=>{o.enqueueAndForget(()=>yI(i,h));const _=g.docs.has(l);!_&&g.fromCache?u.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&a&&a.source==="server"?u.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new wI(bv(l.path),d,{includeMetadataChanges:!0,_a:!0});return vI(i,h)}(await PI(t),t.asyncQueue,e,n,r)),r.promise}function YL(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,a,u){const d=new CI({next:g=>{o.enqueueAndForget(()=>yI(i,h)),g.fromCache&&a.source==="server"?u.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new wI(l,d,{includeMetadataChanges:!0,_a:!0});return vI(i,h)}(await PI(t),t.asyncQueue,e,n,r)),r.promise}function JL(t,e,n){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await KL(t);r.resolve(async function(o,l,a){var u;const d=Ee(o),{request:h,ut:g,parent:_}=ED(d.serializer,UO(l),a);d.connection.Fo||delete h.parent;const E=(await d.Lo("RunAggregationQuery",d.serializer.databaseId,_,h,1)).filter(C=>!!C.result);Xe(E.length===1);const S=(u=E[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(S).reduce((C,x)=>(C[g[x]]=S[x],C),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){if(!n)throw new oe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XL(t,e,n,r){if(e===!0&&r===!0)throw new oe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eb(t){if(!me.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tb(t){if(me.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uO;switch(r.type){case"firstParty":return new fO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z0.get(n);r&&(de("ComponentProvider","Removing Datastore"),Z0.delete(n),r.terminate())}(this),Promise.resolve()}}function ZL(t,e,n,r={}){var s;const i=(t=ni(t,Qf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=un.MOCK_USER;else{l=kP(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new un(u)}t._authCredentials=new cO(new Ix(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new li(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Xi extends li{constructor(e,n,r){super(e,n,bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new me(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Hc(t,e,...n){if(t=An(t),jI("collection","path",e),t instanceof Qf){const r=it.fromString(e,...n);return tb(r),new Xi(t,null,r)}{if(!(t instanceof zn||t instanceof Xi))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return tb(r),new Xi(t.firestore,null,r)}}function Zr(t,e,...n){if(t=An(t),arguments.length===1&&(e=Ax.newId()),jI("doc","path",e),t instanceof Qf){const r=it.fromString(e,...n);return eb(r),new zn(t,null,new me(r))}{if(!(t instanceof zn||t instanceof Xi))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return eb(r),new zn(t.firestore,t instanceof Xi?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new cI(this,"async_queue_retry"),this.Eu=()=>{const n=lm();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new gs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!$c(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ei("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=Ov.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&be()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ll extends Qf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new e2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NI(this),this._firestoreClient.terminate()}}function t2(t,e){const n=DS(),r="(default)",s=iv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IP("firestore");i&&ZL(s,...i)}return s}function Yf(t){return t._firestoreClient||NI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NI(t){var e,n,r;const s=t._freezeSettings(),i=function(l,a,u,d){return new AO(l,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new qL(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class r2{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(en.fromBase64String(e))}catch(n){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^__.*__$/;class i2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}function OI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class zv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return lf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(OI(this.wu)&&s2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class o2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}Nu(e,n,r,s=!1){return new zv({wu:e,methodName:n,Ou:r,path:Yt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new o2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DI(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);FI("Data must be an object, but it was:",o,r);const l=MI(r,o);let a,u;if(i.merge)a=new Gr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const g=a2(e,h,n);if(!o.contains(g))throw new oe(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);u2(d,g)||d.push(g)}a=new Gr(d),u=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=o.fieldTransforms;return new i2(new br(l),a,u)}class qv extends $v{_toFieldTransform(e){return new XO(e.path,new bc)}isEqual(e){return e instanceof qv}}function LI(t,e,n,r=!1){return Hv(n,t.Nu(r?4:3,e))}function Hv(t,e){if(VI(t=An(t)))return FI("Unsupported field value:",e,t),MI(t,e);if(t instanceof $v)return function(r,s){if(!OI(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let a=Hv(l,s.Fu(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$t.fromDate(r);return{timestampValue:of(s.serializer,i)}}if(r instanceof $t){const i=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(s.serializer,i)}}if(r instanceof Uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wl)return{bytesValue:eI(s.serializer,r._byteString)};if(r instanceof zn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Iv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bv)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw l.Mu("VectorValues must only contain numeric values.");return Tv(l.serializer,a)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Kf(r)}`)}(t,e)}function MI(t,e){const n={};return kx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(t,(r,s)=>{const i=Hv(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function VI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Uv||t instanceof wl||t instanceof zn||t instanceof $v||t instanceof Bv)}function FI(t,e,n){if(!VI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Kf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function a2(t,e,n){if((e=An(e))instanceof Fv)return e._internalPath;if(typeof e=="string")return $I(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const l2=new RegExp("[~\\*/\\[\\]]");function $I(t,e,n){if(e.search(l2)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fv(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(i||o)&&(a+=" (found",i&&(a+=` in field ${r}`),o&&(a+=` in document ${s}`),a+=")"),new oe(K.INVALID_ARGUMENT,l+t+a)}function u2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c2 extends Wv{data(){return super.data()}}function Gv(t,e){return typeof e=="string"?$I(t,e):e instanceof Fv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class Xf extends Kv{}function h2(t,e,...n){let r=[];e instanceof Kv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Yv).length,l=i.filter(a=>a instanceof Qv).length;if(o>1||o>0&&l>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Qv extends Xf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qv(e,n,r)}_apply(e){const n=this._parse(e);return UI(e._query,n),new li(e.firestore,e.converter,Lg(e._query,n))}_parse(e){const n=Jf(e.firestore);return function(i,o,l,a,u,d,h){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sb(h,d);const _=[];for(const E of h)_.push(rb(a,i,E));g={arrayValue:{values:_}}}else g=rb(a,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sb(h,d),g=LI(l,o,h,d==="in"||d==="not-in");return jt.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yv extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const a of l)UI(o,a),o=Lg(o,a)}(e._query,n),new li(e.firestore,e.converter,Lg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends Xf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wc(i,o)}(e._query,this._field,this._direction);return new li(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ua(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function f2(t,e="asc"){const n=e,r=Gv("orderBy",t);return Jv._create(r,n)}class Xv extends Xf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xv(e,n,r)}_apply(e){return new li(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}function p2(t){return Xv._create("limit",t,"F")}class Zv extends Xf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zv(e,n,r)}_apply(e){const n=g2(e,this.type,this._docOrFields,this._inclusive);return new li(e.firestore,e.converter,function(s,i){return new ua(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function m2(...t){return Zv._create("startAfter",t,!1)}function g2(t,e,n,r){if(n[0]=An(n[0]),n[0]instanceof Wv)return function(i,o,l,a,u){if(!a)throw new oe(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const h of nl(i))if(h.field.isKeyField())d.push(nf(o,a.key));else{const g=a.data.field(h.field);if(Ff(g))throw new oe(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const _=h.field.canonicalString();throw new oe(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(g)}return new _l(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Jf(t.firestore);return function(o,l,a,u,d,h){const g=o.explicitOrderBy;if(d.length>g.length)throw new oe(K.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let E=0;E<d.length;E++){const S=d[E];if(g[E].field.isKeyField()){if(typeof S!="string")throw new oe(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof S}`);if(!Ev(o)&&S.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${S}' contains a slash.`);const C=o.path.child(it.fromString(S));if(!me.isDocumentKey(C))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const x=new me(C);_.push(nf(l,x))}else{const C=LI(a,u,S);_.push(C)}}return new _l(_,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function rb(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&n.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!me.isDocumentKey(r))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nf(t,new me(r))}if(n instanceof zn)return nf(t,n._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function sb(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _2{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>It(o.doubleValue));return new Bv(i)}convertGeoPoint(e){return new Uv(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_v(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const n=no(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Xe(aI(r));const s=new vc(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||ei(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function v2(){return new n2("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zI extends Wv{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends zI{data(e={}){return super.data(e)}}class y2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const a=new yh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Au(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const a=new yh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Au(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:w2(l.type),doc:a,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){t=ni(t,zn);const e=ni(t.firestore,Ll);return QL(Yf(e),t._key).then(n=>E2(e,t,n))}class ey extends _2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function qI(t){t=ni(t,li);const e=ni(t.firestore,Ll),n=Yf(e),r=new ey(e);return d2(t._query),YL(n,t._query).then(s=>new y2(e,r,t,s))}function b2(t,e,n){t=ni(t,zn);const r=ni(t.firestore,Ll),s=BI(t.converter,e);return HI(r,[DI(Jf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vs.none())])}function ty(t,e){const n=ni(t.firestore,Ll),r=Zr(t),s=BI(t.converter,e);return HI(n,[DI(Jf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then(()=>r)}function HI(t,e){return function(r,s){const i=new gs;return r.asyncQueue.enqueueAndForget(async()=>DL(await GL(r),s,i)),i.promise}(Yf(t),e)}function E2(t,e,n){const r=n.docs.get(e._key),s=new ey(t);return new zI(t,s,e._key,r,new Au(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return S2(t,{count:v2()})}function S2(t,e){const n=ni(t.firestore,Ll),r=Yf(n),s=xO(e,(i,o)=>new oD(o,i.aggregateType,i._internalFieldPath));return JL(r,t._query,s).then(i=>function(l,a,u){const d=new ey(l);return new r2(a,d,u)}(n,t,i))}function WI(){return new qv("serverTimestamp")}(function(e,n=!0){(function(s){jl=s})(Pl),hl(new Qo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ll(new dO(r.getProvider("auth-internal")),new mO(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ji(b0,"4.7.1",e),Ji(b0,"4.7.1","esm2017")})();const x2={apiKey:"AIzaSyDR27NVCQmVwVNZfNXVGpLKSsJj8f2Filg",authDomain:"darelom-students.firebaseapp.com",projectId:"darelom-students",storageBucket:"darelom-students.firebasestorage.app",messagingSenderId:"993473208393",appId:"1:993473208393:web:294652795108cc161c5f98",measurementId:"G-1K85RQXZQ1"};OS(x2);const kn=t2(),Zf=iO();/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}var Ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ct||(Ct={}));const ib="popstate";function I2(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:a=""}=ui(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Sc("",{pathname:o,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=s.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof i=="string"?i:na(i))}function r(s,i){ta(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return k2(e,n,r,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ta(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A2(){return Math.random().toString(36).substr(2,8)}function ob(t,e){return{usr:t.state,key:t.key,idx:e}}function Sc(t,e,n,r){return n===void 0&&(n=null),gt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:n,key:e&&e.key||r||A2()})}function na(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ct.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(gt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ct.Pop;let C=d(),x=C==null?null:C-u;u=C,a&&a({action:l,location:S.location,delta:x})}function g(C,x){l=Ct.Push;let w=Sc(S.location,C,x);n&&n(w,C),u=d()+1;let T=ob(w,u),N=S.createHref(w);try{o.pushState(T,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(N)}i&&a&&a({action:l,location:S.location,delta:1})}function _(C,x){l=Ct.Replace;let w=Sc(S.location,C,x);n&&n(w,C),u=d();let T=ob(w,u),N=S.createHref(w);o.replaceState(T,"",N),i&&a&&a({action:l,location:S.location,delta:0})}function E(C){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof C=="string"?C:na(C);return w=w.replace(/ $/,"%20"),Ae(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let S={get action(){return l},get location(){return t(s,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(ib,h),a=C,()=>{s.removeEventListener(ib,h),a=null}},createHref(C){return e(s,C)},createURL:E,encodeLocation(C){let x=E(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:_,go(C){return o.go(C)}};return S}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));const C2=new Set(["lazy","caseSensitive","path","id","index","children"]);function P2(t){return t.index===!0}function xc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],l=typeof s.id=="string"?s.id:o.join("-");if(Ae(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ae(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),P2(s)){let a=gt({},s,e(s),{id:l});return r[l]=a,a}else{let a=gt({},s,e(s),{id:l,children:void 0});return r[l]=a,s.children&&(a.children=xc(s.children,e,o,r)),a}})}function jo(t,e,n){return n===void 0&&(n="/"),wh(t,e,n,!1)}function wh(t,e,n,r){let s=typeof e=="string"?ui(e):e,i=Ml(s.pathname||"/",n);if(i==null)return null;let o=GI(t);j2(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=z2(i);l=U2(o[a],u,r)}return l}function R2(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function GI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Gs([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:F2(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of KI(i.path))s(i,o,a)}),e}function KI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KI(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function j2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N2=/^:[\w-]+$/,O2=3,D2=2,L2=1,M2=10,V2=-2,ab=t=>t==="*";function F2(t,e){let n=t.split("/"),r=n.length;return n.some(ab)&&(r+=V2),e&&(r+=D2),n.filter(s=>!ab(s)).reduce((s,i)=>s+(N2.test(i)?O2:i===""?L2:M2),r)}function $2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function U2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=lb({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),g=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=lb({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gs([i,h.pathname]),pathnameBase:W2(Gs([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Gs([i,h.pathnameBase]))}return o}function lb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:g,isOptional:_}=d;if(g==="*"){let S=l[h]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const E=l[h];return _&&!E?u[g]=void 0:u[g]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function B2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ml(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ui(t):t;return{pathname:n?n.startsWith("/")?n:H2(n,e):e,search:G2(r),hash:K2(s)}}function H2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ep(t,e){let n=QI(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tp(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ui(t):(s=gt({},t),Ae(!s.pathname||!s.pathname.includes("?"),cm("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),cm("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),cm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?e[h]:"/"}let a=q2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),W2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class uf{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function np(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YI=["post","put","patch","delete"],Q2=new Set(YI),Y2=["get",...YI],J2=new Set(Y2),X2=new Set([301,302,303,307,308]),Z2=new Set([307,308]),dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),JI="remix-router-transitions";function nM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;s=U=>({hasErrorBoundary:F(U)})}else s=tM;let i={},o=xc(t.routes,s,void 0,i),l,a=t.basename||"/",u=t.unstable_dataStrategy||aM,d=t.unstable_patchRoutesOnMiss,h=gt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,_=new Set,E=null,S=null,C=null,x=t.hydrationData!=null,w=jo(o,t.history.location,a),T=null;if(w==null&&!d){let F=En(404,{pathname:t.history.location.pathname}),{matches:U,route:q}=vb(o);w=U,T={[q.id]:F}}w&&!t.hydrationData&&fr(w,o,t.history.location.pathname).active&&(w=null);let N;if(w)if(w.some(F=>F.route.lazy))N=!1;else if(!w.some(F=>F.route.loader))N=!0;else if(h.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null,q=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:F&&F[G.route.id]!==void 0||U&&U[G.route.id]!==void 0:!0;if(U){let G=w.findIndex(re=>U[re.route.id]!==void 0);N=w.slice(0,G+1).every(q)}else N=w.every(q)}else N=t.hydrationData!=null;else if(N=!1,w=[],h.v7_partialHydration){let F=fr(null,o,t.history.location.pathname);F.active&&F.matches&&(w=F.matches)}let M,R={historyAction:t.history.action,location:t.history.location,matches:w,initialized:N,navigation:dm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},I=Ct.Pop,y=!1,k,A=!1,j=new Map,D=null,O=!1,ie=!1,_e=[],ke=new Set,ee=new Map,z=0,Y=-1,se=new Map,ve=new Set,Te=new Map,W=new Map,He=new Set,Ke=new Map,Ze=new Map,nt=new Map,Ot=!1;function Dt(){if(g=t.history.listen(F=>{let{action:U,location:q,delta:G}=F;if(Ot){Ot=!1;return}ta(Ze.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=po({currentLocation:R.location,nextLocation:q,historyAction:U});if(re&&G!=null){Ot=!0,t.history.go(G*-1),As(re,{state:"blocked",location:q,proceed(){As(re,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),t.history.go(G)},reset(){let ue=new Map(R.blockers);ue.set(re,fu),rt({blockers:ue})}});return}return Lt(U,q)}),n){wM(e,j);let F=()=>bM(e,j);e.addEventListener("pagehide",F),D=()=>e.removeEventListener("pagehide",F)}return R.initialized||Lt(Ct.Pop,R.location,{initialHydration:!0}),M}function cr(){g&&g(),D&&D(),_.clear(),k&&k.abort(),R.fetchers.forEach((F,U)=>Hn(U)),R.blockers.forEach((F,U)=>di(U))}function le(F){return _.add(F),()=>_.delete(F)}function rt(F,U){U===void 0&&(U={}),R=gt({},R,F);let q=[],G=[];h.v7_fetcherPersist&&R.fetchers.forEach((re,ue)=>{re.state==="idle"&&(He.has(ue)?G.push(ue):q.push(ue))}),[..._].forEach(re=>re(R,{deletedFetchers:G,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),h.v7_fetcherPersist&&(q.forEach(re=>R.fetchers.delete(re)),G.forEach(re=>Hn(re)))}function nn(F,U,q){var G,re;let{flushSync:ue}=q===void 0?{}:q,pe=R.actionData!=null&&R.navigation.formMethod!=null&&qr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((G=F.state)==null?void 0:G._isRedirect)!==!0,Z;U.actionData?Object.keys(U.actionData).length>0?Z=U.actionData:Z=null:pe?Z=R.actionData:Z=null;let we=U.loaderData?gb(R.loaderData,U.loaderData,U.matches||[],U.errors):R.loaderData,he=R.blockers;he.size>0&&(he=new Map(he),he.forEach((Pe,Ue)=>he.set(Ue,fu)));let fe=y===!0||R.navigation.formMethod!=null&&qr(R.navigation.formMethod)&&((re=F.state)==null?void 0:re._isRedirect)!==!0;l&&(o=l,l=void 0),O||I===Ct.Pop||(I===Ct.Push?t.history.push(F,F.state):I===Ct.Replace&&t.history.replace(F,F.state));let Ce;if(I===Ct.Pop){let Pe=j.get(R.location.pathname);Pe&&Pe.has(F.pathname)?Ce={currentLocation:R.location,nextLocation:F}:j.has(F.pathname)&&(Ce={currentLocation:F,nextLocation:R.location})}else if(A){let Pe=j.get(R.location.pathname);Pe?Pe.add(F.pathname):(Pe=new Set([F.pathname]),j.set(R.location.pathname,Pe)),Ce={currentLocation:R.location,nextLocation:F}}rt(gt({},U,{actionData:Z,loaderData:we,historyAction:I,location:F,initialized:!0,navigation:dm,revalidation:"idle",restoreScrollPosition:mo(F,U.matches||R.matches),preventScrollReset:fe,blockers:he}),{viewTransitionOpts:Ce,flushSync:ue===!0}),I=Ct.Pop,y=!1,A=!1,O=!1,ie=!1,_e=[]}async function es(F,U){if(typeof F=="number"){t.history.go(F);return}let q=qg(R.location,R.matches,a,h.v7_prependBasename,F,h.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:G,submission:re,error:ue}=ub(h.v7_normalizeFormMethod,!1,q,U),pe=R.location,Z=Sc(R.location,G,U&&U.state);Z=gt({},Z,t.history.encodeLocation(Z));let we=U&&U.replace!=null?U.replace:void 0,he=Ct.Push;we===!0?he=Ct.Replace:we===!1||re!=null&&qr(re.formMethod)&&re.formAction===R.location.pathname+R.location.search&&(he=Ct.Replace);let fe=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ce=(U&&U.unstable_flushSync)===!0,Pe=po({currentLocation:pe,nextLocation:Z,historyAction:he});if(Pe){As(Pe,{state:"blocked",location:Z,proceed(){As(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),es(F,U)},reset(){let Ue=new Map(R.blockers);Ue.set(Pe,fu),rt({blockers:Ue})}});return}return await Lt(he,Z,{submission:re,pendingError:ue,preventScrollReset:fe,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:Ce})}function xs(){if(et(),rt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Lt(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Lt(I||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function Lt(F,U,q){k&&k.abort(),k=null,I=F,O=(q&&q.startUninterruptedRevalidation)===!0,fi(R.location,R.matches),y=(q&&q.preventScrollReset)===!0,A=(q&&q.enableViewTransition)===!0;let G=l||o,re=q&&q.overrideNavigation,ue=jo(G,U,a),pe=(q&&q.flushSync)===!0,Z=fr(ue,G,U.pathname);if(Z.active&&Z.matches&&(ue=Z.matches),!ue){let{error:xe,notFoundMatches:lt,route:ut}=Pr(U.pathname);nn(U,{matches:lt,loaderData:{},errors:{[ut.id]:xe}},{flushSync:pe});return}if(R.initialized&&!ie&&fM(R.location,U)&&!(q&&q.submission&&qr(q.submission.formMethod))){nn(U,{matches:ue},{flushSync:pe});return}k=new AbortController;let we=Ta(t.history,U,k.signal,q&&q.submission),he;if(q&&q.pendingError)he=[Wa(ue).route.id,{type:Je.error,error:q.pendingError}];else if(q&&q.submission&&qr(q.submission.formMethod)){let xe=await Is(we,U,q.submission,ue,Z.active,{replace:q.replace,flushSync:pe});if(xe.shortCircuited)return;if(xe.pendingActionResult){let[lt,ut]=xe.pendingActionResult;if(Jn(ut)&&np(ut.error)&&ut.error.status===404){k=null,nn(U,{matches:xe.matches,loaderData:{},errors:{[lt]:ut.error}});return}}ue=xe.matches||ue,he=xe.pendingActionResult,re=hm(U,q.submission),pe=!1,Z.active=!1,we=Ta(t.history,we.url,we.signal)}let{shortCircuited:fe,matches:Ce,loaderData:Pe,errors:Ue}=await Ar(we,U,ue,Z.active,re,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,pe,he);fe||(k=null,nn(U,gt({matches:Ce||ue},_b(he),{loaderData:Pe,errors:Ue})))}async function Is(F,U,q,G,re,ue){ue===void 0&&(ue={}),et();let pe=vM(U,q);if(rt({navigation:pe},{flushSync:ue.flushSync===!0}),re){let he=await ks(G,U.pathname,F.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{boundaryId:fe,error:Ce}=Rr(U.pathname,he);return{matches:he.partialMatches,pendingActionResult:[fe,{type:Je.error,error:Ce}]}}else if(he.matches)G=he.matches;else{let{notFoundMatches:fe,error:Ce,route:Pe}=Pr(U.pathname);return{matches:fe,pendingActionResult:[Pe.id,{type:Je.error,error:Ce}]}}}let Z,we=ku(G,U);if(!we.route.action&&!we.route.lazy)Z={type:Je.error,error:En(405,{method:F.method,pathname:U.pathname,routeId:we.route.id})};else if(Z=(await qn("action",F,[we],G))[0],F.signal.aborted)return{shortCircuited:!0};if(Fo(Z)){let he;return ue&&ue.replace!=null?he=ue.replace:he=fb(Z.response.headers.get("Location"),new URL(F.url),a)===R.location.pathname+R.location.search,await gn(F,Z,{submission:q,replace:he}),{shortCircuited:!0}}if(Vo(Z))throw En(400,{type:"defer-action"});if(Jn(Z)){let he=Wa(G,we.route.id);return(ue&&ue.replace)!==!0&&(I=Ct.Push),{matches:G,pendingActionResult:[he.route.id,Z]}}return{matches:G,pendingActionResult:[we.route.id,Z]}}async function Ar(F,U,q,G,re,ue,pe,Z,we,he,fe){let Ce=re||hm(U,ue),Pe=ue||pe||Eb(Ce),Ue=!O&&(!h.v7_partialHydration||!we);if(G){if(Ue){let tt=jn(fe);rt(gt({navigation:Ce},tt!==void 0?{actionData:tt}:{}),{flushSync:he})}let ge=await ks(q,U.pathname,F.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let{boundaryId:tt,error:St}=Rr(U.pathname,ge);return{matches:ge.partialMatches,loaderData:{},errors:{[tt]:St}}}else if(ge.matches)q=ge.matches;else{let{error:tt,notFoundMatches:St,route:We}=Pr(U.pathname);return{matches:St,loaderData:{},errors:{[We.id]:tt}}}}let xe=l||o,[lt,ut]=cb(t.history,R,q,Pe,U,h.v7_partialHydration&&we===!0,h.v7_skipActionErrorRevalidation,ie,_e,ke,He,Te,ve,xe,a,fe);if(dr(ge=>!(q&&q.some(tt=>tt.route.id===ge))||lt&&lt.some(tt=>tt.route.id===ge)),Y=++z,lt.length===0&&ut.length===0){let ge=ns();return nn(U,gt({matches:q,loaderData:{},errors:fe&&Jn(fe[1])?{[fe[0]]:fe[1].error}:null},_b(fe),ge?{fetchers:new Map(R.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(Ue){let ge={};if(!G){ge.navigation=Ce;let tt=jn(fe);tt!==void 0&&(ge.actionData=tt)}ut.length>0&&(ge.fetchers=mn(ut)),rt(ge,{flushSync:he})}ut.forEach(ge=>{ee.has(ge.key)&&rn(ge.key),ge.controller&&ee.set(ge.key,ge.controller)});let jr=()=>ut.forEach(ge=>rn(ge.key));k&&k.signal.addEventListener("abort",jr);let{loaderResults:pr,fetcherResults:Wn}=await ht(R.matches,q,lt,ut,F);if(F.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",jr),ut.forEach(ge=>ee.delete(ge.key));let Nr=yb([...pr,...Wn]);if(Nr){if(Nr.idx>=lt.length){let ge=ut[Nr.idx-lt.length].key;ve.add(ge)}return await gn(F,Nr.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:mr,errors:Mt}=mb(R,q,lt,pr,fe,ut,Wn,Ke);Ke.forEach((ge,tt)=>{ge.subscribe(St=>{(St||ge.done)&&Ke.delete(tt)})}),h.v7_partialHydration&&we&&R.errors&&Object.entries(R.errors).filter(ge=>{let[tt]=ge;return!lt.some(St=>St.route.id===tt)}).forEach(ge=>{let[tt,St]=ge;Mt=Object.assign(Mt||{},{[tt]:St})});let vn=ns(),ss=pa(Y),Gn=vn||ss||ut.length>0;return gt({matches:q,loaderData:mr,errors:Mt},Gn?{fetchers:new Map(R.fetchers)}:{})}function jn(F){if(F&&!Jn(F[1]))return{[F[0]]:F[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function mn(F){return F.forEach(U=>{let q=R.fetchers.get(U.key),G=pu(void 0,q?q.data:void 0);R.fetchers.set(U.key,G)}),new Map(R.fetchers)}function kr(F,U,q,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(F)&&rn(F);let re=(G&&G.unstable_flushSync)===!0,ue=l||o,pe=qg(R.location,R.matches,a,h.v7_prependBasename,q,h.v7_relativeSplatPath,U,G==null?void 0:G.relative),Z=jo(ue,pe,a),we=fr(Z,ue,pe);if(we.active&&we.matches&&(Z=we.matches),!Z){_n(F,U,En(404,{pathname:pe}),{flushSync:re});return}let{path:he,submission:fe,error:Ce}=ub(h.v7_normalizeFormMethod,!0,pe,G);if(Ce){_n(F,U,Ce,{flushSync:re});return}let Pe=ku(Z,he);if(y=(G&&G.preventScrollReset)===!0,fe&&qr(fe.formMethod)){ci(F,U,he,Pe,Z,we.active,re,fe);return}Te.set(F,{routeId:U,path:he}),ts(F,U,he,Pe,Z,we.active,re,fe)}async function ci(F,U,q,G,re,ue,pe,Z){et(),Te.delete(F);function we(We){if(!We.route.action&&!We.route.lazy){let yn=En(405,{method:Z.formMethod,pathname:q,routeId:U});return _n(F,U,yn,{flushSync:pe}),!0}return!1}if(!ue&&we(G))return;let he=R.fetchers.get(F);at(F,yM(Z,he),{flushSync:pe});let fe=new AbortController,Ce=Ta(t.history,q,fe.signal,Z);if(ue){let We=await ks(re,q,Ce.signal);if(We.type==="aborted")return;if(We.type==="error"){let{error:yn}=Rr(q,We);_n(F,U,yn,{flushSync:pe});return}else if(We.matches){if(re=We.matches,G=ku(re,q),we(G))return}else{_n(F,U,En(404,{pathname:q}),{flushSync:pe});return}}ee.set(F,fe);let Pe=z,xe=(await qn("action",Ce,[G],re))[0];if(Ce.signal.aborted){ee.get(F)===fe&&ee.delete(F);return}if(h.v7_fetcherPersist&&He.has(F)){if(Fo(xe)||Jn(xe)){at(F,Si(void 0));return}}else{if(Fo(xe))if(ee.delete(F),Y>Pe){at(F,Si(void 0));return}else return ve.add(F),at(F,pu(Z)),gn(Ce,xe,{fetcherSubmission:Z});if(Jn(xe)){_n(F,U,xe.error);return}}if(Vo(xe))throw En(400,{type:"defer-action"});let lt=R.navigation.location||R.location,ut=Ta(t.history,lt,fe.signal),jr=l||o,pr=R.navigation.state!=="idle"?jo(jr,R.navigation.location,a):R.matches;Ae(pr,"Didn't find any matches after fetcher action");let Wn=++z;se.set(F,Wn);let Nr=pu(Z,xe.data);R.fetchers.set(F,Nr);let[mr,Mt]=cb(t.history,R,pr,Z,lt,!1,h.v7_skipActionErrorRevalidation,ie,_e,ke,He,Te,ve,jr,a,[G.route.id,xe]);Mt.filter(We=>We.key!==F).forEach(We=>{let yn=We.key,go=R.fetchers.get(yn),ma=pu(void 0,go?go.data:void 0);R.fetchers.set(yn,ma),ee.has(yn)&&rn(yn),We.controller&&ee.set(yn,We.controller)}),rt({fetchers:new Map(R.fetchers)});let vn=()=>Mt.forEach(We=>rn(We.key));fe.signal.addEventListener("abort",vn);let{loaderResults:ss,fetcherResults:Gn}=await ht(R.matches,pr,mr,Mt,ut);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",vn),se.delete(F),ee.delete(F),Mt.forEach(We=>ee.delete(We.key));let ge=yb([...ss,...Gn]);if(ge){if(ge.idx>=mr.length){let We=Mt[ge.idx-mr.length].key;ve.add(We)}return gn(ut,ge.result)}let{loaderData:tt,errors:St}=mb(R,R.matches,mr,ss,void 0,Mt,Gn,Ke);if(R.fetchers.has(F)){let We=Si(xe.data);R.fetchers.set(F,We)}pa(Wn),R.navigation.state==="loading"&&Wn>Y?(Ae(I,"Expected pending action"),k&&k.abort(),nn(R.navigation.location,{matches:pr,loaderData:tt,errors:St,fetchers:new Map(R.fetchers)})):(rt({errors:St,loaderData:gb(R.loaderData,tt,pr,St),fetchers:new Map(R.fetchers)}),ie=!1)}async function ts(F,U,q,G,re,ue,pe,Z){let we=R.fetchers.get(F);at(F,pu(Z,we?we.data:void 0),{flushSync:pe});let he=new AbortController,fe=Ta(t.history,q,he.signal);if(ue){let xe=await ks(re,q,fe.signal);if(xe.type==="aborted")return;if(xe.type==="error"){let{error:lt}=Rr(q,xe);_n(F,U,lt,{flushSync:pe});return}else if(xe.matches)re=xe.matches,G=ku(re,q);else{_n(F,U,En(404,{pathname:q}),{flushSync:pe});return}}ee.set(F,he);let Ce=z,Ue=(await qn("loader",fe,[G],re))[0];if(Vo(Ue)&&(Ue=await n1(Ue,fe.signal,!0)||Ue),ee.get(F)===he&&ee.delete(F),!fe.signal.aborted){if(He.has(F)){at(F,Si(void 0));return}if(Fo(Ue))if(Y>Ce){at(F,Si(void 0));return}else{ve.add(F),await gn(fe,Ue);return}if(Jn(Ue)){_n(F,U,Ue.error);return}Ae(!Vo(Ue),"Unhandled fetcher deferred data"),at(F,Si(Ue.data))}}async function gn(F,U,q){let{submission:G,fetcherSubmission:re,replace:ue}=q===void 0?{}:q;U.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let pe=U.response.headers.get("Location");Ae(pe,"Expected a Location header on the redirect Response"),pe=fb(pe,new URL(F.url),a);let Z=Sc(R.location,pe,{_isRedirect:!0});if(n){let Ue=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(ny.test(pe)){const xe=t.history.createURL(pe);Ue=xe.origin!==e.location.origin||Ml(xe.pathname,a)==null}if(Ue){ue?e.location.replace(pe):e.location.assign(pe);return}}k=null;let we=ue===!0||U.response.headers.has("X-Remix-Replace")?Ct.Replace:Ct.Push,{formMethod:he,formAction:fe,formEncType:Ce}=R.navigation;!G&&!re&&he&&fe&&Ce&&(G=Eb(R.navigation));let Pe=G||re;if(Z2.has(U.response.status)&&Pe&&qr(Pe.formMethod))await Lt(we,Z,{submission:gt({},Pe,{formAction:pe}),preventScrollReset:y});else{let Ue=hm(Z,G);await Lt(we,Z,{overrideNavigation:Ue,fetcherSubmission:re,preventScrollReset:y})}}async function qn(F,U,q,G){try{let re=await lM(u,F,U,q,G,i,s);return await Promise.all(re.map((ue,pe)=>{if(mM(ue)){let Z=ue.result;return{type:Je.redirect,response:dM(Z,U,q[pe].route.id,G,a,h.v7_relativeSplatPath)}}return cM(ue)}))}catch(re){return q.map(()=>({type:Je.error,error:re}))}}async function ht(F,U,q,G,re){let[ue,...pe]=await Promise.all([q.length?qn("loader",re,q,U):[],...G.map(Z=>{if(Z.matches&&Z.match&&Z.controller){let we=Ta(t.history,Z.path,Z.controller.signal);return qn("loader",we,[Z.match],Z.matches).then(he=>he[0])}else return Promise.resolve({type:Je.error,error:En(404,{pathname:Z.path})})})]);return await Promise.all([bb(F,q,ue,ue.map(()=>re.signal),!1,R.loaderData),bb(F,G.map(Z=>Z.match),pe,G.map(Z=>Z.controller?Z.controller.signal:null),!0)]),{loaderResults:ue,fetcherResults:pe}}function et(){ie=!0,_e.push(...dr()),Te.forEach((F,U)=>{ee.has(U)&&(ke.add(U),rn(U))})}function at(F,U,q){q===void 0&&(q={}),R.fetchers.set(F,U),rt({fetchers:new Map(R.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function _n(F,U,q,G){G===void 0&&(G={});let re=Wa(R.matches,U);Hn(F),rt({errors:{[re.route.id]:q},fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Cr(F){return h.v7_fetcherPersist&&(W.set(F,(W.get(F)||0)+1),He.has(F)&&He.delete(F)),R.fetchers.get(F)||eM}function Hn(F){let U=R.fetchers.get(F);ee.has(F)&&!(U&&U.state==="loading"&&se.has(F))&&rn(F),Te.delete(F),se.delete(F),ve.delete(F),He.delete(F),ke.delete(F),R.fetchers.delete(F)}function Nn(F){if(h.v7_fetcherPersist){let U=(W.get(F)||0)-1;U<=0?(W.delete(F),He.add(F)):W.set(F,U)}else Hn(F);rt({fetchers:new Map(R.fetchers)})}function rn(F){let U=ee.get(F);Ae(U,"Expected fetch controller: "+F),U.abort(),ee.delete(F)}function fo(F){for(let U of F){let q=Cr(U),G=Si(q.data);R.fetchers.set(U,G)}}function ns(){let F=[],U=!1;for(let q of ve){let G=R.fetchers.get(q);Ae(G,"Expected fetcher: "+q),G.state==="loading"&&(ve.delete(q),F.push(q),U=!0)}return fo(F),U}function pa(F){let U=[];for(let[q,G]of se)if(G<F){let re=R.fetchers.get(q);Ae(re,"Expected fetcher: "+q),re.state==="loading"&&(rn(q),se.delete(q),U.push(q))}return fo(U),U.length>0}function zl(F,U){let q=R.blockers.get(F)||fu;return Ze.get(F)!==U&&Ze.set(F,U),q}function di(F){R.blockers.delete(F),Ze.delete(F)}function As(F,U){let q=R.blockers.get(F)||fu;Ae(q.state==="unblocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="proceeding"||q.state==="blocked"&&U.state==="unblocked"||q.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+U.state);let G=new Map(R.blockers);G.set(F,U),rt({blockers:G})}function po(F){let{currentLocation:U,nextLocation:q,historyAction:G}=F;if(Ze.size===0)return;Ze.size>1&&ta(!1,"A router only supports one blocker at a time");let re=Array.from(Ze.entries()),[ue,pe]=re[re.length-1],Z=R.blockers.get(ue);if(!(Z&&Z.state==="proceeding")&&pe({currentLocation:U,nextLocation:q,historyAction:G}))return ue}function Pr(F){let U=En(404,{pathname:F}),q=l||o,{matches:G,route:re}=vb(q);return dr(),{notFoundMatches:G,route:re,error:U}}function Rr(F,U){return{boundaryId:Wa(U.partialMatches).route.id,error:En(400,{type:"route-discovery",pathname:F,message:U.error!=null&&"message"in U.error?U.error:String(U.error)})}}function dr(F){let U=[];return Ke.forEach((q,G)=>{(!F||F(G))&&(q.cancel(),U.push(G),Ke.delete(G))}),U}function hr(F,U,q){if(E=F,C=U,S=q||null,!x&&R.navigation===dm){x=!0;let G=mo(R.location,R.matches);G!=null&&rt({restoreScrollPosition:G})}return()=>{E=null,C=null,S=null}}function hi(F,U){return S&&S(F,U.map(G=>R2(G,R.loaderData)))||F.key}function fi(F,U){if(E&&C){let q=hi(F,U);E[q]=C()}}function mo(F,U){if(E){let q=hi(F,U),G=E[q];if(typeof G=="number")return G}return null}function fr(F,U,q){if(d)if(F){let G=F[F.length-1].route;if(G.path&&(G.path==="*"||G.path.endsWith("/*")))return{active:!0,matches:wh(U,q,a,!0)}}else return{active:!0,matches:wh(U,q,a,!0)||[]};return{active:!1,matches:null}}async function ks(F,U,q){let G=F,re=G.length>0?G[G.length-1].route:null;for(;;){let ue=l==null,pe=l||o;try{await oM(d,U,G,pe,i,s,nt,q)}catch(fe){return{type:"error",error:fe,partialMatches:G}}finally{ue&&(o=[...o])}if(q.aborted)return{type:"aborted"};let Z=jo(pe,U,a),we=!1;if(Z){let fe=Z[Z.length-1].route;if(fe.index)return{type:"success",matches:Z};if(fe.path&&fe.path.length>0)if(fe.path==="*")we=!0;else return{type:"success",matches:Z}}let he=wh(pe,U,a,!0);if(!he||G.map(fe=>fe.route.id).join("-")===he.map(fe=>fe.route.id).join("-"))return{type:"success",matches:we?Z:null};if(G=he,re=G[G.length-1].route,re.path==="*")return{type:"success",matches:G}}}function ft(F){i={},l=xc(F,s,void 0,i)}function rs(F,U){let q=l==null;ZI(F,U,l||o,i,s),q&&(o=[...o],rt({}))}return M={get basename(){return a},get future(){return h},get state(){return R},get routes(){return o},get window(){return e},initialize:Dt,subscribe:le,enableScrollRestoration:hr,navigate:es,fetch:kr,revalidate:xs,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:Cr,deleteFetcher:Nn,dispose:cr,getBlocker:zl,deleteBlocker:di,patchRoutes:rs,_internalFetchControllers:ee,_internalActiveDeferreds:Ke,_internalSetRoutes:ft},M}function rM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qg(t,e,n,r,s,i,o,l){let a,u;if(o){a=[];for(let h of e)if(a.push(h),h.route.id===o){u=h;break}}else a=e,u=e[e.length-1];let d=tp(s||".",ep(a,i),Ml(t.pathname,n)||t.pathname,l==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&u&&u.route.index&&!ry(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Gs([n,d.pathname])),na(d)}function ub(t,e,n,r){if(!r||!rM(r))return{path:n};if(r.formMethod&&!_M(r.formMethod))return{path:n,error:En(405,{method:r.formMethod})};let s=()=>({path:n,error:En(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),l=e1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qr(o))return s();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,E)=>{let[S,C]=E;return""+_+S+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!qr(o))return s();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return s()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Hg(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Hg(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=pb(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=pb(a)}catch{return s()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(qr(d.formMethod))return{path:n,submission:d};let h=ui(n);return e&&h.search&&ry(h.search)&&a.append("index",""),h.search="?"+a,{path:na(h),submission:d}}function sM(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function cb(t,e,n,r,s,i,o,l,a,u,d,h,g,_,E,S){let C=S?Jn(S[1])?S[1].error:S[1].data:void 0,x=t.createURL(e.location),w=t.createURL(s),T=S&&Jn(S[1])?S[0]:void 0,N=T?sM(n,T):n,M=S?S[1].statusCode:void 0,R=o&&M&&M>=400,I=N.filter((k,A)=>{let{route:j}=k;if(j.lazy)return!0;if(j.loader==null)return!1;if(i)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(iM(e.loaderData,e.matches[A],k)||a.some(ie=>ie===k.route.id))return!0;let D=e.matches[A],O=k;return db(k,gt({currentUrl:x,currentParams:D.params,nextUrl:w,nextParams:O.params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:R?!1:l||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||XI(D,O)}))}),y=[];return h.forEach((k,A)=>{if(i||!n.some(_e=>_e.route.id===k.routeId)||d.has(A))return;let j=jo(_,k.path,E);if(!j){y.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(A),O=ku(j,k.path),ie=!1;g.has(A)?ie=!1:u.has(A)?(u.delete(A),ie=!0):D&&D.state!=="idle"&&D.data===void 0?ie=l:ie=db(O,gt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:R?!1:l})),ie&&y.push({key:A,routeId:k.routeId,path:k.path,matches:j,match:O,controller:new AbortController})}),[I,y]}function iM(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function XI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function db(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function oM(t,e,n,r,s,i,o,l){let a=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(a);u||(u=t({path:e,matches:n,patch:(d,h)=>{l.aborted||ZI(d,h,r,s,i)}}),o.set(a,u)),u&&pM(u)&&await u}finally{o.delete(a)}}function ZI(t,e,n,r,s){if(t){var i;let o=r[t];Ae(o,"No route found to patch children into: routeId = "+t);let l=xc(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=xc(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function hb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ae(s,"No route found in manifest");let i={};for(let o in r){let a=s[o]!==void 0&&o!=="hasErrorBoundary";ta(!a,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!C2.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,gt({},e(s),{lazy:void 0}))}function aM(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function lM(t,e,n,r,s,i,o,l){let a=r.reduce((h,g)=>h.add(g.route.id),new Set),u=new Set,d=await t({matches:s.map(h=>{let g=a.has(h.route.id);return gt({},h,{shouldLoad:g,resolve:E=>(u.add(h.route.id),g?uM(e,n,h,i,o,E,l):Promise.resolve({type:Je.data,result:void 0}))})}),request:n,params:s[0].params,context:l});return s.forEach(h=>Ae(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,g)=>a.has(s[g].route.id))}async function uM(t,e,n,r,s,i,o){let l,a,u=d=>{let h,g=new Promise((S,C)=>h=C);a=()=>h(),e.signal.addEventListener("abort",a);let _=S=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...S!==void 0?[S]:[]),E;return i?E=i(S=>_(S)):E=(async()=>{try{return{type:"data",result:await _()}}catch(S){return{type:"error",result:S}}})(),Promise.race([E,g])};try{let d=n.route[t];if(n.route.lazy)if(d){let h,[g]=await Promise.all([u(d).catch(_=>{h=_}),hb(n.route,s,r)]);if(h!==void 0)throw h;l=g}else if(await hb(n.route,s,r),d=n.route[t],d)l=await u(d);else if(t==="action"){let h=new URL(e.url),g=h.pathname+h.search;throw En(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(d)l=await u(d);else{let h=new URL(e.url),g=h.pathname+h.search;throw En(404,{pathname:g})}Ae(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Je.error,result:d}}finally{a&&e.signal.removeEventListener("abort",a)}return l}async function cM(t){let{result:e,type:n}=t;if(t1(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Je.error,error:d}}return n===Je.error?{type:Je.error,error:new uf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Je.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Je.error){if(wb(e)){var r;if(e.data instanceof Error){var s;return{type:Je.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new uf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Je.error,error:e,statusCode:np(e)?e.status:void 0}}if(gM(e)){var i,o;return{type:Je.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(wb(e)){var l,a;return{type:Je.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Je.data,data:e}}function dM(t,e,n,r,s,i){let o=t.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ny.test(o)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);o=qg(new URL(e.url),l,s,!0,o,i),t.headers.set("Location",o)}return t}function fb(t,e,n){if(ny.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Ml(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Ta(t,e,n,r){let s=t.createURL(e1(e)).toString(),i={signal:n};if(r&&qr(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=Hg(r.formData):i.body=r.formData}return new Request(s,i)}function Hg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function pb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function hM(t,e,n,r,s,i){let o={},l=null,a,u=!1,d={},h=r&&Jn(r[1])?r[1].error:void 0;return n.forEach((g,_)=>{let E=e[_].route.id;if(Ae(!Fo(g),"Cannot handle redirect results in processLoaderData"),Jn(g)){let S=g.error;h!==void 0&&(S=h,h=void 0),l=l||{};{let C=Wa(t,E);l[C.route.id]==null&&(l[C.route.id]=S)}o[E]=void 0,u||(u=!0,a=np(g.error)?g.error.status:500),g.headers&&(d[E]=g.headers)}else Vo(g)?(s.set(E,g.deferredData),o[E]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!u&&(a=g.statusCode),g.headers&&(d[E]=g.headers)):(o[E]=g.data,g.statusCode&&g.statusCode!==200&&!u&&(a=g.statusCode),g.headers&&(d[E]=g.headers))}),h!==void 0&&r&&(l={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:a||200,loaderHeaders:d}}function mb(t,e,n,r,s,i,o,l){let{loaderData:a,errors:u}=hM(e,n,r,s,l);for(let d=0;d<i.length;d++){let{key:h,match:g,controller:_}=i[d];Ae(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let E=o[d];if(!(_&&_.signal.aborted))if(Jn(E)){let S=Wa(t.matches,g==null?void 0:g.route.id);u&&u[S.route.id]||(u=gt({},u,{[S.route.id]:E.error})),t.fetchers.delete(h)}else if(Fo(E))Ae(!1,"Unhandled fetcher revalidation redirect");else if(Vo(E))Ae(!1,"Unhandled fetcher deferred data");else{let S=Si(E.data);t.fetchers.set(h,S)}}return{loaderData:a,errors:u}}function gb(t,e,n,r){let s=gt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function _b(t){return t?Jn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Wa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function vb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function En(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i==="route-discovery"?a='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):s&&n&&r?a="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",s&&n&&r?a="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new uf(t||500,l,new Error(a),!0)}function yb(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Fo(n))return{result:n,idx:e}}}function e1(t){let e=typeof t=="string"?ui(t):t;return na(gt({},e,{hash:""}))}function fM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function pM(t){return typeof t=="object"&&t!=null&&"then"in t}function mM(t){return t1(t.result)&&X2.has(t.result.status)}function Vo(t){return t.type===Je.deferred}function Jn(t){return t.type===Je.error}function Fo(t){return(t&&t.type)===Je.redirect}function wb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function gM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function t1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function _M(t){return J2.has(t.toLowerCase())}function qr(t){return Q2.has(t.toLowerCase())}async function bb(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let l=n[o],a=e[o];if(!a)continue;let u=t.find(h=>h.route.id===a.route.id),d=u!=null&&!XI(u,a)&&(i&&i[a.route.id])!==void 0;if(Vo(l)&&(s||d)){let h=r[o];Ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await n1(l,h,s).then(g=>{g&&(n[o]=g||n[o])})}}}async function n1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Je.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Je.error,error:s}}return{type:Je.data,data:t.deferredData.data}}}function ry(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ku(t,e){let n=typeof e=="string"?ui(e).search:e.search;if(t[t.length-1].route.index&&ry(n||""))return t[t.length-1];let r=QI(t);return r[r.length-1]}function Eb(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wM(t,e){try{let n=t.sessionStorage.getItem(JI);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function bM(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(JI,JSON.stringify(n))}catch(r){ta(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}const rp=L.createContext(null),r1=L.createContext(null),uo=L.createContext(null),sy=L.createContext(null),Ss=L.createContext({outlet:null,matches:[],isDataRoute:!1}),s1=L.createContext(null);function EM(t,e){let{relative:n}=e===void 0?{}:e;Vl()||Ae(!1);let{basename:r,navigator:s}=L.useContext(uo),{hash:i,pathname:o,search:l}=o1(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Gs([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Vl(){return L.useContext(sy)!=null}function ur(){return Vl()||Ae(!1),L.useContext(sy).location}function i1(t){L.useContext(uo).static||L.useLayoutEffect(t)}function bt(){let{isDataRoute:t}=L.useContext(Ss);return t?LM():TM()}function TM(){Vl()||Ae(!1);let t=L.useContext(rp),{basename:e,future:n,navigator:r}=L.useContext(uo),{matches:s}=L.useContext(Ss),{pathname:i}=ur(),o=JSON.stringify(ep(s,n.v7_relativeSplatPath)),l=L.useRef(!1);return i1(()=>{l.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=tp(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const SM=L.createContext(null);function xM(t){let e=L.useContext(Ss).outlet;return e&&L.createElement(SM.Provider,{value:t},e)}function tn(){let{matches:t}=L.useContext(Ss),e=t[t.length-1];return e?e.params:{}}function o1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(uo),{matches:s}=L.useContext(Ss),{pathname:i}=ur(),o=JSON.stringify(ep(s,r.v7_relativeSplatPath));return L.useMemo(()=>tp(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function IM(t,e,n,r){Vl()||Ae(!1);let{navigator:s}=L.useContext(uo),{matches:i}=L.useContext(Ss),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=ur(),d;d=u;let h=d.pathname||"/",g=h;if(a!=="/"){let S=a.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=jo(t,{pathname:g});return RM(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Gs([a,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Gs([a,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r)}function AM(){let t=DM(),e=np(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const kM=L.createElement(AM,null);class CM extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Ss.Provider,{value:this.props.routeContext},L.createElement(s1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PM(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(rp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ss.Provider,{value:e},r)}function RM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:_}=n,E=h.route.loader&&g[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||E){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,g)=>{let _,E=!1,S=null,C=null;n&&(_=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||kM,a&&(u<0&&g===0?(E=!0,C=null):u===g&&(E=!0,C=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),w=()=>{let T;return _?T=S:E?T=C:h.route.Component?T=L.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,L.createElement(PM,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?L.createElement(CM,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var a1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a1||{}),df=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(df||{});function jM(t){let e=L.useContext(rp);return e||Ae(!1),e}function NM(t){let e=L.useContext(r1);return e||Ae(!1),e}function OM(t){let e=L.useContext(Ss);return e||Ae(!1),e}function l1(t){let e=OM(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function DM(){var t;let e=L.useContext(s1),n=NM(df.UseRouteError),r=l1(df.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LM(){let{router:t}=jM(a1.UseNavigateStable),e=l1(df.UseNavigateStable),n=L.useRef(!1);return i1(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cf({fromRouteId:e},i)))},[t,e])}function Tb(t){let{to:e,replace:n,state:r,relative:s}=t;Vl()||Ae(!1);let{future:i,static:o}=L.useContext(uo),{matches:l}=L.useContext(Ss),{pathname:a}=ur(),u=bt(),d=tp(e,ep(l,i.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function MM(t){return xM(t.context)}function ze(t){Ae(!1)}function VM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ct.Pop,navigator:i,static:o=!1,future:l}=t;Vl()&&Ae(!1);let a=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:a,navigator:i,static:o,future:cf({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=ui(r));let{pathname:d="/",search:h="",hash:g="",state:_=null,key:E="default"}=r,S=L.useMemo(()=>{let C=Ml(d,a);return C==null?null:{location:{pathname:C,search:h,hash:g,state:_,key:E},navigationType:s}},[a,d,h,g,_,E,s]);return S==null?null:L.createElement(uo.Provider,{value:u},L.createElement(sy.Provider,{children:n,value:S}))}new Promise(()=>{});function Wg(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Wg(r.props.children,i));return}r.type!==ze&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wg(r.props.children,i)),n.push(o)}),n}function FM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function $M(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function UM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BM(t,e){return t.button===0&&(!e||e==="_self")&&!UM(t)}function Gg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function zM(t,e){let n=Gg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const qM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],HM="6";try{window.__reactRouterVersion=HM}catch{}function WM(t,e){return nM({basename:void 0,future:Ic({},void 0,{v7_prependBasename:!0}),history:I2({window:void 0}),hydrationData:GM(),routes:t,mapRouteProperties:FM,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function GM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ic({},e,{errors:KM(e.errors)})),e}function KM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new uf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const QM=L.createContext({isTransitioning:!1}),YM=L.createContext(new Map),JM="startTransition",Sb=ok[JM],XM="flushSync",xb=vP[XM];function ZM(t){Sb?Sb(t):t()}function mu(t){xb?xb(t):t()}let eV=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function tV(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=L.useState(n.state),[o,l]=L.useState(),[a,u]=L.useState({isTransitioning:!1}),[d,h]=L.useState(),[g,_]=L.useState(),[E,S]=L.useState(),C=L.useRef(new Map),{v7_startTransition:x}=r||{},w=L.useCallback(y=>{x?ZM(y):y()},[x]),T=L.useCallback((y,k)=>{let{deletedFetchers:A,unstable_flushSync:j,unstable_viewTransitionOpts:D}=k;A.forEach(ie=>C.current.delete(ie)),y.fetchers.forEach((ie,_e)=>{ie.data!==void 0&&C.current.set(_e,ie.data)});let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||O){j?mu(()=>i(y)):w(()=>i(y));return}if(j){mu(()=>{g&&(d&&d.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let ie=n.window.document.startViewTransition(()=>{mu(()=>i(y))});ie.finished.finally(()=>{mu(()=>{h(void 0),_(void 0),l(void 0),u({isTransitioning:!1})})}),mu(()=>_(ie));return}g?(d&&d.resolve(),g.skipTransition(),S({state:y,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(y),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,g,d,C,w]);L.useLayoutEffect(()=>n.subscribe(T),[n,T]),L.useEffect(()=>{a.isTransitioning&&!a.flushSync&&h(new eV)},[a]),L.useEffect(()=>{if(d&&o&&n.window){let y=o,k=d.promise,A=n.window.document.startViewTransition(async()=>{w(()=>i(y)),await k});A.finished.finally(()=>{h(void 0),_(void 0),l(void 0),u({isTransitioning:!1})}),_(A)}},[w,o,d,n.window]),L.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,g,s.location,o]),L.useEffect(()=>{!a.isTransitioning&&E&&(l(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[a.isTransitioning,E]),L.useEffect(()=>{},[]);let N=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,k,A)=>n.navigate(y,{state:k,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(y,k,A)=>n.navigate(y,{replace:!0,state:k,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),M=n.basename||"/",R=L.useMemo(()=>({router:n,navigator:N,static:!1,basename:M}),[n,N,M]),I=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(rp.Provider,{value:R},L.createElement(r1.Provider,{value:s},L.createElement(YM.Provider,{value:C.current},L.createElement(QM.Provider,{value:a},L.createElement(VM,{basename:M,location:s.location,navigationType:s.historyAction,navigator:N,future:I},s.initialized||n.future.v7_partialHydration?L.createElement(nV,{routes:n.routes,future:n.future,state:s}):e))))),null)}const nV=L.memo(rV);function rV(t){let{routes:e,future:n,state:r}=t;return IM(e,void 0,r,n)}const sV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,g=$M(e,qM),{basename:_}=L.useContext(uo),E,S=!1;if(typeof u=="string"&&iV.test(u)&&(E=u,sV))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),M=Ml(N.pathname,_);N.origin===T.origin&&M!=null?u=M+N.search+N.hash:S=!0}catch{}let C=EM(u,{relative:s}),x=oV(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,unstable_viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||x(T)}return L.createElement("a",Ic({},g,{href:E||C,onClick:S||i?r:w,ref:n,target:a}))});var Ib;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ib||(Ib={}));var Ab;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ab||(Ab={}));function oV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=bt(),u=ur(),d=o1(t,{relative:o});return L.useCallback(h=>{if(BM(h,n)){h.preventDefault();let g=r!==void 0?r:na(u)===na(d);a(t,{replace:g,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,a,d,r,s,n,t,i,o,l])}function aV(t){let e=L.useRef(Gg(t)),n=L.useRef(!1),r=ur(),s=L.useMemo(()=>zM(r.search,n.current?null:e.current),[r.search]),i=bt(),o=L.useCallback((l,a)=>{const u=Gg(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,a)},[i,s]);return[s,o]}var lV={exports:{}},xn="top",sr="bottom",ir="right",In="left",sp="auto",Fl=[xn,sr,ir,In],ra="start",bl="end",u1="clippingParents",iy="viewport",Ra="popper",c1="reference",Kg=Fl.reduce(function(t,e){return t.concat([e+"-"+ra,e+"-"+bl])},[]),oy=[].concat(Fl,[sp]).reduce(function(t,e){return t.concat([e,e+"-"+ra,e+"-"+bl])},[]),d1="beforeRead",h1="read",f1="afterRead",p1="beforeMain",m1="main",g1="afterMain",_1="beforeWrite",v1="write",y1="afterWrite",w1=[d1,h1,f1,p1,m1,g1,_1,v1,y1];function Ts(t){return t?(t.nodeName||"").toLowerCase():null}function or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sa(t){var e=or(t).Element;return t instanceof e||t instanceof Element}function Sr(t){var e=or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ay(t){if(typeof ShadowRoot>"u")return!1;var e=or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function uV(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Sr(i)||!Ts(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function cV(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(a,u){return a[u]="",a},{});!Sr(s)||!Ts(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(a){s.removeAttribute(a)}))})}}const ly={name:"applyStyles",enabled:!0,phase:"write",fn:uV,effect:cV,requires:["computeStyles"]};function ws(t){return t.split("-")[0]}var zo=Math.max,hf=Math.min,El=Math.round;function Qg(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function b1(){return!/^((?!chrome|android).)*safari/i.test(Qg())}function Tl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Sr(t)&&(s=t.offsetWidth>0&&El(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&El(r.height)/t.offsetHeight||1);var o=sa(t)?or(t):window,l=o.visualViewport,a=!b1()&&n,u=(r.left+(a&&l?l.offsetLeft:0))/s,d=(r.top+(a&&l?l.offsetTop:0))/i,h=r.width/s,g=r.height/i;return{width:h,height:g,top:d,right:u+h,bottom:d+g,left:u,x:u,y:d}}function uy(t){var e=Tl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function E1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ay(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function si(t){return or(t).getComputedStyle(t)}function dV(t){return["table","td","th"].indexOf(Ts(t))>=0}function co(t){return((sa(t)?t.ownerDocument:t.document)||window.document).documentElement}function ip(t){return Ts(t)==="html"?t:t.assignedSlot||t.parentNode||(ay(t)?t.host:null)||co(t)}function kb(t){return!Sr(t)||si(t).position==="fixed"?null:t.offsetParent}function hV(t){var e=/firefox/i.test(Qg()),n=/Trident/i.test(Qg());if(n&&Sr(t)){var r=si(t);if(r.position==="fixed")return null}var s=ip(t);for(ay(s)&&(s=s.host);Sr(s)&&["html","body"].indexOf(Ts(s))<0;){var i=si(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Wc(t){for(var e=or(t),n=kb(t);n&&dV(n)&&si(n).position==="static";)n=kb(n);return n&&(Ts(n)==="html"||Ts(n)==="body"&&si(n).position==="static")?e:n||hV(t)||e}function cy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function zu(t,e,n){return zo(t,hf(e,n))}function fV(t,e,n){var r=zu(t,e,n);return r>n?n:r}function T1(){return{top:0,right:0,bottom:0,left:0}}function S1(t){return Object.assign({},T1(),t)}function x1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var pV=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,S1(typeof e!="number"?e:x1(e,Fl))};function mV(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=ws(n.placement),a=cy(l),u=[In,ir].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var h=pV(s.padding,n),g=uy(i),_=a==="y"?xn:In,E=a==="y"?sr:ir,S=n.rects.reference[d]+n.rects.reference[a]-o[a]-n.rects.popper[d],C=o[a]-n.rects.reference[a],x=Wc(i),w=x?a==="y"?x.clientHeight||0:x.clientWidth||0:0,T=S/2-C/2,N=h[_],M=w-g[d]-h[E],R=w/2-g[d]/2+T,I=zu(N,R,M),y=a;n.modifiersData[r]=(e={},e[y]=I,e.centerOffset=I-R,e)}}function gV(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||E1(e.elements.popper,s)&&(e.elements.arrow=s))}const I1={name:"arrow",enabled:!0,phase:"main",fn:mV,effect:gV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sl(t){return t.split("-")[1]}var _V={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vV(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:El(n*s)/s||0,y:El(r*s)/s||0}}function Cb(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,a=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,g=o.x,_=g===void 0?0:g,E=o.y,S=E===void 0?0:E,C=typeof d=="function"?d({x:_,y:S}):{x:_,y:S};_=C.x,S=C.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),T=In,N=xn,M=window;if(u){var R=Wc(n),I="clientHeight",y="clientWidth";if(R===or(n)&&(R=co(n),si(R).position!=="static"&&l==="absolute"&&(I="scrollHeight",y="scrollWidth")),R=R,s===xn||(s===In||s===ir)&&i===bl){N=sr;var k=h&&R===M&&M.visualViewport?M.visualViewport.height:R[I];S-=k-r.height,S*=a?1:-1}if(s===In||(s===xn||s===sr)&&i===bl){T=ir;var A=h&&R===M&&M.visualViewport?M.visualViewport.width:R[y];_-=A-r.width,_*=a?1:-1}}var j=Object.assign({position:l},u&&_V),D=d===!0?vV({x:_,y:S},or(n)):{x:_,y:S};if(_=D.x,S=D.y,a){var O;return Object.assign({},j,(O={},O[N]=w?"0":"",O[T]=x?"0":"",O.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+S+"px)":"translate3d("+_+"px, "+S+"px, 0)",O))}return Object.assign({},j,(e={},e[N]=w?S+"px":"",e[T]=x?_+"px":"",e.transform="",e))}function yV(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,a=l===void 0?!0:l,u={placement:ws(e.placement),variation:Sl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Cb(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Cb(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yV,data:{}};var Hd={passive:!0};function wV(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,a=or(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,Hd)}),l&&a.addEventListener("resize",n.update,Hd),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Hd)}),l&&a.removeEventListener("resize",n.update,Hd)}}const hy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wV,data:{}};var bV={left:"right",right:"left",bottom:"top",top:"bottom"};function bh(t){return t.replace(/left|right|bottom|top/g,function(e){return bV[e]})}var EV={start:"end",end:"start"};function Pb(t){return t.replace(/start|end/g,function(e){return EV[e]})}function fy(t){var e=or(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function py(t){return Tl(co(t)).left+fy(t).scrollLeft}function TV(t,e){var n=or(t),r=co(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,a=0;if(s){i=s.width,o=s.height;var u=b1();(u||!u&&e==="fixed")&&(l=s.offsetLeft,a=s.offsetTop)}return{width:i,height:o,x:l+py(t),y:a}}function SV(t){var e,n=co(t),r=fy(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=zo(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=zo(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+py(t),a=-r.scrollTop;return si(s||n).direction==="rtl"&&(l+=zo(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:a}}function my(t){var e=si(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function A1(t){return["html","body","#document"].indexOf(Ts(t))>=0?t.ownerDocument.body:Sr(t)&&my(t)?t:A1(ip(t))}function qu(t,e){var n;e===void 0&&(e=[]);var r=A1(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=or(r),o=s?[i].concat(i.visualViewport||[],my(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(qu(ip(o)))}function Yg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xV(t,e){var n=Tl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Rb(t,e,n){return e===iy?Yg(TV(t,n)):sa(e)?xV(e,n):Yg(SV(co(t)))}function IV(t){var e=qu(ip(t)),n=["absolute","fixed"].indexOf(si(t).position)>=0,r=n&&Sr(t)?Wc(t):t;return sa(r)?e.filter(function(s){return sa(s)&&E1(s,r)&&Ts(s)!=="body"}):[]}function AV(t,e,n,r){var s=e==="clippingParents"?IV(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(a,u){var d=Rb(t,u,r);return a.top=zo(d.top,a.top),a.right=hf(d.right,a.right),a.bottom=hf(d.bottom,a.bottom),a.left=zo(d.left,a.left),a},Rb(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function k1(t){var e=t.reference,n=t.element,r=t.placement,s=r?ws(r):null,i=r?Sl(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,a;switch(s){case xn:a={x:o,y:e.y-n.height};break;case sr:a={x:o,y:e.y+e.height};break;case ir:a={x:e.x+e.width,y:l};break;case In:a={x:e.x-n.width,y:l};break;default:a={x:e.x,y:e.y}}var u=s?cy(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case ra:a[u]=a[u]-(e[d]/2-n[d]/2);break;case bl:a[u]=a[u]+(e[d]/2-n[d]/2);break}}return a}function xl(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,a=l===void 0?u1:l,u=n.rootBoundary,d=u===void 0?iy:u,h=n.elementContext,g=h===void 0?Ra:h,_=n.altBoundary,E=_===void 0?!1:_,S=n.padding,C=S===void 0?0:S,x=S1(typeof C!="number"?C:x1(C,Fl)),w=g===Ra?c1:Ra,T=t.rects.popper,N=t.elements[E?w:g],M=AV(sa(N)?N:N.contextElement||co(t.elements.popper),a,d,o),R=Tl(t.elements.reference),I=k1({reference:R,element:T,strategy:"absolute",placement:s}),y=Yg(Object.assign({},T,I)),k=g===Ra?y:R,A={top:M.top-k.top+x.top,bottom:k.bottom-M.bottom+x.bottom,left:M.left-k.left+x.left,right:k.right-M.right+x.right},j=t.modifiersData.offset;if(g===Ra&&j){var D=j[s];Object.keys(A).forEach(function(O){var ie=[ir,sr].indexOf(O)>=0?1:-1,_e=[xn,sr].indexOf(O)>=0?"y":"x";A[O]+=D[_e]*ie})}return A}function kV(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,a=n.allowedAutoPlacements,u=a===void 0?oy:a,d=Sl(r),h=d?l?Kg:Kg.filter(function(E){return Sl(E)===d}):Fl,g=h.filter(function(E){return u.indexOf(E)>=0});g.length===0&&(g=h);var _=g.reduce(function(E,S){return E[S]=xl(t,{placement:S,boundary:s,rootBoundary:i,padding:o})[ws(S)],E},{});return Object.keys(_).sort(function(E,S){return _[E]-_[S]})}function CV(t){if(ws(t)===sp)return[];var e=bh(t);return[Pb(t),e,Pb(e)]}function PV(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,a=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,g=n.altBoundary,_=n.flipVariations,E=_===void 0?!0:_,S=n.allowedAutoPlacements,C=e.options.placement,x=ws(C),w=x===C,T=a||(w||!E?[bh(C)]:CV(C)),N=[C].concat(T).reduce(function(He,Ke){return He.concat(ws(Ke)===sp?kV(e,{placement:Ke,boundary:d,rootBoundary:h,padding:u,flipVariations:E,allowedAutoPlacements:S}):Ke)},[]),M=e.rects.reference,R=e.rects.popper,I=new Map,y=!0,k=N[0],A=0;A<N.length;A++){var j=N[A],D=ws(j),O=Sl(j)===ra,ie=[xn,sr].indexOf(D)>=0,_e=ie?"width":"height",ke=xl(e,{placement:j,boundary:d,rootBoundary:h,altBoundary:g,padding:u}),ee=ie?O?ir:In:O?sr:xn;M[_e]>R[_e]&&(ee=bh(ee));var z=bh(ee),Y=[];if(i&&Y.push(ke[D]<=0),l&&Y.push(ke[ee]<=0,ke[z]<=0),Y.every(function(He){return He})){k=j,y=!1;break}I.set(j,Y)}if(y)for(var se=E?3:1,ve=function(Ke){var Ze=N.find(function(nt){var Ot=I.get(nt);if(Ot)return Ot.slice(0,Ke).every(function(Dt){return Dt})});if(Ze)return k=Ze,"break"},Te=se;Te>0;Te--){var W=ve(Te);if(W==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const C1={name:"flip",enabled:!0,phase:"main",fn:PV,requiresIfExists:["offset"],data:{_skip:!1}};function jb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Nb(t){return[xn,ir,sr,In].some(function(e){return t[e]>=0})}function RV(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=xl(e,{elementContext:"reference"}),l=xl(e,{altBoundary:!0}),a=jb(o,r),u=jb(l,s,i),d=Nb(a),h=Nb(u);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const P1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RV};function jV(t,e,n){var r=ws(t),s=[In,xn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[In,ir].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function NV(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=oy.reduce(function(d,h){return d[h]=jV(h,e.rects,i),d},{}),l=o[e.placement],a=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const R1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NV};function OV(t){var e=t.state,n=t.name;e.modifiersData[n]=k1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const gy={name:"popperOffsets",enabled:!0,phase:"read",fn:OV,data:{}};function DV(t){return t==="x"?"y":"x"}function LV(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,a=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,g=n.tether,_=g===void 0?!0:g,E=n.tetherOffset,S=E===void 0?0:E,C=xl(e,{boundary:a,rootBoundary:u,padding:h,altBoundary:d}),x=ws(e.placement),w=Sl(e.placement),T=!w,N=cy(x),M=DV(N),R=e.modifiersData.popperOffsets,I=e.rects.reference,y=e.rects.popper,k=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,A=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(R){if(i){var O,ie=N==="y"?xn:In,_e=N==="y"?sr:ir,ke=N==="y"?"height":"width",ee=R[N],z=ee+C[ie],Y=ee-C[_e],se=_?-y[ke]/2:0,ve=w===ra?I[ke]:y[ke],Te=w===ra?-y[ke]:-I[ke],W=e.elements.arrow,He=_&&W?uy(W):{width:0,height:0},Ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:T1(),Ze=Ke[ie],nt=Ke[_e],Ot=zu(0,I[ke],He[ke]),Dt=T?I[ke]/2-se-Ot-Ze-A.mainAxis:ve-Ot-Ze-A.mainAxis,cr=T?-I[ke]/2+se+Ot+nt+A.mainAxis:Te+Ot+nt+A.mainAxis,le=e.elements.arrow&&Wc(e.elements.arrow),rt=le?N==="y"?le.clientTop||0:le.clientLeft||0:0,nn=(O=j==null?void 0:j[N])!=null?O:0,es=ee+Dt-nn-rt,xs=ee+cr-nn,Lt=zu(_?hf(z,es):z,ee,_?zo(Y,xs):Y);R[N]=Lt,D[N]=Lt-ee}if(l){var Is,Ar=N==="x"?xn:In,jn=N==="x"?sr:ir,mn=R[M],kr=M==="y"?"height":"width",ci=mn+C[Ar],ts=mn-C[jn],gn=[xn,In].indexOf(x)!==-1,qn=(Is=j==null?void 0:j[M])!=null?Is:0,ht=gn?ci:mn-I[kr]-y[kr]-qn+A.altAxis,et=gn?mn+I[kr]+y[kr]-qn-A.altAxis:ts,at=_&&gn?fV(ht,mn,et):zu(_?ht:ci,mn,_?et:ts);R[M]=at,D[M]=at-mn}e.modifiersData[r]=D}}const j1={name:"preventOverflow",enabled:!0,phase:"main",fn:LV,requiresIfExists:["offset"]};function MV(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function VV(t){return t===or(t)||!Sr(t)?fy(t):MV(t)}function FV(t){var e=t.getBoundingClientRect(),n=El(e.width)/t.offsetWidth||1,r=El(e.height)/t.offsetHeight||1;return n!==1||r!==1}function $V(t,e,n){n===void 0&&(n=!1);var r=Sr(e),s=Sr(e)&&FV(e),i=co(e),o=Tl(t,s,n),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Ts(e)!=="body"||my(i))&&(l=VV(e)),Sr(e)?(a=Tl(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):i&&(a.x=py(i))),{x:o.left+l.scrollLeft-a.x,y:o.top+l.scrollTop-a.y,width:o.width,height:o.height}}function UV(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var a=e.get(l);a&&s(a)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function BV(t){var e=UV(t);return w1.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function zV(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function qV(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ob={placement:"bottom",modifiers:[],strategy:"absolute"};function Db(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function op(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Ob:s;return function(l,a,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ob,i),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},h=[],g=!1,_={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;S(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:sa(l)?qu(l):l.contextElement?qu(l.contextElement):[],popper:qu(a)};var T=BV(qV([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(N){return N.enabled}),E(),_.update()},forceUpdate:function(){if(!g){var x=d.elements,w=x.reference,T=x.popper;if(Db(w,T)){d.rects={reference:$V(w,Wc(T),d.options.strategy==="fixed"),popper:uy(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var M=d.orderedModifiers[N],R=M.fn,I=M.options,y=I===void 0?{}:I,k=M.name;typeof R=="function"&&(d=R({state:d,options:y,name:k,instance:_})||d)}}}},update:zV(function(){return new Promise(function(C){_.forceUpdate(),C(d)})}),destroy:function(){S(),g=!0}};if(!Db(l,a))return _;_.setOptions(u).then(function(C){!g&&u.onFirstUpdate&&u.onFirstUpdate(C)});function E(){d.orderedModifiers.forEach(function(C){var x=C.name,w=C.options,T=w===void 0?{}:w,N=C.effect;if(typeof N=="function"){var M=N({state:d,name:x,instance:_,options:T}),R=function(){};h.push(M||R)}})}function S(){h.forEach(function(C){return C()}),h=[]}return _}}var HV=op(),WV=[hy,gy,dy,ly],GV=op({defaultModifiers:WV}),KV=[hy,gy,dy,ly,R1,C1,j1,I1,P1],QV=op({defaultModifiers:KV});const YV=Object.freeze(Object.defineProperty({__proto__:null,afterMain:g1,afterRead:f1,afterWrite:y1,applyStyles:ly,arrow:I1,auto:sp,basePlacements:Fl,beforeMain:p1,beforeRead:d1,beforeWrite:_1,bottom:sr,clippingParents:u1,computeStyles:dy,createPopper:QV,createPopperBase:HV,createPopperLite:GV,detectOverflow:xl,end:bl,eventListeners:hy,flip:C1,hide:P1,left:In,main:m1,modifierPhases:w1,offset:R1,placements:oy,popper:Ra,popperGenerator:op,popperOffsets:gy,preventOverflow:j1,read:h1,reference:c1,right:ir,start:ra,top:xn,variationPlacements:Kg,viewport:iy,write:v1},Symbol.toStringTag,{value:"Module"})),JV=fE(YV);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(JV)})(nr,function(n){function r($){const p=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if($){for(const b in $)if(b!=="default"){const V=Object.getOwnPropertyDescriptor($,b);Object.defineProperty(p,b,V.get?V:{enumerable:!0,get:()=>$[b]})}}return p.default=$,Object.freeze(p)}const s=r(n),i=new Map,o={set($,p,b){i.has($)||i.set($,new Map);const V=i.get($);V.has(p)||V.size===0?V.set(p,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(V.keys())[0]}.`)},get:($,p)=>i.has($)&&i.get($).get(p)||null,remove($,p){if(!i.has($))return;const b=i.get($);b.delete(p),b.size===0&&i.delete($)}},l="transitionend",a=$=>($&&window.CSS&&window.CSS.escape&&($=$.replace(/#([^\s"#']+)/g,(p,b)=>`#${CSS.escape(b)}`)),$),u=$=>{$.dispatchEvent(new Event(l))},d=$=>!(!$||typeof $!="object")&&($.jquery!==void 0&&($=$[0]),$.nodeType!==void 0),h=$=>d($)?$.jquery?$[0]:$:typeof $=="string"&&$.length>0?document.querySelector(a($)):null,g=$=>{if(!d($)||$.getClientRects().length===0)return!1;const p=getComputedStyle($).getPropertyValue("visibility")==="visible",b=$.closest("details:not([open])");if(!b)return p;if(b!==$){const V=$.closest("summary");if(V&&V.parentNode!==b||V===null)return!1}return p},_=$=>!$||$.nodeType!==Node.ELEMENT_NODE||!!$.classList.contains("disabled")||($.disabled!==void 0?$.disabled:$.hasAttribute("disabled")&&$.getAttribute("disabled")!=="false"),E=$=>{if(!document.documentElement.attachShadow)return null;if(typeof $.getRootNode=="function"){const p=$.getRootNode();return p instanceof ShadowRoot?p:null}return $ instanceof ShadowRoot?$:$.parentNode?E($.parentNode):null},S=()=>{},C=$=>{$.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,w=[],T=()=>document.documentElement.dir==="rtl",N=$=>{var p;p=()=>{const b=x();if(b){const V=$.NAME,Q=b.fn[V];b.fn[V]=$.jQueryInterface,b.fn[V].Constructor=$,b.fn[V].noConflict=()=>(b.fn[V]=Q,$.jQueryInterface)}},document.readyState==="loading"?(w.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of w)b()}),w.push(p)):p()},M=($,p=[],b=$)=>typeof $=="function"?$(...p):b,R=($,p,b=!0)=>{if(!b)return void M($);const V=(ce=>{if(!ce)return 0;let{transitionDuration:Le,transitionDelay:mt}=window.getComputedStyle(ce);const Dn=Number.parseFloat(Le),Qn=Number.parseFloat(mt);return Dn||Qn?(Le=Le.split(",")[0],mt=mt.split(",")[0],1e3*(Number.parseFloat(Le)+Number.parseFloat(mt))):0})(p)+5;let Q=!1;const ne=({target:ce})=>{ce===p&&(Q=!0,p.removeEventListener(l,ne),M($))};p.addEventListener(l,ne),setTimeout(()=>{Q||u(p)},V)},I=($,p,b,V)=>{const Q=$.length;let ne=$.indexOf(p);return ne===-1?!b&&V?$[Q-1]:$[0]:(ne+=b?1:-1,V&&(ne=(ne+Q)%Q),$[Math.max(0,Math.min(ne,Q-1))])},y=/[^.]*(?=\..*)\.|.*/,k=/\..*/,A=/::\d+$/,j={};let D=1;const O={mouseenter:"mouseover",mouseleave:"mouseout"},ie=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _e($,p){return p&&`${p}::${D++}`||$.uidEvent||D++}function ke($){const p=_e($);return $.uidEvent=p,j[p]=j[p]||{},j[p]}function ee($,p,b=null){return Object.values($).find(V=>V.callable===p&&V.delegationSelector===b)}function z($,p,b){const V=typeof p=="string",Q=V?b:p||b;let ne=Te($);return ie.has(ne)||(ne=$),[V,Q,ne]}function Y($,p,b,V,Q){if(typeof p!="string"||!$)return;let[ne,ce,Le]=z(p,b,V);p in O&&(ce=(xo=>function(Fr){if(!Fr.relatedTarget||Fr.relatedTarget!==Fr.delegateTarget&&!Fr.delegateTarget.contains(Fr.relatedTarget))return xo.call(this,Fr)})(ce));const mt=ke($),Dn=mt[Le]||(mt[Le]={}),Qn=ee(Dn,ce,ne?b:null);if(Qn)return void(Qn.oneOff=Qn.oneOff&&Q);const Vr=_e(ce,p.replace(y,"")),Rs=ne?function(js,xo,Fr){return function ru(Ed){const zA=js.querySelectorAll(xo);for(let{target:Io}=Ed;Io&&Io!==this;Io=Io.parentNode)for(const qA of zA)if(qA===Io)return He(Ed,{delegateTarget:Io}),ru.oneOff&&W.off(js,Ed.type,xo,Fr),Fr.apply(Io,[Ed])}}($,b,ce):function(js,xo){return function Fr(ru){return He(ru,{delegateTarget:js}),Fr.oneOff&&W.off(js,ru.type,xo),xo.apply(js,[ru])}}($,ce);Rs.delegationSelector=ne?b:null,Rs.callable=ce,Rs.oneOff=Q,Rs.uidEvent=Vr,Dn[Vr]=Rs,$.addEventListener(Le,Rs,ne)}function se($,p,b,V,Q){const ne=ee(p[b],V,Q);ne&&($.removeEventListener(b,ne,!!Q),delete p[b][ne.uidEvent])}function ve($,p,b,V){const Q=p[b]||{};for(const[ne,ce]of Object.entries(Q))ne.includes(V)&&se($,p,b,ce.callable,ce.delegationSelector)}function Te($){return $=$.replace(k,""),O[$]||$}const W={on($,p,b,V){Y($,p,b,V,!1)},one($,p,b,V){Y($,p,b,V,!0)},off($,p,b,V){if(typeof p!="string"||!$)return;const[Q,ne,ce]=z(p,b,V),Le=ce!==p,mt=ke($),Dn=mt[ce]||{},Qn=p.startsWith(".");if(ne===void 0){if(Qn)for(const Vr of Object.keys(mt))ve($,mt,Vr,p.slice(1));for(const[Vr,Rs]of Object.entries(Dn)){const js=Vr.replace(A,"");Le&&!p.includes(js)||se($,mt,ce,Rs.callable,Rs.delegationSelector)}}else{if(!Object.keys(Dn).length)return;se($,mt,ce,ne,Q?b:null)}},trigger($,p,b){if(typeof p!="string"||!$)return null;const V=x();let Q=null,ne=!0,ce=!0,Le=!1;p!==Te(p)&&V&&(Q=V.Event(p,b),V($).trigger(Q),ne=!Q.isPropagationStopped(),ce=!Q.isImmediatePropagationStopped(),Le=Q.isDefaultPrevented());const mt=He(new Event(p,{bubbles:ne,cancelable:!0}),b);return Le&&mt.preventDefault(),ce&&$.dispatchEvent(mt),mt.defaultPrevented&&Q&&Q.preventDefault(),mt}};function He($,p={}){for(const[b,V]of Object.entries(p))try{$[b]=V}catch{Object.defineProperty($,b,{configurable:!0,get:()=>V})}return $}function Ke($){if($==="true")return!0;if($==="false")return!1;if($===Number($).toString())return Number($);if($===""||$==="null")return null;if(typeof $!="string")return $;try{return JSON.parse(decodeURIComponent($))}catch{return $}}function Ze($){return $.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const nt={setDataAttribute($,p,b){$.setAttribute(`data-bs-${Ze(p)}`,b)},removeDataAttribute($,p){$.removeAttribute(`data-bs-${Ze(p)}`)},getDataAttributes($){if(!$)return{};const p={},b=Object.keys($.dataset).filter(V=>V.startsWith("bs")&&!V.startsWith("bsConfig"));for(const V of b){let Q=V.replace(/^bs/,"");Q=Q.charAt(0).toLowerCase()+Q.slice(1,Q.length),p[Q]=Ke($.dataset[V])}return p},getDataAttribute:($,p)=>Ke($.getAttribute(`data-bs-${Ze(p)}`))};class Ot{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,b){const V=d(b)?nt.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof V=="object"?V:{},...d(b)?nt.getDataAttributes(b):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,b=this.constructor.DefaultType){for(const[Q,ne]of Object.entries(b)){const ce=p[Q],Le=d(ce)?"element":(V=ce)==null?`${V}`:Object.prototype.toString.call(V).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ne).test(Le))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Q}" provided type "${Le}" but expected type "${ne}".`)}var V}}class Dt extends Ot{constructor(p,b){super(),(p=h(p))&&(this._element=p,this._config=this._getConfig(b),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,b,V=!0){R(p,b,V)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return o.get(h(p),this.DATA_KEY)}static getOrCreateInstance(p,b={}){return this.getInstance(p)||new this(p,typeof b=="object"?b:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const cr=$=>{let p=$.getAttribute("data-bs-target");if(!p||p==="#"){let b=$.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),p=b&&b!=="#"?b.trim():null}return p?p.split(",").map(b=>a(b)).join(","):null},le={find:($,p=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(p,$)),findOne:($,p=document.documentElement)=>Element.prototype.querySelector.call(p,$),children:($,p)=>[].concat(...$.children).filter(b=>b.matches(p)),parents($,p){const b=[];let V=$.parentNode.closest(p);for(;V;)b.push(V),V=V.parentNode.closest(p);return b},prev($,p){let b=$.previousElementSibling;for(;b;){if(b.matches(p))return[b];b=b.previousElementSibling}return[]},next($,p){let b=$.nextElementSibling;for(;b;){if(b.matches(p))return[b];b=b.nextElementSibling}return[]},focusableChildren($){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(p,$).filter(b=>!_(b)&&g(b))},getSelectorFromElement($){const p=cr($);return p&&le.findOne(p)?p:null},getElementFromSelector($){const p=cr($);return p?le.findOne(p):null},getMultipleElementsFromSelector($){const p=cr($);return p?le.find(p):[]}},rt=($,p="hide")=>{const b=`click.dismiss${$.EVENT_KEY}`,V=$.NAME;W.on(document,b,`[data-bs-dismiss="${V}"]`,function(Q){if(["A","AREA"].includes(this.tagName)&&Q.preventDefault(),_(this))return;const ne=le.getElementFromSelector(this)||this.closest(`.${V}`);$.getOrCreateInstance(ne)[p]()})},nn=".bs.alert",es=`close${nn}`,xs=`closed${nn}`;class Lt extends Dt{static get NAME(){return"alert"}close(){if(W.trigger(this._element,es).defaultPrevented)return;this._element.classList.remove("show");const p=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,p)}_destroyElement(){this._element.remove(),W.trigger(this._element,xs),this.dispose()}static jQueryInterface(p){return this.each(function(){const b=Lt.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}rt(Lt,"close"),N(Lt);const Is='[data-bs-toggle="button"]';class Ar extends Dt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(p){return this.each(function(){const b=Ar.getOrCreateInstance(this);p==="toggle"&&b[p]()})}}W.on(document,"click.bs.button.data-api",Is,$=>{$.preventDefault();const p=$.target.closest(Is);Ar.getOrCreateInstance(p).toggle()}),N(Ar);const jn=".bs.swipe",mn=`touchstart${jn}`,kr=`touchmove${jn}`,ci=`touchend${jn}`,ts=`pointerdown${jn}`,gn=`pointerup${jn}`,qn={endCallback:null,leftCallback:null,rightCallback:null},ht={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class et extends Ot{constructor(p,b){super(),this._element=p,p&&et.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return qn}static get DefaultType(){return ht}static get NAME(){return"swipe"}dispose(){W.off(this._element,jn)}_start(p){this._supportPointerEvents?this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX):this._deltaX=p.touches[0].clientX}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),M(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=40)return;const b=p/this._deltaX;this._deltaX=0,b&&M(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,ts,p=>this._start(p)),W.on(this._element,gn,p=>this._end(p)),this._element.classList.add("pointer-event")):(W.on(this._element,mn,p=>this._start(p)),W.on(this._element,kr,p=>this._move(p)),W.on(this._element,ci,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType==="pen"||p.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const at=".bs.carousel",_n=".data-api",Cr="next",Hn="prev",Nn="left",rn="right",fo=`slide${at}`,ns=`slid${at}`,pa=`keydown${at}`,zl=`mouseenter${at}`,di=`mouseleave${at}`,As=`dragstart${at}`,po=`load${at}${_n}`,Pr=`click${at}${_n}`,Rr="carousel",dr="active",hr=".active",hi=".carousel-item",fi=hr+hi,mo={ArrowLeft:rn,ArrowRight:Nn},fr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ks={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ft extends Dt{constructor(p,b){super(p,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=le.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Rr&&this.cycle()}static get Default(){return fr}static get DefaultType(){return ks}static get NAME(){return"carousel"}next(){this._slide(Cr)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Hn)}pause(){this._isSliding&&u(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,ns,()=>this.cycle()):this.cycle())}to(p){const b=this._getItems();if(p>b.length-1||p<0)return;if(this._isSliding)return void W.one(this._element,ns,()=>this.to(p));const V=this._getItemIndex(this._getActive());if(V===p)return;const Q=p>V?Cr:Hn;this._slide(Q,b[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&W.on(this._element,pa,p=>this._keydown(p)),this._config.pause==="hover"&&(W.on(this._element,zl,()=>this.pause()),W.on(this._element,di,()=>this._maybeEnableCycle())),this._config.touch&&et.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of le.find(".carousel-item img",this._element))W.on(b,As,V=>V.preventDefault());const p={leftCallback:()=>this._slide(this._directionToOrder(Nn)),rightCallback:()=>this._slide(this._directionToOrder(rn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new et(this._element,p)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const b=mo[p.key];b&&(p.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const b=le.findOne(hr,this._indicatorsElement);b.classList.remove(dr),b.removeAttribute("aria-current");const V=le.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);V&&(V.classList.add(dr),V.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const b=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(p,b=null){if(this._isSliding)return;const V=this._getActive(),Q=p===Cr,ne=b||I(this._getItems(),V,Q,this._config.wrap);if(ne===V)return;const ce=this._getItemIndex(ne),Le=Vr=>W.trigger(this._element,Vr,{relatedTarget:ne,direction:this._orderToDirection(p),from:this._getItemIndex(V),to:ce});if(Le(fo).defaultPrevented||!V||!ne)return;const mt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ce),this._activeElement=ne;const Dn=Q?"carousel-item-start":"carousel-item-end",Qn=Q?"carousel-item-next":"carousel-item-prev";ne.classList.add(Qn),C(ne),V.classList.add(Dn),ne.classList.add(Dn),this._queueCallback(()=>{ne.classList.remove(Dn,Qn),ne.classList.add(dr),V.classList.remove(dr,Qn,Dn),this._isSliding=!1,Le(ns)},V,this._isAnimated()),mt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return le.findOne(fi,this._element)}_getItems(){return le.find(hi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return T()?p===Nn?Hn:Cr:p===Nn?Cr:Hn}_orderToDirection(p){return T()?p===Hn?Nn:rn:p===Hn?rn:Nn}static jQueryInterface(p){return this.each(function(){const b=ft.getOrCreateInstance(this,p);if(typeof p!="number"){if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}}else b.to(p)})}}W.on(document,Pr,"[data-bs-slide], [data-bs-slide-to]",function($){const p=le.getElementFromSelector(this);if(!p||!p.classList.contains(Rr))return;$.preventDefault();const b=ft.getOrCreateInstance(p),V=this.getAttribute("data-bs-slide-to");return V?(b.to(V),void b._maybeEnableCycle()):nt.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),W.on(window,po,()=>{const $=le.find('[data-bs-ride="carousel"]');for(const p of $)ft.getOrCreateInstance(p)}),N(ft);const rs=".bs.collapse",F=`show${rs}`,U=`shown${rs}`,q=`hide${rs}`,G=`hidden${rs}`,re=`click${rs}.data-api`,ue="show",pe="collapse",Z="collapsing",we=`:scope .${pe} .${pe}`,he='[data-bs-toggle="collapse"]',fe={parent:null,toggle:!0},Ce={parent:"(null|element)",toggle:"boolean"};class Pe extends Dt{constructor(p,b){super(p,b),this._isTransitioning=!1,this._triggerArray=[];const V=le.find(he);for(const Q of V){const ne=le.getSelectorFromElement(Q),ce=le.find(ne).filter(Le=>Le===this._element);ne!==null&&ce.length&&this._triggerArray.push(Q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fe}static get DefaultType(){return Ce}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Q=>Q!==this._element).map(Q=>Pe.getOrCreateInstance(Q,{toggle:!1}))),p.length&&p[0]._isTransitioning||W.trigger(this._element,F).defaultPrevented)return;for(const Q of p)Q.hide();const b=this._getDimension();this._element.classList.remove(pe),this._element.classList.add(Z),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const V=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Z),this._element.classList.add(pe,ue),this._element.style[b]="",W.trigger(this._element,U)},this._element,!0),this._element.style[b]=`${this._element[V]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,q).defaultPrevented)return;const p=this._getDimension();this._element.style[p]=`${this._element.getBoundingClientRect()[p]}px`,C(this._element),this._element.classList.add(Z),this._element.classList.remove(pe,ue);for(const b of this._triggerArray){const V=le.getElementFromSelector(b);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[p]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Z),this._element.classList.add(pe),W.trigger(this._element,G)},this._element,!0)}_isShown(p=this._element){return p.classList.contains(ue)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=h(p.parent),p}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(he);for(const b of p){const V=le.getElementFromSelector(b);V&&this._addAriaAndCollapsedClass([b],this._isShown(V))}}_getFirstLevelChildren(p){const b=le.find(we,this._config.parent);return le.find(p,this._config.parent).filter(V=>!b.includes(V))}_addAriaAndCollapsedClass(p,b){if(p.length)for(const V of p)V.classList.toggle("collapsed",!b),V.setAttribute("aria-expanded",b)}static jQueryInterface(p){const b={};return typeof p=="string"&&/show|hide/.test(p)&&(b.toggle=!1),this.each(function(){const V=Pe.getOrCreateInstance(this,b);if(typeof p=="string"){if(V[p]===void 0)throw new TypeError(`No method named "${p}"`);V[p]()}})}}W.on(document,re,he,function($){($.target.tagName==="A"||$.delegateTarget&&$.delegateTarget.tagName==="A")&&$.preventDefault();for(const p of le.getMultipleElementsFromSelector(this))Pe.getOrCreateInstance(p,{toggle:!1}).toggle()}),N(Pe);const Ue="dropdown",xe=".bs.dropdown",lt=".data-api",ut="ArrowUp",jr="ArrowDown",pr=`hide${xe}`,Wn=`hidden${xe}`,Nr=`show${xe}`,mr=`shown${xe}`,Mt=`click${xe}${lt}`,vn=`keydown${xe}${lt}`,ss=`keyup${xe}${lt}`,Gn="show",ge='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tt=`${ge}.${Gn}`,St=".dropdown-menu",We=T()?"top-end":"top-start",yn=T()?"top-start":"top-end",go=T()?"bottom-end":"bottom-start",ma=T()?"bottom-start":"bottom-end",mp=T()?"left-start":"right-start",gp=T()?"right-start":"left-start",Jc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kn extends Dt{constructor(p,b){super(p,b),this._popper=null,this._parent=this._element.parentNode,this._menu=le.next(this._element,St)[0]||le.prev(this._element,St)[0]||le.findOne(St,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Jc}static get DefaultType(){return Xc}static get NAME(){return Ue}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!W.trigger(this._element,Nr,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))W.on(b,"mouseover",S);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gn),this._element.classList.add(Gn),W.trigger(this._element,mr,p)}}hide(){if(_(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!W.trigger(this._element,pr,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))W.off(b,"mouseover",S);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gn),this._element.classList.remove(Gn),this._element.setAttribute("aria-expanded","false"),nt.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,Wn,p)}}_getConfig(p){if(typeof(p=super._getConfig(p)).reference=="object"&&!d(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${Ue.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(s===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let p=this._element;this._config.reference==="parent"?p=this._parent:d(this._config.reference)?p=h(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const b=this._getPopperConfig();this._popper=s.createPopper(p,this._menu,b)}_isShown(){return this._menu.classList.contains(Gn)}_getPlacement(){const p=this._parent;if(p.classList.contains("dropend"))return mp;if(p.classList.contains("dropstart"))return gp;if(p.classList.contains("dropup-center"))return"top";if(p.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains("dropup")?b?yn:We:b?ma:go}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(nt.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...M(this._config.popperConfig,[p])}}_selectMenuItem({key:p,target:b}){const V=le.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Q=>g(Q));V.length&&I(V,b,p===jr,!V.includes(b)).focus()}static jQueryInterface(p){return this.each(function(){const b=Kn.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}static clearMenus(p){if(p.button===2||p.type==="keyup"&&p.key!=="Tab")return;const b=le.find(tt);for(const V of b){const Q=Kn.getInstance(V);if(!Q||Q._config.autoClose===!1)continue;const ne=p.composedPath(),ce=ne.includes(Q._menu);if(ne.includes(Q._element)||Q._config.autoClose==="inside"&&!ce||Q._config.autoClose==="outside"&&ce||Q._menu.contains(p.target)&&(p.type==="keyup"&&p.key==="Tab"||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const Le={relatedTarget:Q._element};p.type==="click"&&(Le.clickEvent=p),Q._completeHide(Le)}}static dataApiKeydownHandler(p){const b=/input|textarea/i.test(p.target.tagName),V=p.key==="Escape",Q=[ut,jr].includes(p.key);if(!Q&&!V||b&&!V)return;p.preventDefault();const ne=this.matches(ge)?this:le.prev(this,ge)[0]||le.next(this,ge)[0]||le.findOne(ge,p.delegateTarget.parentNode),ce=Kn.getOrCreateInstance(ne);if(Q)return p.stopPropagation(),ce.show(),void ce._selectMenuItem(p);ce._isShown()&&(p.stopPropagation(),ce.hide(),ne.focus())}}W.on(document,vn,ge,Kn.dataApiKeydownHandler),W.on(document,vn,St,Kn.dataApiKeydownHandler),W.on(document,Mt,Kn.clearMenus),W.on(document,ss,Kn.clearMenus),W.on(document,Mt,ge,function($){$.preventDefault(),Kn.getOrCreateInstance(this).toggle()}),N(Kn);const is="backdrop",gr="show",_o=`mousedown.bs.${is}`,ga={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Zc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ye extends Ot{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return ga}static get DefaultType(){return Zc}static get NAME(){return is}show(p){if(!this._config.isVisible)return void M(p);this._append();const b=this._getElement();this._config.isAnimated&&C(b),b.classList.add(gr),this._emulateAnimation(()=>{M(p)})}hide(p){this._config.isVisible?(this._getElement().classList.remove(gr),this._emulateAnimation(()=>{this.dispose(),M(p)})):M(p)}dispose(){this._isAppended&&(W.off(this._element,_o),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add("fade"),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=h(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),W.on(p,_o,()=>{M(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){R(p,this._getElement(),this._config.isAnimated)}}const Cs=".bs.focustrap",vo=`focusin${Cs}`,yo=`keydown.tab${Cs}`,ed="backward",td={autofocus:!0,trapElement:null},_p={autofocus:"boolean",trapElement:"element"};class nd extends Ot{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return td}static get DefaultType(){return _p}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,Cs),W.on(document,vo,p=>this._handleFocusin(p)),W.on(document,yo,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,Cs))}_handleFocusin(p){const{trapElement:b}=this._config;if(p.target===document||p.target===b||b.contains(p.target))return;const V=le.focusableChildren(b);V.length===0?b.focus():this._lastTabNavDirection===ed?V[V.length-1].focus():V[0].focus()}_handleKeydown(p){p.key==="Tab"&&(this._lastTabNavDirection=p.shiftKey?ed:"forward")}}const rd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sd=".sticky-top",os="padding-right",Or="margin-right";class _a{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,os,b=>b+p),this._setElementAttributes(rd,os,b=>b+p),this._setElementAttributes(sd,Or,b=>b-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,os),this._resetElementAttributes(rd,os),this._resetElementAttributes(sd,Or)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,b,V){const Q=this.getWidth();this._applyManipulationCallback(p,ne=>{if(ne!==this._element&&window.innerWidth>ne.clientWidth+Q)return;this._saveInitialAttribute(ne,b);const ce=window.getComputedStyle(ne).getPropertyValue(b);ne.style.setProperty(b,`${V(Number.parseFloat(ce))}px`)})}_saveInitialAttribute(p,b){const V=p.style.getPropertyValue(b);V&&nt.setDataAttribute(p,b,V)}_resetElementAttributes(p,b){this._applyManipulationCallback(p,V=>{const Q=nt.getDataAttribute(V,b);Q!==null?(nt.removeDataAttribute(V,b),V.style.setProperty(b,Q)):V.style.removeProperty(b)})}_applyManipulationCallback(p,b){if(d(p))b(p);else for(const V of le.find(p,this._element))b(V)}}const wn=".bs.modal",id=`hide${wn}`,pi=`hidePrevented${wn}`,od=`hidden${wn}`,ad=`show${wn}`,vp=`shown${wn}`,as=`resize${wn}`,yp=`click.dismiss${wn}`,wp=`mousedown.dismiss${wn}`,wo=`keydown.dismiss${wn}`,va=`click${wn}.data-api`,ql="modal-open",mi="show",Ps="modal-static",ld={backdrop:!0,focus:!0,keyboard:!0},Hl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ge extends Dt{constructor(p,b){super(p,b),this._dialog=le.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _a,this._addEventListeners()}static get Default(){return ld}static get DefaultType(){return Hl}static get NAME(){return"modal"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||W.trigger(this._element,ad,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ql),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,id).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,wn),W.off(this._dialog,wn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ye({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=le.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),C(this._element),this._element.classList.add(mi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,vp,{relatedTarget:p})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,wo,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,as,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,wp,p=>{W.one(this._element,yp,b=>{this._element===p.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ql),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,od)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,pi).defaultPrevented)return;const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Ps)||(p||(this._element.style.overflowY="hidden"),this._element.classList.add(Ps),this._queueCallback(()=>{this._element.classList.remove(Ps),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),V=b>0;if(V&&!p){const Q=T()?"paddingLeft":"paddingRight";this._element.style[Q]=`${b}px`}if(!V&&p){const Q=T()?"paddingRight":"paddingLeft";this._element.style[Q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,b){return this.each(function(){const V=Ge.getOrCreateInstance(this,p);if(typeof p=="string"){if(V[p]===void 0)throw new TypeError(`No method named "${p}"`);V[p](b)}})}}W.on(document,va,'[data-bs-toggle="modal"]',function($){const p=le.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&$.preventDefault(),W.one(p,ad,V=>{V.defaultPrevented||W.one(p,od,()=>{g(this)&&this.focus()})});const b=le.findOne(".modal.show");b&&Ge.getInstance(b).hide(),Ge.getOrCreateInstance(p).toggle(this)}),rt(Ge),N(Ge);const Dr=".bs.offcanvas",ud=".data-api",cd=`load${Dr}${ud}`,Wl="show",Gl="showing",bo="hiding",Kl=".offcanvas.show",Lr=`show${Dr}`,dd=`shown${Dr}`,bp=`hide${Dr}`,gi=`hidePrevented${Dr}`,Ql=`hidden${Dr}`,Yl=`resize${Dr}`,ya=`click${Dr}${ud}`,hd=`keydown.dismiss${Dr}`,wa={backdrop:!0,keyboard:!0,scroll:!1},Ep={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _r extends Dt{constructor(p,b){super(p,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return wa}static get DefaultType(){return Ep}static get NAME(){return"offcanvas"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||W.trigger(this._element,Lr,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gl),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Wl),this._element.classList.remove(Gl),W.trigger(this._element,dd,{relatedTarget:p})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,bp).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(bo),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Wl,bo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _a().reset(),W.trigger(this._element,Ql)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=!!this._config.backdrop;return new Ye({className:"offcanvas-backdrop",isVisible:p,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:p?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,gi)}:null})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_addEventListeners(){W.on(this._element,hd,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,gi))})}static jQueryInterface(p){return this.each(function(){const b=_r.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}W.on(document,ya,'[data-bs-toggle="offcanvas"]',function($){const p=le.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;W.one(p,Ql,()=>{g(this)&&this.focus()});const b=le.findOne(Kl);b&&b!==p&&_r.getInstance(b).hide(),_r.getOrCreateInstance(p).toggle(this)}),W.on(window,cd,()=>{for(const $ of le.find(Kl))_r.getOrCreateInstance($).show()}),W.on(window,Yl,()=>{for(const $ of le.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle($).position!=="fixed"&&_r.getOrCreateInstance($).hide()}),rt(_r),N(_r);const _i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jl=($,p)=>{const b=$.nodeName.toLowerCase();return p.includes(b)?!fd.has(b)||!!pd.test($.nodeValue):p.filter(V=>V instanceof RegExp).some(V=>V.test(b))},Xl={allowList:_i,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},md={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ba={entry:"(string|element|function|null)",selector:"(string|element)"};class gd extends Ot{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return Xl}static get DefaultType(){return md}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[Q,ne]of Object.entries(this._config.content))this._setContent(p,ne,Q);const b=p.children[0],V=this._resolvePossibleFunction(this._config.extraClass);return V&&b.classList.add(...V.split(" ")),b}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[b,V]of Object.entries(p))super._typeCheckConfig({selector:b,entry:V},ba)}_setContent(p,b,V){const Q=le.findOne(V,p);Q&&((b=this._resolvePossibleFunction(b))?d(b)?this._putElementInTemplate(h(b),Q):this._config.html?Q.innerHTML=this._maybeSanitize(b):Q.textContent=b:Q.remove())}_maybeSanitize(p){return this._config.sanitize?function(b,V,Q){if(!b.length)return b;if(Q&&typeof Q=="function")return Q(b);const ne=new window.DOMParser().parseFromString(b,"text/html"),ce=[].concat(...ne.body.querySelectorAll("*"));for(const Le of ce){const mt=Le.nodeName.toLowerCase();if(!Object.keys(V).includes(mt)){Le.remove();continue}const Dn=[].concat(...Le.attributes),Qn=[].concat(V["*"]||[],V[mt]||[]);for(const Vr of Dn)Jl(Vr,Qn)||Le.removeAttribute(Vr.nodeName)}return ne.body.innerHTML}(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return M(p,[this])}_putElementInTemplate(p,b){if(this._config.html)return b.innerHTML="",void b.append(p);b.textContent=p.textContent}}const _d=new Set(["sanitize","allowList","sanitizeFn"]),Mr="fade",Eo="show",Zl=".modal",eu="hide.bs.modal",vi="hover",yi="focus",bn={AUTO:"auto",TOP:"top",RIGHT:T()?"left":"right",BOTTOM:"bottom",LEFT:T()?"right":"left"},vd={allowList:_i,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class On extends Dt{constructor(p,b){if(s===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(p,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vd}static get DefaultType(){return yd}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(Zl),eu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const p=W.trigger(this._element,this.constructor.eventName("show")),b=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!b)return;this._disposePopper();const V=this._getTipElement();this._element.setAttribute("aria-describedby",V.getAttribute("id"));const{container:Q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Q.append(V),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(V),V.classList.add(Eo),"ontouchstart"in document.documentElement)for(const ne of[].concat(...document.body.children))W.on(ne,"mouseover",S);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Eo),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))W.off(p,"mouseover",S);this._activeTrigger.click=!1,this._activeTrigger[yi]=!1,this._activeTrigger[vi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const b=this._getTemplateFactory(p).toHtml();if(!b)return null;b.classList.remove(Mr,Eo),b.classList.add(`bs-${this.constructor.NAME}-auto`);const V=(Q=>{do Q+=Math.floor(1e6*Math.random());while(document.getElementById(Q));return Q})(this.constructor.NAME).toString();return b.setAttribute("id",V),this._isAnimated()&&b.classList.add(Mr),b}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new gd({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mr)}_isShown(){return this.tip&&this.tip.classList.contains(Eo)}_createPopper(p){const b=M(this._config.placement,[this,p,this._element]),V=bn[b.toUpperCase()];return s.createPopper(this._element,p,this._getPopperConfig(V))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_resolvePossibleFunction(p){return M(p,[this._element])}_getPopperConfig(p){const b={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:V=>{this._getTipElement().setAttribute("data-popper-placement",V.state.placement)}}]};return{...b,...M(this._config.popperConfig,[b])}}_setListeners(){const p=this._config.trigger.split(" ");for(const b of p)if(b==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,V=>{this._initializeOnDelegatedTarget(V).toggle()});else if(b!=="manual"){const V=b===vi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Q=b===vi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,V,this._config.selector,ne=>{const ce=this._initializeOnDelegatedTarget(ne);ce._activeTrigger[ne.type==="focusin"?yi:vi]=!0,ce._enter()}),W.on(this._element,Q,this._config.selector,ne=>{const ce=this._initializeOnDelegatedTarget(ne);ce._activeTrigger[ne.type==="focusout"?yi:vi]=ce._element.contains(ne.relatedTarget),ce._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(Zl),eu,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,b){clearTimeout(this._timeout),this._timeout=setTimeout(p,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const b=nt.getDataAttributes(this._element);for(const V of Object.keys(b))_d.has(V)&&delete b[V];return p={...b,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:h(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[b,V]of Object.entries(this._config))this.constructor.Default[b]!==V&&(p[b]=V);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const b=On.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}N(On);const c={...On.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},m={...On.DefaultType,content:"(null|string|element|function)"};class v extends On{static get Default(){return c}static get DefaultType(){return m}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const b=v.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}N(v);const P=".bs.scrollspy",B=`activate${P}`,H=`click${P}`,te=`load${P}.data-api`,Fe="active",xt="[href]",De=".nav-link",Ut=`${De}, .nav-item > ${De}, .list-group-item`,Bt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gt extends Dt{constructor(p,b){super(p,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bt}static get DefaultType(){return wi}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=h(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(b=>Number.parseFloat(b))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,H),W.on(this._config.target,H,xt,p=>{const b=this._observableSections.get(p.target.hash);if(b){p.preventDefault();const V=this._rootElement||window,Q=b.offsetTop-this._element.offsetTop;if(V.scrollTo)return void V.scrollTo({top:Q,behavior:"smooth"});V.scrollTop=Q}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),p)}_observerCallback(p){const b=ce=>this._targetLinks.get(`#${ce.target.id}`),V=ce=>{this._previousScrollData.visibleEntryTop=ce.target.offsetTop,this._process(b(ce))},Q=(this._rootElement||document.documentElement).scrollTop,ne=Q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Q;for(const ce of p){if(!ce.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(ce));continue}const Le=ce.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ne&&Le){if(V(ce),!Q)return}else ne||Le||V(ce)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=le.find(xt,this._config.target);for(const b of p){if(!b.hash||_(b))continue;const V=le.findOne(decodeURI(b.hash),this._element);g(V)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,V))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add(Fe),this._activateParents(p),W.trigger(this._element,B,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains("dropdown-item"))le.findOne(".dropdown-toggle",p.closest(".dropdown")).classList.add(Fe);else for(const b of le.parents(p,".nav, .list-group"))for(const V of le.prev(b,Ut))V.classList.add(Fe)}_clearActiveClass(p){p.classList.remove(Fe);const b=le.find(`${xt}.${Fe}`,p);for(const V of b)V.classList.remove(Fe)}static jQueryInterface(p){return this.each(function(){const b=Gt.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}W.on(window,te,()=>{for(const $ of le.find('[data-bs-spy="scroll"]'))Gt.getOrCreateInstance($)}),N(Gt);const vr=".bs.tab",tu=`hide${vr}`,SA=`hidden${vr}`,xA=`show${vr}`,IA=`shown${vr}`,AA=`click${vr}`,kA=`keydown${vr}`,CA=`load${vr}`,PA="ArrowLeft",Cy="ArrowRight",RA="ArrowUp",Py="ArrowDown",Tp="Home",Ry="End",To="active",jy="fade",Sp="show",Ny=".dropdown-toggle",xp=`:not(${Ny})`,Oy='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ip=`.nav-link${xp}, .list-group-item${xp}, [role="tab"]${xp}, ${Oy}`,jA=`.${To}[data-bs-toggle="tab"], .${To}[data-bs-toggle="pill"], .${To}[data-bs-toggle="list"]`;class So extends Dt{constructor(p){super(p),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,kA,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const p=this._element;if(this._elemIsActive(p))return;const b=this._getActiveElem(),V=b?W.trigger(b,tu,{relatedTarget:p}):null;W.trigger(p,xA,{relatedTarget:b}).defaultPrevented||V&&V.defaultPrevented||(this._deactivate(b,p),this._activate(p,b))}_activate(p,b){p&&(p.classList.add(To),this._activate(le.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),W.trigger(p,IA,{relatedTarget:b})):p.classList.add(Sp)},p,p.classList.contains(jy)))}_deactivate(p,b){p&&(p.classList.remove(To),p.blur(),this._deactivate(le.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),W.trigger(p,SA,{relatedTarget:b})):p.classList.remove(Sp)},p,p.classList.contains(jy)))}_keydown(p){if(![PA,Cy,RA,Py,Tp,Ry].includes(p.key))return;p.stopPropagation(),p.preventDefault();const b=this._getChildren().filter(Q=>!_(Q));let V;if([Tp,Ry].includes(p.key))V=b[p.key===Tp?0:b.length-1];else{const Q=[Cy,Py].includes(p.key);V=I(b,p.target,Q,!0)}V&&(V.focus({preventScroll:!0}),So.getOrCreateInstance(V).show())}_getChildren(){return le.find(Ip,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,b){this._setAttributeIfNotExists(p,"role","tablist");for(const V of b)this._setInitialAttributesOnChild(V)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const b=this._elemIsActive(p),V=this._getOuterElement(p);p.setAttribute("aria-selected",b),V!==p&&this._setAttributeIfNotExists(V,"role","presentation"),b||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const b=le.getElementFromSelector(p);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,b){const V=this._getOuterElement(p);if(!V.classList.contains("dropdown"))return;const Q=(ne,ce)=>{const Le=le.findOne(ne,V);Le&&Le.classList.toggle(ce,b)};Q(Ny,To),Q(".dropdown-menu",Sp),V.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(p,b,V){p.hasAttribute(b)||p.setAttribute(b,V)}_elemIsActive(p){return p.classList.contains(To)}_getInnerElement(p){return p.matches(Ip)?p:le.findOne(Ip,p)}_getOuterElement(p){return p.closest(".nav-item, .list-group-item")||p}static jQueryInterface(p){return this.each(function(){const b=So.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}W.on(document,AA,Oy,function($){["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this)||So.getOrCreateInstance(this).show()}),W.on(window,CA,()=>{for(const $ of le.find(jA))So.getOrCreateInstance($)}),N(So);const bi=".bs.toast",NA=`mouseover${bi}`,OA=`mouseout${bi}`,DA=`focusin${bi}`,LA=`focusout${bi}`,MA=`hide${bi}`,VA=`hidden${bi}`,FA=`show${bi}`,$A=`shown${bi}`,Dy="hide",wd="show",bd="showing",UA={animation:"boolean",autohide:"boolean",delay:"number"},BA={animation:!0,autohide:!0,delay:5e3};class nu extends Dt{constructor(p,b){super(p,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return BA}static get DefaultType(){return UA}static get NAME(){return"toast"}show(){W.trigger(this._element,FA).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Dy),C(this._element),this._element.classList.add(wd,bd),this._queueCallback(()=>{this._element.classList.remove(bd),W.trigger(this._element,$A),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,MA).defaultPrevented||(this._element.classList.add(bd),this._queueCallback(()=>{this._element.classList.add(Dy),this._element.classList.remove(bd,wd),W.trigger(this._element,VA)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wd),super.dispose()}isShown(){return this._element.classList.contains(wd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,b){switch(p.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const V=p.relatedTarget;this._element===V||this._element.contains(V)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,NA,p=>this._onInteraction(p,!0)),W.on(this._element,OA,p=>this._onInteraction(p,!1)),W.on(this._element,DA,p=>this._onInteraction(p,!0)),W.on(this._element,LA,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const b=nu.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p](this)}})}}return rt(nu),N(nu),{Alert:Lt,Button:Ar,Carousel:ft,Collapse:Pe,Dropdown:Kn,Modal:Ge,Offcanvas:_r,Popover:v,ScrollSpy:Gt,Tab:So,Toast:nu,Tooltip:On}})})(lV);const XV=()=>f.jsx("header",{className:"header text-center border-bottom py-3",children:f.jsx("h1",{className:"fw-bold",children:f.jsx(Me,{to:"/",className:"text-dark",children:"   "})})});function Lb(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function _y(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Lb(e[r])&&Lb(t[r])&&Object.keys(e[r]).length>0&&_y(t[r],e[r])})}const N1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bs(){const t=typeof document<"u"?document:{};return _y(t,N1),t}const ZV={document:N1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Rn(){const t=typeof window<"u"?window:{};return _y(t,ZV),t}function eF(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function tF(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function O1(t,e=0){return setTimeout(t,e)}function ff(){return Date.now()}function nF(t){const e=Rn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function rF(t,e="x"){const n=Rn();let r,s,i;const o=nF(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Wd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function sF(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!sF(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const a=i[o],u=Object.getOwnPropertyDescriptor(s,a);u!==void 0&&u.enumerable&&(Wd(e[a])&&Wd(s[a])?s[a].__swiper__?e[a]=s[a]:Xn(e[a],s[a]):!Wd(e[a])&&Wd(s[a])?(e[a]={},s[a].__swiper__?e[a]=s[a]:Xn(e[a],s[a])):e[a]=s[a])}}}return e}function Sa(t,e,n){t.style.setProperty(e,n)}function D1({swiper:t,targetPosition:e,side:n}){const r=Rn(),s=-t.translate;let i=null,o;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const a=e>s?"next":"prev",u=(h,g)=>a==="next"&&h>=g||a==="prev"&&h<=g,d=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/l,1),0),g=.5-Math.cos(h*Math.PI)/2;let _=s+g*(e-s);if(u(_,e)&&(_=e),t.wrapperEl.scrollTo({[n]:_}),u(_,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:_})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function zs(t,e=""){const n=Rn(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function iF(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function oF(t,e){const n=Rn();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=iF(t,e))),r}function pf(t){try{console.warn(t);return}catch{}}function Jg(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:eF(e)),n}function aF(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function lF(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function $i(t,e){return Rn().getComputedStyle(t,null).getPropertyValue(e)}function Mb(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function uF(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function Vb(t,e,n){const r=Rn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Fb(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let fm;function cF(){const t=Rn(),e=bs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function L1(){return fm||(fm=cF()),fm}let pm;function dF({userAgent:t}={}){const e=L1(),n=Rn(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,a=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let _=r==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&_&&e.touch&&E.indexOf(`${o}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),_=!1),a&&!g&&(i.os="android",i.android=!0),(u||h||d)&&(i.os="ios",i.ios=!0),i}function M1(t={}){return pm||(pm=dF(t)),pm}let mm;function hF(){const t=Rn(),e=M1();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[a,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=a<16||a===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function V1(){return mm||(mm=hF()),mm}function fF({swiper:t,on:e,emit:n}){const r=Rn();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:h,height:g}=t;let _=h,E=g;d.forEach(({contentBoxSize:S,contentRect:C,target:x})=>{x&&x!==t.el||(_=C?C.width:(S[0]||S).inlineSize,E=C?C.height:(S[0]||S).blockSize)}),(_!==h||E!==g)&&o()})}),s.observe(t.el))},a=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",u)}),e("destroy",()=>{a(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",u)})}function pF({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Rn(),o=(u,d={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,g=new h(_=>{if(t.__preventObserver__)return;if(_.length===1){r("observerUpdate",_[0]);return}const E=function(){r("observerUpdate",_[0])};i.requestAnimationFrame?i.requestAnimationFrame(E):i.setTimeout(E,0)});g.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(g)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=uF(t.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},a=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",a)}var mF={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(l=>{l.apply(s,r)})}),e}};function gF(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt($i(r,"padding-left")||0,10)-parseInt($i(r,"padding-right")||0,10),n=n-parseInt($i(r,"padding-top")||0,10)-parseInt($i(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function _F(){const t=this;function e(A,j){return parseFloat(A.getPropertyValue(t.getDirectionLabel(j))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:o}=t,l=t.virtual&&n.virtual.enabled,a=l?t.virtual.slides.length:t.slides.length,u=zs(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let h=[];const g=[],_=[];let E=n.slidesOffsetBefore;typeof E=="function"&&(E=n.slidesOffsetBefore.call(t));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(t));const C=t.snapGrid.length,x=t.slidesGrid.length,w=t.size-E-S;let T=n.spaceBetween,N=-E,M=0,R=0;if(typeof w>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*w:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T-E-S,u.forEach(A=>{i?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Sa(r,"--swiper-centered-offset-before",""),Sa(r,"--swiper-centered-offset-after","")),n.cssMode&&(Sa(r,"--swiper-slides-offset-before",`${E}px`),Sa(r,"--swiper-slides-offset-after",`${S}px`));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let y;const k=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(A=>typeof n.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<d;A+=1){y=0;const j=u[A];if(!(j&&(I&&t.grid.updateSlide(A,j,u),$i(j,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(y=n.virtual.slidesPerViewAutoSlideSize),y&&j&&(n.roundLengths&&(y=Math.floor(y)),j.style[t.getDirectionLabel("width")]=`${y}px`);else if(n.slidesPerView==="auto"){k&&(j.style[t.getDirectionLabel("width")]="");const D=getComputedStyle(j),O=j.style.transform,ie=j.style.webkitTransform;if(O&&(j.style.transform="none"),ie&&(j.style.webkitTransform="none"),n.roundLengths)y=t.isHorizontal()?Vb(j,"width"):Vb(j,"height");else{const _e=e(D,"width"),ke=e(D,"padding-left"),ee=e(D,"padding-right"),z=e(D,"margin-left"),Y=e(D,"margin-right"),se=D.getPropertyValue("box-sizing");if(se&&se==="border-box")y=_e+z+Y;else{const{clientWidth:ve,offsetWidth:Te}=j;y=_e+ke+ee+z+Y+(Te-ve)}}O&&(j.style.transform=O),ie&&(j.style.webkitTransform=ie),n.roundLengths&&(y=Math.floor(y))}else y=(w-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(y=Math.floor(y)),j&&(j.style[t.getDirectionLabel("width")]=`${y}px`);j&&(j.swiperSlideSize=y),_.push(y),n.centeredSlides?(N=N+y/2+M/2+T,M===0&&A!==0&&(N=N-w/2-T),A===0&&(N=N-w/2-T),Math.abs(N)<1/1e3&&(N=0),n.roundLengths&&(N=Math.floor(N)),R%n.slidesPerGroup===0&&h.push(N),g.push(N)):(n.roundLengths&&(N=Math.floor(N)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&h.push(N),g.push(N),N=N+y+T),t.virtualSize+=y+T,M=y,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,w)+S,i&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),I&&t.grid.updateWrapperSize(y,h),!n.centeredSlides){const A=n.slidesPerView!=="auto"&&n.slidesPerView%1!==0,j=n.snapToSlideEdge&&!n.loop&&(n.slidesPerView==="auto"||A);let D=h.length;if(j){let ie;if(n.slidesPerView==="auto"){ie=1;let _e=0;for(let ke=_.length-1;ke>=0&&(_e+=_[ke]+(ke<_.length-1?T:0),_e<=w);ke-=1)ie=_.length-ke}else ie=Math.floor(n.slidesPerView);D=Math.max(d-ie,0)}const O=[];for(let ie=0;ie<h.length;ie+=1){let _e=h[ie];n.roundLengths&&(_e=Math.floor(_e)),j?ie<=D&&O.push(_e):h[ie]<=t.virtualSize-w&&O.push(_e)}h=O,Math.floor(t.virtualSize-w)-Math.floor(h[h.length-1])>1&&(j||h.push(t.virtualSize-w))}if(l&&n.loop){const A=_[0]+T;if(n.slidesPerGroup>1){const j=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=A*n.slidesPerGroup;for(let O=0;O<j;O+=1)h.push(h[h.length-1]+D)}for(let j=0;j<t.virtual.slidesBefore+t.virtual.slidesAfter;j+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+A),g.push(g[g.length-1]+A),t.virtualSize+=A}if(h.length===0&&(h=[0]),T!==0){const A=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((j,D)=>!n.cssMode||n.loop?!0:D!==u.length-1).forEach(j=>{j.style[A]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let A=0;_.forEach(D=>{A+=D+(T||0)}),A-=T;const j=A>w?A-w:0;h=h.map(D=>D<=0?-E:D>j?j+S:D)}if(n.centerInsufficientSlides){let A=0;_.forEach(D=>{A+=D+(T||0)}),A-=T;const j=(E||0)+(S||0);if(A+j<w){const D=(w-A-j)/2;h.forEach((O,ie)=>{h[ie]=O-D}),g.forEach((O,ie)=>{g[ie]=O+D})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:g,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Sa(r,"--swiper-centered-offset-before",`${-h[0]}px`),Sa(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const A=-t.snapGrid[0],j=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+A),t.slidesGrid=t.slidesGrid.map(D=>D+j)}if(d!==a&&t.emit("slidesLengthChange"),h.length!==C&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const A=`${n.containerModifierClass}backface-hidden`,j=t.el.classList.contains(A);d<=n.maxBackfaceHiddenSlides?j||t.el.classList.add(A):j&&t.el.classList.remove(A)}}function vF(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function yF(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const $b=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function wF(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let a=0;a<r.length;a+=1){const u=r[a];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),_=-(o-d),E=_+e.slidesSizesGrid[a],S=_>=0&&_<=e.size-e.slidesSizesGrid[a],C=_>=0&&_<e.size-1||E>1&&E<=e.size||_<=0&&E>=e.size;C&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(a)),$b(u,C,n.slideVisibleClass),$b(u,S,n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-g:g}}function bF(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const a=i,u=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,o=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[d],_=e.slidesGrid[h],E=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=g?l=(S-g)/E:l=(S+E-_)/E,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(a&&!i||u&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const gm=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function EF(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>zs(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let a,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),a=l(`[data-swiper-slide-index="${h}"]`)}else a=l(`[data-swiper-slide-index="${s}"]`);else o?(a=e.find(h=>h.column===s),d=e.find(h=>h.column===s+1),u=e.find(h=>h.column===s-1)):a=e[s];a&&(o||(d=lF(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=aF(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{gm(h,h===a,n.slideActiveClass),gm(h,h===d,n.slideNextClass),gm(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Eh=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&!s.lazyPreloaderManaged&&s.remove())})),s&&!s.lazyPreloaderManaged&&s.remove()}},_m=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Xg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((a,u)=>o+r+u)),t.slides.forEach((a,u)=>{l.includes(a.column)&&_m(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&_m(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&_m(t,o)};function TF(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function SF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let a=t,u;const d=_=>{let E=_-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof a>"u"&&(a=TF(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const _=Math.min(s.slidesPerGroupSkip,a);u=_+Math.floor((a-_)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),a===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(a===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(a);return}const h=e.grid&&s.grid&&s.grid.rows>1;let g;if(e.virtual&&s.virtual.enabled)s.loop?g=d(a):g=a;else if(h){const _=e.slides.find(S=>S.column===a);let E=parseInt(_.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(_),0)),g=Math.floor(E/s.grid.rows)}else if(e.slides[a]){const _=e.slides[a].getAttribute("data-swiper-slide-index");_?g=parseInt(_,10):g=a}else g=a;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:o,realIndex:g,previousIndex:i,activeIndex:a}),e.initialized&&Xg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function xF(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var IF={updateSize:gF,updateSlides:_F,updateAutoHeight:vF,updateSlidesOffset:yF,updateSlidesProgress:wF,updateProgress:bF,updateSlidesClasses:EF,updateActiveIndex:SF,updateClickedSlide:xF};function AF(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=rF(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function kF(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,a=0;const u=0;n.isHorizontal()?l=r?-t:t:a=t,s.roundLengths&&(l=Math.floor(l),a=Math.floor(a)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:a,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-a:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():a-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${a}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function CF(){return-this.snapGrid[0]}function PF(){return-this.snapGrid[this.snapGrid.length-1]}function RF(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const a=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>a?d=a:r&&t<u?d=u:d=t,i.updateProgress(d),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return D1({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(g){!i||i.destroyed||g.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var jF={getTranslate:AF,setTranslate:kF,minTranslate:CF,maxTranslate:PF,translateTo:RF};function NF(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function F1({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&o==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function OF(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),F1({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function DF(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),F1({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var LF={setTransition:NF,transitionStart:OF,transitionEnd:DF};function MF(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:a,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:g,wrapperEl:_,enabled:E}=i;if(!E&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const S=Math.min(i.params.slidesPerGroupSkip,o);let C=S+Math.floor((o-S)/i.params.slidesPerGroup);C>=a.length&&(C=a.length-1);const x=-a[C];if(l.normalizeSlideIndex)for(let I=0;I<u.length;I+=1){const y=-Math.floor(x*100),k=Math.floor(u[I]*100),A=Math.floor(u[I+1]*100);typeof u[I+1]<"u"?y>=k&&y<A-(A-k)/2?o=I:y>=k&&y<A&&(o=I+1):y>=k&&(o=I)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(g?x>i.translate&&x>i.minTranslate():x<i.translate&&x<i.minTranslate())||!i.allowSlidePrev&&x>i.translate&&x>i.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(x);let w;o>h?w="next":o<h?w="prev":w="reset";const T=i.virtual&&i.params.virtual.enabled;if(!(T&&s)&&(g&&-x===i.translate||!g&&x===i.translate))return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(x),w!=="reset"&&(i.transitionStart(n,w),i.transitionEnd(n,w)),!1;if(l.cssMode){const I=i.isHorizontal(),y=g?x:-x;if(e===0)T&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),T&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{_[I?"scrollLeft":"scrollTop"]=y})):_[I?"scrollLeft":"scrollTop"]=y,T&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return D1({swiper:i,targetPosition:y,side:I?"left":"top"}),!0;_.scrollTo({[I?"left":"top"]:y,behavior:"smooth"})}return!0}const R=V1().isSafari;return T&&!s&&R&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(x),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,w),e===0?i.transitionEnd(n,w):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(y){!i||i.destroyed||y.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,w))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function VF(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const S=o*s.params.grid.rows;l=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===S).column}else l=s.getSlideIndexByData(o);const a=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:h}=s.params,g=u||!!d||!!h;let _=s.params.slidesPerView;_==="auto"?_=s.slidesPerViewDynamic():(_=Math.ceil(parseFloat(s.params.slidesPerView,10)),g&&_%2===0&&(_=_+1));let E=a-l<_;if(g&&(E=E||l<Math.ceil(_/2)),r&&g&&s.params.slidesPerView!=="auto"&&!i&&(E=!1),E){const S=g?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:S,slideTo:!0,activeSlideIndex:S==="next"?l+1:l-a+1,slideRealIndex:S==="next"?s.realIndex:void 0})}if(i){const S=o*s.params.grid.rows;o=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===S).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function FF(t,e=!0,n){const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const a=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+a,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+a,t,e,n)}function $F(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:a,animating:u}=r;if(!a||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function g(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const _=g(h),E=i.map(w=>g(w)),S=s.freeMode&&s.freeMode.enabled;let C=i[E.indexOf(_)-1];if(typeof C>"u"&&(s.cssMode||S)){let w;i.forEach((T,N)=>{_>=T&&(w=N)}),typeof w<"u"&&(C=S?i[w]:i[w>0?w-1:w])}let x=0;if(typeof C<"u"&&(x=o.indexOf(C),x<0&&(x=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(x=x-r.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),s.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(x,t,e,n)}),!0;return r.slideTo(x,t,e,n)}function UF(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function BF(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),a=s.rtlTranslate?s.translate:-s.translate;if(a>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];a-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];a-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function zF(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(zs(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),O1(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var qF={slideTo:MF,slideToLoop:VF,slideNext:FF,slidePrev:$F,slideReset:UF,slideToClosest:BF,slideToClickedSlide:zF};function HF(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{zs(s,`.${r.slideClass}, swiper-slide`).forEach((E,S)=>{E.setAttribute("data-swiper-slide-index",S)})},o=()=>{const _=zs(s,`.${r.slideBlankClass}`);_.forEach(E=>{E.remove()}),_.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&o();const a=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%a!==0,d=l&&n.slides.length%r.grid.rows!==0,h=_=>{for(let E=0;E<_;E+=1){const S=n.isElement?Jg("swiper-slide",[r.slideBlankClass]):Jg("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(S)}};if(u){if(r.loopAddBlankSlides){const _=a-n.slides.length%a;h(_),n.recalcSlides(),n.updateSlides()}else pf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const _=r.grid.rows-n.slides.length%r.grid.rows;h(_),n.recalcSlides(),n.updateSlides()}else pf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const g=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:g?void 0:"next",initial:e})}function WF({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:o,byMousewheel:l}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:g,params:_}=a,{centeredSlides:E,slidesOffsetBefore:S,slidesOffsetAfter:C,initialSlide:x}=_,w=E||!!S||!!C;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&_.virtual.enabled){e&&(!w&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):w&&a.snapIndex<_.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=d,a.allowSlideNext=h,a.emit("loopFix");return}let T=_.slidesPerView;T==="auto"?T=a.slidesPerViewDynamic():(T=Math.ceil(parseFloat(_.slidesPerView,10)),w&&T%2===0&&(T=T+1));const N=_.slidesPerGroupAuto?T:_.slidesPerGroup;let M=w?Math.max(N,Math.ceil(T/2)):N;M%N!==0&&(M+=N-M%N),M+=_.loopAdditionalSlides,a.loopedSlides=M;const R=a.grid&&_.grid&&_.grid.rows>1;u.length<T+M||a.params.effect==="cards"&&u.length<T+M*2?pf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&_.grid.fill==="row"&&pf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],y=[],k=R?Math.ceil(u.length/_.grid.rows):u.length,A=i&&k-x<T&&!w;let j=A?x:a.activeIndex;typeof s>"u"?s=a.getSlideIndex(u.find(z=>z.classList.contains(_.slideActiveClass))):j=s;const D=n==="next"||!n,O=n==="prev"||!n;let ie=0,_e=0;const ee=(R?u[s].column:s)+(w&&typeof r>"u"?-T/2+.5:0);if(ee<M){ie=Math.max(M-ee,N);for(let z=0;z<M-ee;z+=1){const Y=z-Math.floor(z/k)*k;if(R){const se=k-Y-1;for(let ve=u.length-1;ve>=0;ve-=1)u[ve].column===se&&I.push(ve)}else I.push(k-Y-1)}}else if(ee+T>k-M){_e=Math.max(ee-(k-M*2),N),A&&(_e=Math.max(_e,T-k+x+1));for(let z=0;z<_e;z+=1){const Y=z-Math.floor(z/k)*k;R?u.forEach((se,ve)=>{se.column===Y&&y.push(ve)}):y.push(Y)}}if(a.__preventObserver__=!0,requestAnimationFrame(()=>{a.__preventObserver__=!1}),a.params.effect==="cards"&&u.length<T+M*2&&(y.includes(s)&&y.splice(y.indexOf(s),1),I.includes(s)&&I.splice(I.indexOf(s),1)),O&&I.forEach(z=>{u[z].swiperLoopMoveDOM=!0,g.prepend(u[z]),u[z].swiperLoopMoveDOM=!1}),D&&y.forEach(z=>{u[z].swiperLoopMoveDOM=!0,g.append(u[z]),u[z].swiperLoopMoveDOM=!1}),a.recalcSlides(),_.slidesPerView==="auto"?a.updateSlides():R&&(I.length>0&&O||y.length>0&&D)&&a.slides.forEach((z,Y)=>{a.grid.updateSlide(Y,z,a.slides)}),_.watchSlidesProgress&&a.updateSlidesOffset(),e){if(I.length>0&&O){if(typeof t>"u"){const z=a.slidesGrid[j],se=a.slidesGrid[j+ie]-z;l?a.setTranslate(a.translate-se):(a.slideTo(j+Math.ceil(ie),0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-se,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-se))}else if(r){const z=R?I.length/_.grid.rows:I.length;a.slideTo(a.activeIndex+z,0,!1,!0),a.touchEventsData.currentTranslate=a.translate}}else if(y.length>0&&D)if(typeof t>"u"){const z=a.slidesGrid[j],se=a.slidesGrid[j-_e]-z;l?a.setTranslate(a.translate-se):(a.slideTo(j-_e,0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-se,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-se))}else{const z=R?y.length/_.grid.rows:y.length;a.slideTo(a.activeIndex-z,0,!1,!0)}}if(a.allowSlidePrev=d,a.allowSlideNext=h,a.controller&&a.controller.control&&!o){const z={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(Y=>{!Y.destroyed&&Y.params.loop&&Y.loopFix({...z,slideTo:Y.params.slidesPerView===_.slidesPerView?e:!1})}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix({...z,slideTo:a.controller.control.params.slidesPerView===_.slidesPerView?e:!1})}a.emit("loopFix")}function GF(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var KF={loopCreate:HF,loopFix:WF,loopDestroy:GF};function QF(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function YF(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var JF={setGrabCursor:QF,unsetGrabCursor:YF};function XF(t,e=this){function n(r){if(!r||r===bs()||r===Rn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function Ub(t,e,n){const r=Rn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function ZF(t){const e=this,n=bs();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Ub(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let a=r.target;if(i.touchEventsTarget==="wrapper"&&!oF(a,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(a=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(g?XF(h,a):a.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!a.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const _=o.currentX,E=o.currentY;if(!Ub(e,r,_))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=E,s.touchStartTime=ff(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let S=!0;a.matches(s.focusableElements)&&(S=!1,a.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==a&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!a.matches(s.focusableElements))&&n.activeElement.blur();const C=S&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||C)&&!a.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function e$(t){const e=bs(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let a=t;if(a.originalEvent&&(a=a.originalEvent),a.type==="pointermove"&&(r.touchId!==null||a.pointerId!==r.pointerId))return;let u;if(a.type==="touchmove"){if(u=[...a.changedTouches].find(R=>R.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=a;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",a);return}const d=u.pageX,h=u.pageY;if(a.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){a.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=ff());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==a.target&&a.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&a.target===e.activeElement&&a.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",a),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const g=i.currentX-i.startX,_=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(g**2+_**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let R;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:g*g+_*_>=25&&(R=Math.atan2(Math.abs(_),Math.abs(g))*180/Math.PI,r.isScrolling=n.isHorizontal()?R>s.touchAngle:90-R>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",a),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||a.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&a.cancelable&&a.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&a.stopPropagation();let E=n.isHorizontal()?g:_,S=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(E=Math.abs(E)*(o?1:-1),S=Math.abs(S)*(o?1:-1)),i.diff=E,E*=s.touchRatio,o&&(E=-E,S=-S);const C=n.touchesDirection;n.swipeDirection=E>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const x=n.params.loop&&!s.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(x&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const R=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(R)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",a)}let T;if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&C!==n.touchesDirection&&x&&w&&Math.abs(E)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",a),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let N=!0,M=s.resistanceRatio;if(s.touchReleaseOnEdges&&(M=0),E>0?(x&&w&&!T&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+E)**M))):E<0&&(x&&w&&!T&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-E)**M))),N&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function t$(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(M=>M.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:a,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=ff(),g=h-n.touchStartTime;if(e.allowClick){const M=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(M&&M[0]||r.target,M),e.emit("tap click",r),g<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=ff(),O1(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(o.followFinger?_=a?e.translate:-e.translate:_=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}const E=_>=-e.maxTranslate()&&!e.params.loop;let S=0,C=e.slidesSizesGrid[0];for(let M=0;M<u.length;M+=M<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=M<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[M+R]<"u"?(E||_>=u[M]&&_<u[M+R])&&(S=M,C=u[M+R]-u[M]):(E||_>=u[M])&&(S=M,C=u[u.length-1]-u[u.length-2])}let x=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(x=0));const T=(_-u[S])/C,N=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?x:S+N):e.slideTo(S)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(S+N):w!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(w):e.slideTo(S))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(S+N):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(x!==null?x:S+N),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:S))}}function Bb(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function n$(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function r$(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function s$(t){const e=this;Eh(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function i$(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const $1=(t,e)=>{const n=bs(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,a=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[a]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[a]("touchstart",t.onTouchStart,{passive:!1}),s[a]("pointerdown",t.onTouchStart,{passive:!1}),n[a]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[a]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[a]("touchend",t.onTouchEnd,{passive:!0}),n[a]("pointerup",t.onTouchEnd,{passive:!0}),n[a]("pointercancel",t.onTouchEnd,{passive:!0}),n[a]("touchcancel",t.onTouchEnd,{passive:!0}),n[a]("pointerout",t.onTouchEnd,{passive:!0}),n[a]("pointerleave",t.onTouchEnd,{passive:!0}),n[a]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[a]("click",t.onClick,!0),r.cssMode&&i[a]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Bb,!0):t[u]("observerUpdate",Bb,!0),s[a]("load",t.onLoad,{capture:!0}))};function o$(){const t=this,{params:e}=t;t.onTouchStart=ZF.bind(t),t.onTouchMove=e$.bind(t),t.onTouchEnd=t$.bind(t),t.onDocumentTouchStart=i$.bind(t),e.cssMode&&(t.onScroll=r$.bind(t)),t.onClick=n$.bind(t),t.onLoad=s$.bind(t),$1(t,"on")}function a$(){$1(this,"off")}var l$={attachEvents:o$,detachEvents:a$};const zb=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function u$(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=bs(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",a=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,l,a);if(!u||t.currentBreakpoint===u)return;const h=(u in i?i[u]:void 0)||t.originalParams,g=zb(t,r),_=zb(t,h),E=t.params.grabCursor,S=h.grabCursor,C=r.enabled;g&&!_?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!g&&_&&(s.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),E&&!S?t.unsetGrabCursor():!E&&S&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof h[R]>"u")return;const I=r[R]&&r[R].enabled,y=h[R]&&h[R].enabled;I&&!y&&t[R].disable(),!I&&y&&t[R].enable()});const x=h.direction&&h.direction!==r.direction,w=r.loop&&(h.slidesPerView!==r.slidesPerView||x),T=r.loop;x&&n&&t.changeDirection(),Xn(t.params,h);const N=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!N?t.disable():!C&&N&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&M?(t.loopCreate(e),t.updateSlides()):T&&!M&&t.loopDestroy()),t.emit("breakpoint",h)}function c$(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Rn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const a=parseFloat(l.substr(1));return{value:i*a,point:l}}return{value:l,point:l}});o.sort((l,a)=>parseInt(l.value,10)-parseInt(a.value,10));for(let l=0;l<o.length;l+=1){const{point:a,value:u}=o[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=a):u<=n.clientWidth&&(r=a)}return r||"max"}var d$={setBreakpoint:u$,getBreakpoint:c$};function h$(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function f$(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=h$(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function p$(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var m$={addClasses:f$,removeClasses:p$};function g$(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var _$={checkOverflow:g$},Zg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function v$(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Xn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Xn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Xn(e,r)}}const vm={eventsEmitter:mF,update:IF,translate:jF,transition:LF,slide:qF,loop:KF,grabCursor:JF,events:l$,breakpoints:d$,checkOverflow:_$,classes:m$},ym={};let vy=class Ns{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Xn({},r),n&&!r.el&&(r.el=n);const s=bs();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const a=[];return s.querySelectorAll(r.el).forEach(u=>{const d=Xn({},r,{el:u});a.push(new Ns(d))}),a}const i=this;i.__swiper__=!0,i.support=L1(),i.device=M1({userAgent:r.userAgent}),i.browser=V1(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const o={};i.modules.forEach(a=>{a({params:r,swiper:i,extendParams:v$(r,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Xn({},Zg,o);return i.params=Xn({},l,ym,r),i.originalParams=Xn({},i.params),i.passedParams=Xn({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(a=>{i.on(a,i.params.on[a])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=zs(n,`.${r.slideClass}, swiper-slide`),i=Mb(s[0]);return Mb(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=zs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:a,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,g;for(let _=u+1;_<i.length;_+=1)i[_]&&!g&&(h+=Math.ceil(i[_].swiperSlideSize),d+=1,h>a&&(g=!0));for(let _=u-1;_>=0;_-=1)i[_]&&!g&&(h+=i[_].swiperSlideSize,d+=1,h>a&&(g=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?o[h]+l[h]-o[u]<a:o[h]-o[u]<a)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<a&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Eh(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):zs(r,s())[0];return!o&&n.params.createElements&&(o=Jg("div",n.params.wrapperClass),r.append(o),zs(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||$i(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||$i(r,"direction")==="rtl"),wrongRTL:$i(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Eh(n,i):i.addEventListener("load",o=>{Eh(n,o.target)})}),Xg(n),n.initialized=!0,Xg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(a=>{a.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),a.removeAttribute("style"),a.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(a=>{r.off(a)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),tF(r)),r.destroyed=!0),null}static extendDefaults(e){Xn(ym,e)}static get extendedDefaults(){return ym}static get defaults(){return Zg}static installModule(e){Ns.prototype.__modules__||(Ns.prototype.__modules__=[]);const n=Ns.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ns.installModule(n)),Ns):(Ns.installModule(e),Ns)}};Object.keys(vm).forEach(t=>{Object.keys(vm[t]).forEach(e=>{vy.prototype[e]=vm[t][e]})});vy.use([fF,pF]);const U1=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ia(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function sl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ia(e[r])&&ia(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:sl(t[r],e[r]):t[r]=e[r]})}function B1(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function z1(t={}){return t.pagination&&typeof t.pagination.el>"u"}function q1(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function H1(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function y$(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function w$({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:l}){const a=r.filter(y=>y!=="children"&&y!=="direction"&&y!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:g,virtual:_,thumbs:E}=t;let S,C,x,w,T,N,M,R;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(S=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(C=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(x=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&g&&!g.el&&(w=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(T=!0);const I=y=>{t[y]&&(t[y].destroy(),y==="navigation"?(t.isElement&&(t[y].prevEl.remove(),t[y].nextEl.remove()),u[y].prevEl=void 0,u[y].nextEl=void 0,t[y].prevEl=void 0,t[y].nextEl=void 0):(t.isElement&&t[y].el.remove(),u[y].el=void 0,t[y].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?N=!0:!u.loop&&n.loop?M=!0:R=!0),a.forEach(y=>{if(ia(u[y])&&ia(n[y]))Object.assign(u[y],n[y]),(y==="navigation"||y==="pagination"||y==="scrollbar")&&"enabled"in n[y]&&!n[y].enabled&&I(y);else{const k=n[y];(k===!0||k===!1)&&(y==="navigation"||y==="pagination"||y==="scrollbar")?k===!1&&I(y):u[y]=n[y]}}),a.includes("controller")&&!C&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&_&&u.virtual.enabled?(_.slides=e,_.update(!0)):r.includes("virtual")&&_&&u.virtual.enabled&&(e&&(_.slides=e),_.update(!0)),r.includes("children")&&e&&u.loop&&(R=!0),S&&E.init()&&E.update(!0),C&&(t.controller.control=u.controller.control),x&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),w&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(u.scrollbar.el=o),g.init(),g.updateSize(),g.setTranslate()),T&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Fb(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Fb(i,t.navigation.arrowSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(N||R)&&t.loopDestroy(),(M||R)&&t.loopCreate(),t.update()}function b$(t={},e=!0){const n={on:{}},r={},s={};sl(n,Zg),n._emitClasses=!0,n.init=!1;const i={},o=U1.map(a=>a.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(a=>{typeof t[a]>"u"||(o.indexOf(a)>=0?ia(t[a])?(n[a]={},s[a]={},sl(n[a],t[a]),sl(s[a],t[a])):(n[a]=t[a],s[a]=t[a]):a.search(/on[A-Z]/)===0&&typeof t[a]=="function"?e?r[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:i[a]=t[a])}),["navigation","pagination","scrollbar"].forEach(a=>{n[a]===!0&&(n[a]={}),n[a]===!1&&delete n[a]}),{params:n,passedParams:s,rest:i,events:r}}function E$({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){B1(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),z1(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),q1(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function T$(t,e,n,r,s){const i=[];if(!e)return i;const o=a=>{i.indexOf(a)<0&&i.push(a)};if(n&&r){const a=r.map(s),u=n.map(s);a.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return U1.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in t&&a in e)if(ia(t[a])&&ia(e[a])){const u=Object.keys(t[a]),d=Object.keys(e[a]);u.length!==d.length?o(a):(u.forEach(h=>{t[a][h]!==e[a][h]&&o(a)}),d.forEach(h=>{t[a][h]!==e[a][h]&&o(a)}))}else t[a]!==e[a]&&o(a)}),i}const S$=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function W1(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function G1(t){const e=[];return Pt.Children.toArray(t).forEach(n=>{W1(n)?e.push(n):n.props&&n.props.children&&G1(n.props.children).forEach(r=>e.push(r))}),e}function x$(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pt.Children.toArray(t).forEach(r=>{if(W1(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=G1(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function I$(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,a=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<a;d+=1)d>=i&&d<=o&&u.push(e[r(d)]);return u.map((d,h)=>Pt.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function Hu(t,e){return typeof window>"u"?L.useEffect(t,e):L.useLayoutEffect(t,e)}const qb=L.createContext(null),A$=L.createContext(null),K1=L.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},o)=>{let l=!1;const[a,u]=L.useState("swiper"),[d,h]=L.useState(null),[g,_]=L.useState(!1),E=L.useRef(!1),S=L.useRef(null),C=L.useRef(null),x=L.useRef(null),w=L.useRef(null),T=L.useRef(null),N=L.useRef(null),M=L.useRef(null),R=L.useRef(null),{params:I,passedParams:y,rest:k,events:A}=b$(i),{slides:j,slots:D}=x$(r),O=()=>{_(!g)};Object.assign(I.on,{_containerClasses(z,Y){u(Y)}});const ie=()=>{Object.assign(I.on,A),l=!0;const z={...I};if(delete z.wrapperClass,C.current=new vy(z),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=j;const Y={cache:!1,slides:j,renderExternal:h,renderExternalUpdate:!1};sl(C.current.params.virtual,Y),sl(C.current.originalParams.virtual,Y)}};S.current||ie(),C.current&&C.current.on("_beforeBreakpoint",O);const _e=()=>{l||!A||!C.current||Object.keys(A).forEach(z=>{C.current.on(z,A[z])})},ke=()=>{!A||!C.current||Object.keys(A).forEach(z=>{C.current.off(z,A[z])})};L.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",O)}),L.useEffect(()=>{!E.current&&C.current&&(C.current.emitSlidesClasses(),E.current=!0)}),Hu(()=>{if(o&&(o.current=S.current),!!S.current)return C.current.destroyed&&ie(),E$({el:S.current,nextEl:T.current,prevEl:N.current,paginationEl:M.current,scrollbarEl:R.current,swiper:C.current},I),s&&!C.current.destroyed&&s(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),Hu(()=>{_e();const z=T$(y,x.current,j,w.current,Y=>Y.key);return x.current=y,w.current=j,z.length&&C.current&&!C.current.destroyed&&w$({swiper:C.current,slides:j,passedParams:y,changedParams:z,nextEl:T.current,prevEl:N.current,scrollbarEl:R.current,paginationEl:M.current}),()=>{ke()}}),Hu(()=>{S$(C.current)},[d]);function ee(){return I.virtual?I$(C.current,j,d):j.map((z,Y)=>Pt.cloneElement(z,{swiper:C.current,swiperSlideIndex:Y}))}return Pt.createElement(e,mf({ref:S,className:H1(`${a}${t?` ${t}`:""}`)},k),Pt.createElement(A$.Provider,{value:C.current},D["container-start"],Pt.createElement(n,{className:y$(I.wrapperClass)},D["wrapper-start"],ee(),D["wrapper-end"]),B1(I)&&Pt.createElement(Pt.Fragment,null,Pt.createElement("div",{ref:N,className:"swiper-button-prev"}),Pt.createElement("div",{ref:T,className:"swiper-button-next"})),q1(I)&&Pt.createElement("div",{ref:R,className:"swiper-scrollbar"}),z1(I)&&Pt.createElement("div",{ref:M,className:"swiper-pagination"}),D["container-end"]))});K1.displayName="Swiper";const Q1=L.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:o,swiperSlideIndex:l,...a}={},u)=>{const d=L.useRef(null),[h,g]=L.useState("swiper-slide"),[_,E]=L.useState(!1);function S(T,N,M){N===d.current&&g(M)}Hu(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){h!=="swiper-slide"&&g("swiper-slide");return}return r.on("_slideClass",S),()=>{r&&r.off("_slideClass",S)}}}),Hu(()=>{r&&d.current&&!r.destroyed&&g(r.getSlideClasses(d.current))},[r]);const C={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof e=="function"?e(C):e,w=()=>{E(!0)};return Pt.createElement(t,mf({ref:d,className:H1(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":o,onLoad:w},a),s&&Pt.createElement(qb.Provider,{value:C},Pt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},x(),i&&!_&&Pt.createElement("div",{className:"swiper-lazy-preloader",ref:T=>{T&&(T.lazyPreloaderManaged=!0)}}))),!s&&Pt.createElement(qb.Provider,{value:C},x(),i&&!_&&Pt.createElement("div",{className:"swiper-lazy-preloader",ref:T=>{T&&(T.lazyPreloaderManaged=!0)}})))});Q1.displayName="SwiperSlide";function k$({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,o,l=s&&s.autoplay?s.autoplay.delay:3e3,a=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),h,g,_,E,S,C;function x(ee){!t||t.destroyed||!t.wrapperEl||ee.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",x),!(C||ee.detail&&ee.detail.bySwiperTouchMove)&&k())}const w=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(a=u,h=!1);const ee=t.autoplay.paused?u:d+a-new Date().getTime();t.autoplay.timeLeft=ee,r("autoplayTimeLeft",ee,ee/l),o=requestAnimationFrame(()=>{w()})},T=()=>{let ee;return t.virtual&&t.params.virtual.enabled?ee=t.slides.find(Y=>Y.classList.contains("swiper-slide-active")):ee=t.slides[t.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},N=()=>{let ee=t.params.autoplay.delay;const z=T();return!Number.isNaN(z)&&z>0&&(ee=z),ee},M=ee=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(o),w();let z=ee;typeof z>"u"&&(z=N(),l=z,a=z),u=z;const Y=t.params.speed,se=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Y,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Y,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Y,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Y,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return z>0?(clearTimeout(i),i=setTimeout(()=>{se()},z)):requestAnimationFrame(()=>{se()}),z},R=()=>{d=new Date().getTime(),t.autoplay.running=!0,M(),r("autoplayStart")},I=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(o),r("autoplayStop")},y=(ee,z)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),ee||(S=!0);const Y=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",x):k()};if(t.autoplay.paused=!0,z){Y();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),Y())},k=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),S?(S=!1,M(u)):M(),t.autoplay.paused=!1,r("autoplayResume"))},A=()=>{if(t.destroyed||!t.autoplay.running)return;const ee=bs();ee.visibilityState==="hidden"&&(S=!0,y(!0)),ee.visibilityState==="visible"&&k()},j=ee=>{ee.pointerType==="mouse"&&(S=!0,C=!0,!(t.animating||t.autoplay.paused)&&y(!0))},D=ee=>{ee.pointerType==="mouse"&&(C=!1,t.autoplay.paused&&k())},O=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",j),t.el.addEventListener("pointerleave",D))},ie=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",j),t.el.removeEventListener("pointerleave",D))},_e=()=>{bs().addEventListener("visibilitychange",A)},ke=()=>{bs().removeEventListener("visibilitychange",A)};n("init",()=>{t.params.autoplay.enabled&&(O(),_e(),R())}),n("destroy",()=>{ie(),ke(),t.autoplay.running&&I()}),n("_freeModeStaticRelease",()=>{(_||S)&&k()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?I():y(!0,!0)}),n("beforeTransitionStart",(ee,z,Y)=>{t.destroyed||!t.autoplay.running||(Y||!t.params.autoplay.disableOnInteraction?y(!0,!0):I())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){I();return}g=!0,_=!1,S=!1,E=setTimeout(()=>{S=!0,_=!0,y(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(E),clearTimeout(i),t.params.autoplay.disableOnInteraction){_=!1,g=!1;return}_&&t.params.cssMode&&k(),_=!1,g=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||t.autoplay.paused&&(u=N(),l=N())}),Object.assign(t.autoplay,{start:R,stop:I,pause:y,resume:k})}const C$=["           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       ."],P$=()=>f.jsx("div",{className:"bg-dark py-3 border-top",children:f.jsx(K1,{slidesPerView:"auto",spaceBetween:50,loop:!0,speed:5e3,allowTouchMove:!1,autoplay:{delay:0,disableOnInteraction:!1},modules:[k$],style:{transitionTimingFunction:"linear"},children:C$.map((t,e)=>f.jsx(f.Fragment,{children:f.jsxs(Q1,{className:"w-auto d-flex align-items-center gap-5 whitespace-nowrap",children:[f.jsx("p",{className:"m-0 text-white",children:t}),"||||||"]},e)}))})}),R$=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"subheader bg-dark text-light fs-6",style:{padding:"11px 0"},children:f.jsxs("div",{className:"container-xl text-center",children:["  : ",f.jsx("a",{href:"https://t.me/darelom_students",children:" ."})]})}),f.jsx(P$,{}),f.jsx("div",{className:"subheader text-center py-3 bg-dark border-top text-light fs-6",style:{padding:"11px 0"},children:f.jsx("a",{href:"https://darelom-students.netlify.app",children:"      - 2026."})})]}),j$=()=>f.jsx("footer",{className:"footer bg-black py-4",children:f.jsxs("div",{className:"container text-center text-light",children:[f.jsxs("div",{className:"d-flex flex-wrap gap-4 gap-sm-5",children:[f.jsxs(gu,{title:" ",children:[f.jsxs(Ne,{children:[f.jsx("span",{children:"  : "}),f.jsx(Me,{to:"/send_problem",children:"  "}),"."]}),f.jsxs(Ne,{children:[f.jsx("span",{children:" : "}),f.jsx(Me,{to:"/send_suggestion",children:"  "}),"."]}),f.jsxs(Ne,{children:[f.jsx("span",{children:" : "}),f.jsx("a",{href:"https://t.me/darelom_students",children:" "}),"."]}),f.jsx(Ne,{children:f.jsx("a",{href:"https://github.com/iabdwahab/darelom-students",children:"   GitHub."})})]}),f.jsxs(gu,{title:"  ",children:[f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_1/2023_24",children:"  / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_2/2023_24",children:"  / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_3/2023_24",children:"  / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_4/2023_24",children:"  / 2024."})}),f.jsx("hr",{}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_1/2024_25",children:"  / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_2/2024_25",children:"  / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_3/2024_25",children:"  / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/degrees/grade_4/2024_25",children:"  / 2025."})})]}),f.jsxs(gu,{title:"  ",children:[f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_1/term_1/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_1/term_2/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_1/term_1/2025",children:"  /   / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_1/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_2/term_1/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_2/term_2/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_2/term_1/2025",children:"  /   / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_2/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_3/term_1/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_3/term_2/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_3/term_1/2025",children:"  /   / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_3/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_4/term_1/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_4/term_2/2024",children:"  /   / 2024."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_4/term_1/2025",children:"  /   / 2025."})}),f.jsx(Ne,{children:f.jsx(Me,{to:"/ranking/grade_4/term_2/2025",children:"  /   / 2025."})})]}),f.jsxs("div",{children:[f.jsxs(gu,{title:"  ",className:"mb-4",children:[f.jsx(Ne,{children:f.jsx("a",{href:"http://t.me/iabdwahab",children:"Telegram."})}),f.jsx(Ne,{children:f.jsx("a",{href:"https://www.linkedin.com/in/iabdwahab/",children:"LinkedIn."})}),f.jsx(Ne,{children:f.jsx("a",{href:"https://github.com/iabdwahab",children:"GitHub."})})]}),f.jsxs(gu,{title:"  ",children:[f.jsxs(Ne,{children:[f.jsx("a",{href:"https://mothalthagency.com",children:"  ."}),f.jsx(Ne,{children:f.jsx("a",{href:"https://thecapital.sa",children:'  " ".'})})]}),f.jsx(Ne,{children:f.jsx("a",{href:"https://iabdwahab.github.io/assembly-endgame/",children:"Assembly Endgame."})}),f.jsx(Ne,{children:f.jsx("a",{href:"https://iabdwahab.github.io/positivus-agency",children:"Positivus Agency."})}),f.jsx(Ne,{children:f.jsx("a",{href:"https://world-ranks-iabdwahab.vercel.app",children:"World Ranks."})})]})]})]}),f.jsx("hr",{}),f.jsxs("p",{className:"m-0",children:[f.jsx("span",{children:"   : "}),f.jsx("span",{className:"text-warning",children:"  153."})]})]})});function gu({title:t,children:e,className:n}){return f.jsxs("div",{className:`text-end ${n}`,children:[f.jsxs("h4",{className:"mb-3",children:[t,":"]}),e]})}function Ne({children:t}){return f.jsxs("p",{className:"m-0",children:["- ",t]})}const N$=()=>{const{pathname:t}=ur();L.useEffect(()=>{window.scrollTo(0,0)},[t])},O$=()=>{const[t,e]=L.useState(localStorage.getItem("theme")||"light");function n(){document.documentElement.getAttribute("data-bs-theme")==="dark"?(document.documentElement.setAttribute("data-bs-theme","light"),localStorage.setItem("theme","light"),e("light")):(document.documentElement.setAttribute("data-bs-theme","dark"),localStorage.setItem("theme","dark"),e("dark"))}return f.jsx("button",{className:"btn btn-primary w-100 mt-2 p-2",onClick:n,children:t==="light"?"  []":"  [ ]"})},D$=()=>f.jsx("div",{className:"border-bottom",children:f.jsx("div",{className:"container-xl py-3",children:f.jsx(O$,{})})}),Nt=({hasText:t=!0})=>f.jsxs("div",{className:"d-block text-center py-4",children:[f.jsx("div",{className:"spinner-border text-primary",role:"status",children:f.jsx("span",{className:"sr-only d-none",children:"..."})}),t?f.jsx("p",{className:"fw-bold fs-5 mt-2",children:"  ."}):""]}),wm="https://darelom-students.netlify.app",bm="warningModalDismissed",L$=`
@keyframes pulseRing {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}
@keyframes pulseRing2 {
  0% {
    transform: scale(1);
    opacity: 0.7;
  }
  100% {
    transform: scale(2.2);
    opacity: 0;
  }
}
`;function M$(){const[t,e]=L.useState(()=>!sessionStorage.getItem(bm)),n=()=>{sessionStorage.setItem(bm,"true"),e(!1)},r=()=>{sessionStorage.setItem(bm,"true"),window.location.href=wm};return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:L$}),!t&&f.jsxs("div",{style:{position:"fixed",bottom:"1.25rem",right:"1.25rem",width:"54px",height:"54px",zIndex:1055},children:[f.jsx("span",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"3px solid rgba(220, 53, 69, 0.6)",animation:"pulseRing 1.5s ease-out infinite"}}),f.jsx("span",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"3px solid rgba(220, 53, 69, 0.4)",animation:"pulseRing2 1.5s ease-out 0.4s infinite"}}),f.jsx("button",{onClick:()=>e(!0),className:"btn btn-danger rounded-circle shadow d-flex align-items-center justify-content-center",style:{position:"relative",width:"54px",height:"54px",fontSize:"1.5rem",lineHeight:1,paddingTop:"2px",zIndex:1},title:"  ",children:""})]}),t&&f.jsx("div",{className:"modal d-block bg-black bg-opacity-75",tabIndex:-1,style:{zIndex:1060},children:f.jsx("div",{className:"modal-dialog modal-dialog-centered",children:f.jsxs("div",{className:"modal-content border-danger border-2",dir:"rtl",children:[f.jsx("div",{className:"modal-header bg-danger bg-opacity-10 border-danger",children:f.jsx("h5",{className:"modal-title text-center w-100 text-danger fw-bold",children:"  "})}),f.jsxs("div",{className:"modal-body text-center py-4",children:[f.jsx("p",{className:"fw-bold mb-3",style:{fontSize:"1.1rem"},children:"       -  -."}),f.jsx("p",{className:"mb-3",children:"              :"}),f.jsx("a",{href:wm,className:"d-inline-block bg-light rounded px-3 py-2 fw-bold text-primary",style:{fontSize:"1.05rem",wordBreak:"break-all"},children:wm}),f.jsx("p",{className:"mt-4 text-danger",children:"   :    2025."})]}),f.jsxs("div",{className:"modal-footer border-0 pt-0 d-flex justify-content-center gap-2",children:[f.jsx("button",{className:"btn btn-primary fw-bold px-4",onClick:n,children:" "}),f.jsx("button",{className:"btn btn-success fw-bold px-4",onClick:r,children:"  "})]})]})})})]})}const V$=()=>{const[t,e]=L.useState(!0);return L.useEffect(()=>{lx(Zf,()=>{e(!1)})},[]),f.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[f.jsx(M$,{}),f.jsx(XV,{}),f.jsx(R$,{}),f.jsx(D$,{}),f.jsx("div",{className:"container-xl flex-grow-1 py-3",children:f.jsx("div",{children:t?f.jsx(Nt,{}):f.jsx(MM,{})})}),f.jsx(j$,{}),f.jsx(N$,{})]})},F$=({currentStepIndex:t,setCurrentStepIndex:e,selections:n,setSelections:r})=>{function s(){t>0&&(e(t-1),r(n.slice(0,n.length-1)))}const i=t===0;return f.jsx("button",{className:`btn btn-danger ${i?"d-none":"d-block"}`,onClick:s,children:""})},$$=({option:t,stepsList:e,currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})=>{const o=bt();function l(){if(t.option_data==="test_yourself")return o("/test_yourself");n<e.length-1&&t.will_next?(r(n+1),i([...s,t.option_data])):o(`${s.join("/")}/${t.option_data}`)}const a=`${t.option_text}`;return f.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:l,children:a})},U$=({stepsList:t})=>{var l,a;const e=ur(),[n,r]=L.useState(((l=e.state)==null?void 0:l.initialStepIndex)||0),[s,i]=L.useState(((a=e.state)==null?void 0:a.selections)||[]),o=t[n];return f.jsxs("div",{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:o.title}),f.jsx(F$,{currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})]}),f.jsx("div",{className:"row g-2 my-2",children:o.options.map((u,d)=>{var h;if(n===0||(h=u.availableAt)!=null&&h.includes(s[0]))return f.jsx("div",{className:"col-sm-6",children:f.jsx($$,{option:u,stepsList:t,currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})},d)})})]})},pn=({children:t,fontSize:e,py:n})=>f.jsx("h2",{className:`fs-${e||4} py-${n||2} fw-medium bg-dark text-center text-light`,children:t}),B$=()=>f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",children:"#"}),f.jsx("th",{scope:"col",children:""}),f.jsx("th",{scope:"col",className:"text-center",children:""})]})}),ii="https://iabdwahab.github.io";async function z$(){return await(await fetch(`${ii}/darelom-students-data/top_degrees.json`)).json()}const q$=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0);return L.useEffect(()=>{async function s(){let i;i=await z$(),e(i),r(!1)}s()},[]),f.jsxs("div",{className:"top-students",children:[f.jsx(pn,{children:" "}),n?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 mt-1",children:t.map((s,i)=>f.jsxs("div",{className:"border-secondary-subtle rounded-2 py-1 my-0 col-lg-6",children:[f.jsx("h3",{className:"fs-5 bg-dark text-light p-2 my-0",children:s.grade_ar_name}),f.jsxs("table",{className:"table table-striped border",children:[f.jsx(B$,{}),f.jsx(H$,{gradeDegree:s})]}),f.jsx(Me,{to:`degrees/${s.grade}/2024_25`,className:"d-block my-2 btn btn-primary fw-bold",children:"  "})]},i))})]})};function H$({gradeDegree:t}){return f.jsx("tbody",{children:t.list.map((e,n)=>f.jsx(W$,{student:e,grade:t.grade},n))})}function W$({student:t,grade:e}){const n=bt();return f.jsxs("tr",{className:"degree_tr-linked",onClick:()=>n(`/degrees/${e}/2024_25/${t.id}`),children:[f.jsx("th",{scope:"row",children:t.rank}),f.jsx("td",{children:t.name}),f.jsxs("td",{className:"text-center",children:["%",t.total_percentage]})]})}const G$=[{title:" :",options:[{option_text:" ",option_data:"grade_1",will_next:!0,available:!0},{option_text:" ",option_data:"grade_2",will_next:!0,available:!0},{option_text:" ",option_data:"grade_3",will_next:!0,available:!0},{option_text:" ",option_data:"grade_4",will_next:!0,available:!0},{option_text:" ",option_data:"general_subjects",will_next:!1,available:!0}]},{title:" ",options:[{option_text:" ",option_data:"schedule",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"books",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"lectures_recordings",will_next:!0,availableAt:["grade_1","grade_2","grade_3"]},{option_text:"  -  ",option_data:"test_yourself_students",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:"  [ ]",option_data:"test_yourself",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"more_resources",will_next:!0,availableAt:["grade_2"]},{option_text:"",option_data:"explanations",will_next:!1,availableAt:[]},{option_text:"  ",option_data:"final_exams",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]}]},{title:"  :",options:[{option_text:"  ",option_data:"term_1",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:"  ",option_data:"term_2",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]}]}],K$=()=>f.jsxs(f.Fragment,{children:[f.jsx(U$,{stepsList:G$}),f.jsx(q$,{})]});async function Q$(t,e){const r=await(await fetch(`${ii}/darelom-students-data/degrees/${e}/degrees_${t}.json`)).json();return r.degrees.sort((s,i)=>i.total-s.total),{degrees:r.degrees,studentsCount:r.degrees.length}}async function Y$(t){const e=await qI(t),n=e.docs.map(s=>s.data()),r=e.docs[e.docs.length-1];return{degreesData:n,lastStudentData:r}}async function J$(t){return(await T2(t)).data().count}function Tt(t){return{grade_1:" ",grade_2:" ",grade_3:" ",grade_4:" ",term_1:"  ",term_2:"  ",nahw:"",sarf:"",english:"",elm_allugha:" ",albalagha:"",adab_gahily:" ",falsafa:"",seera_khoalfaa:"  ",quran_ebadat:" ",naqd_qadim:"  ",nsoos_gahilya:" ",farsy:"",ebry:"",riyadat_aamal:" ",nazm_oslobiya:" ",quran_ahwal:"   ",adab_islamy_omawy:"  ",arood:"",mawarith:"",maajim_aswat:"  ",balaghat_quran:" ",qaet_bahth:" ",nsoos_islamya_omawya:"  ",tareekh_omawy_abasy:"  ",aqida:"",adab_moqaran:" ",adab_abasy_andalusy:"  ",olom_quran:" ",tareekh_misr:"  ",tafseer:"",elm_kalam:" ",nsoos_abasya_andalusya:"  ",ittijahat_lughawiya:" ",adab_hadith:" ",hadara_nozom:" ",tasawof:"",osool_fiqh:" ",horoob_salibiya:" ",nsoos_haditha:"  ",naqd_hadith:"  ",mojalad_tasgilat:"  ",groupped_channel:"  "}[t]}const X$=({student:t,grade:e,year:n})=>{let{id:r,name:s,rank:i,total:o,total_percentage:l}=t;const a=bt(),u=s==="   ";function d(){u||a(`/degrees/${e}/${n}/${t.id}`)}return u&&(r="",s=""),f.jsxs("tr",{className:"degree_tr-linked",onClick:d,children:[f.jsx("th",{scope:"row",className:"text-center",children:i}),f.jsx("td",{className:"text-center",children:r}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:s}),f.jsx("td",{className:"text-center",children:o}),f.jsxs("td",{className:"text-center",children:["%",l]})]})},yy=()=>{const t=[{isCentered:!0,text:"#"},{isCentered:!0,text:" "},{isCentered:!1,text:""},{isCentered:!0,text:""},{isCentered:!0,text:""}];return f.jsx("thead",{children:f.jsx("tr",{children:t.map((e,n)=>f.jsx("th",{scope:"col",className:`${e.isCentered&&"text-center"}`,children:e.text},n))})})},wy=({studentsCount:t})=>{const e=f.jsx("span",{className:"fw-bold",children:t||" "});return f.jsxs("h3",{className:"py-2 fs-4",children:[" : ",e,"."]})},Z$=({degreesCollection:t,lastStudent:e,setDataAndHideLoaderFirestore:n})=>{function r(){const s=h2(t,f2("rank","asc"),m2(e),p2(40));n(s)}return f.jsx("button",{className:"btn btn-primary w-100",onClick:r,children:" "})},e4=()=>f.jsx("h3",{className:"fw-bold text-center fs-5",children:" ."}),$l=()=>f.jsx("button",{className:"btn btn-primary w-100 disabled",children:f.jsx("div",{className:"spinner-border spinner-border-sm",role:"status"})}),t4=()=>{const{grade:t}=tn(),e=bt(),n=L.useRef(null),[r,s]=L.useState(!1);return L.useEffect(()=>{const i=n.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation();try{s(!0);const l=i["student_id-input"].value;if(i.checkValidity()){const a=Zr(kn,`${t}/degrees/2023_24`,l);(await ri(a)).exists()?e(`${l}`):i.classList.add("was-validated"),n.current.reset()}else i.classList.add("was-validated")}catch(l){console.log(l.message)}finally{s(!1)}})},[]),f.jsxs("form",{className:"row g-3 mt-0 needs-validation",noValidate:!0,ref:n,children:[f.jsx("p",{className:"mb-2 fw-bold",children:"  :"}),f.jsxs("div",{className:"col-12 col-sm-10 m-0 mb-2",children:[f.jsx("input",{type:"text",className:"form-control py-2",id:"student_id-input",placeholder:" ",minLength:5,maxLength:5,required:!0}),f.jsx("div",{className:"invalid-feedback",children:"   ."})]}),f.jsx("div",{className:"col-12 col-sm-2 m-0",children:r?f.jsx($l,{}):f.jsx("button",{type:"submit",className:"btn btn-primary mb-3 py-2 w-100",children:""})})]})};function Hb(t,e){if(t.length)if(e==="duplicated"){t.sort((s,i)=>i.total-s.total);let n=1,r=t[0].total;for(let s=0;s<t.length;s++)t[s].total!==r&&(n=n+1,r=t[s].total),t[s].rank=n}else for(let n=0;n<t.length;n++)t[n].rank=n+1}const n4=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),{grade:s,year:i}=tn(),[o,l]=L.useState(null),[a,u]=L.useState(null),[d,h]=L.useState(!1),[g,_]=L.useState("normal"),E=L.useRef(null),{pathname:S}=ur(),[C,x]=aV(),w=Hc(kn,`${s}/degrees/${i}`);async function T(R){const I=await J$(w),{degreesData:y,lastStudentData:k}=await Y$(R);l(I),e([...t,...y]),u(k),k.data().rank===I&&h(!0),r(!1)}async function N(){const R=await Q$(s,i);e(R.degrees),l(R.degrees.length),r(!1),h(!0)}function M(R){_(R.target.value),Hb(t,R.target.value),x({sortMethod:R.target.value})}return L.useEffect(()=>{N(),E.current&&(E.current.value="normal")},[S]),Hb(t,C.get("sortMethod")||"normal"),f.jsxs("div",{children:[f.jsxs(pn,{fontSize:3,py:3,children:["  ",Tt(s)," ",i.split("_").join("/")]}),f.jsx(wy,{studentsCount:o}),f.jsx(t4,{}),f.jsxs("div",{className:"d-flex flex-column gap-2 mb-4",children:[f.jsx("h5",{children:" :"}),f.jsxs("select",{ref:E,onChange:M,className:"form-select w-100","aria-label":"Default select example",style:{width:"100%",maxWidth:"400px"},children:[f.jsx("option",{value:"normal",defaultValue:!0,children:" "}),f.jsx("option",{value:"duplicated",children:"  "})]})]}),f.jsxs("div",{className:"table-responsive border",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(yy,{}),f.jsx("tbody",{children:t.map(R=>f.jsx(X$,{student:R,grade:s,year:i},R.id))})]}),n&&f.jsx(Nt,{})]}),f.jsx("div",{className:"mt-3 mb-1",children:d?f.jsx(e4,{}):f.jsx(Z$,{degreesCollection:w,lastStudent:a,setDataAndHideLoaderFirestore:T})})]})},r4="modulepreload",s4=function(t){return"/darelom-students/"+t},Wb={},Gc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=s4(l),l in Wb)return;Wb[l]=!0;const a=l.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":r4,a||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),a)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},i4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class by extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class o4 extends by{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a4 extends by{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class l4 extends by{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var e_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(e_||(e_={}));var u4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class c4{constructor(e,{headers:n={},customFetch:r,region:s=e_.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=i4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return u4(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(E=>{throw new o4(E)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new a4(d);if(!d.ok)throw new l4(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield d.json():g==="application/octet-stream"?_=yield d.blob():g==="text/event-stream"?_=d:g==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null}}catch(s){return{data:null,error:s}}})}}var Vn={},Ey={},ap={},Kc={},lp={},up={},d4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Il=d4();const h4=Il.fetch,Y1=Il.fetch.bind(Il),J1=Il.Headers,f4=Il.Request,p4=Il.Response,Ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:J1,Request:f4,Response:p4,default:Y1,fetch:h4},Symbol.toStringTag,{value:"Module"})),m4=fE(Ul);var cp={};Object.defineProperty(cp,"__esModule",{value:!0});let g4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};cp.default=g4;var X1=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(up,"__esModule",{value:!0});const _4=X1(m4),v4=X1(cp);let y4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,h=null,g=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,_="OK")}catch{i.status===404&&S===""?(g=204,_="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,g=200,_="OK"),u&&this.shouldThrowOnError)throw new v4.default(u)}return{error:u,data:d,count:h,status:g,statusText:_}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};up.default=y4;var w4=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lp,"__esModule",{value:!0});const b4=w4(up);let E4=class extends b4.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};lp.default=E4;var T4=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const S4=T4(lp);let x4=class extends S4.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Kc.default=x4;var I4=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ap,"__esModule",{value:!0});const _u=I4(Kc);let A4=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new _u.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new _u.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _u.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new _u.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _u.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ap.default=A4;var dp={},hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.version=void 0;hp.version="0.0.0-automated";Object.defineProperty(dp,"__esModule",{value:!0});dp.DEFAULT_HEADERS=void 0;const k4=hp;dp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${k4.version}`};var Z1=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ey,"__esModule",{value:!0});const C4=Z1(ap),P4=Z1(Kc),R4=dp;let j4=class eA{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},R4.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new C4.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new P4.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Ey.default=j4;var Bl=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const tA=Bl(Ey);Vn.PostgrestClient=tA.default;const nA=Bl(ap);Vn.PostgrestQueryBuilder=nA.default;const rA=Bl(Kc);Vn.PostgrestFilterBuilder=rA.default;const sA=Bl(lp);Vn.PostgrestTransformBuilder=sA.default;const iA=Bl(up);Vn.PostgrestBuilder=iA.default;const oA=Bl(cp);Vn.PostgrestError=oA.default;var N4=Vn.default={PostgrestClient:tA.default,PostgrestQueryBuilder:nA.default,PostgrestFilterBuilder:rA.default,PostgrestTransformBuilder:sA.default,PostgrestBuilder:iA.default,PostgrestError:oA.default};const{PostgrestClient:O4,PostgrestQueryBuilder:CB,PostgrestFilterBuilder:PB,PostgrestTransformBuilder:RB,PostgrestBuilder:jB,PostgrestError:NB}=N4;function D4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const L4=D4(),M4="2.11.15",V4=`realtime-js/${M4}`,F4="1.0.0",aA=1e4,$4=1e3;var Wu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wu||(Wu={}));var ln;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ln||(ln={}));var Hr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hr||(Hr={}));var t_;(function(t){t.websocket="websocket"})(t_||(t_={}));var No;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(No||(No={}));class U4{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class lA{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const Gb=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=B4(o,t,e,s),i),{})},B4=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?uA(i,o):n_(o)},uA=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W4(e,n)}switch(t){case st.bool:return z4(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return q4(e);case st.json:case st.jsonb:return H4(e);case st.timestamp:return G4(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return n_(e);default:return n_(e)}},n_=t=>t,z4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},q4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},H4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>uA(e,l))}return t},G4=t=>typeof t=="string"?t.replace(" ","T"):t,cA=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Em{constructor(e,n,r={},s=aA){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kb||(Kb={}));class Gu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gu.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Gu.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gu.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const g=d.map(C=>C.presence_ref),_=h.map(C=>C.presence_ref),E=d.filter(C=>_.indexOf(C.presence_ref)<0),S=h.filter(C=>g.indexOf(C.presence_ref)<0);E.length>0&&(l[u]=E),S.length>0&&(a[u]=S)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(_=>_.presence_ref),g=d.filter(_=>h.indexOf(_.presence_ref)<0);e[l].unshift(...g)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qb||(Qb={}));var Yb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yb||(Yb={}));var Ls;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ls||(Ls={}));class Ty{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Em(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new lA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gu(this),this.broadcastEndpointURL=cA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ln.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Ls.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ls.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Ls.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,E=[];for(let S=0;S<_;S++){const C=g[S],{filter:{event:x,schema:w,table:T,filter:N}}=C,M=d&&d[S];if(M&&M.event===x&&M.schema===w&&M.table===T&&M.filter===N)E.push(Object.assign(Object.assign({},C),{id:M.id}));else{this.unsubscribe(),this.state=ln.errored,e==null||e(Ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Ls.SUBSCRIBED);return}}).receive("error",d=>{this.state=ln.errored,e==null||e(Ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ln.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Em(this,Hr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Em(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Hr;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var E,S,C;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(_=>_.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var E,S,C,x,w,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const N=_.id,M=(E=_.filter)===null||E===void 0?void 0:E.event;return N&&((S=n.ids)===null||S===void 0?void 0:S.includes(N))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const N=(w=(x=_==null?void 0:_.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return N==="*"||N===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof g=="object"&&"ids"in g){const E=g.data,{schema:S,table:C,commit_timestamp:x,type:w,errors:T}=E;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:x,eventType:w,new:{},old:{},errors:T}),this._getPayloadRecords(E))}_.callback(g,r)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ty.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hr.close,{},e)}_onError(e){this._on(Hr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gb(e.columns,e.old_record)),n}}const Jb=()=>{},K4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q4{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aA,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jb,this.ref=0,this.logger=Jb,this.conn=null,this.sendBuffer=[],this.serializer=new U4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gc(async()=>{const{default:a}=await Promise.resolve().then(()=>Ul);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${t_.websocket}`,this.httpEndpoint=cA(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=L4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F4}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wu.connecting:return No.Connecting;case Wu.open:return No.Open;case Wu.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ty(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:V4};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Hr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([K4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Sy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Y4 extends Sy{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class r_ extends Sy{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var J4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const dA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},X4=()=>J4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gc(()=>Promise.resolve().then(()=>Ul),void 0)).Response:Response}),s_=t=>{if(Array.isArray(t))return t.map(n=>s_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=s_(r)}),e};var ha=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Tm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z4=(t,e,n)=>ha(void 0,void 0,void 0,function*(){const r=yield X4();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Y4(Tm(s),t.status||500))}).catch(s=>{e(new r_(Tm(s),s))}):e(new r_(Tm(t),t))}),eU=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Qc(t,e,n,r,s,i){return ha(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,eU(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Z4(a,l,r))})})}function gf(t,e,n,r){return ha(this,void 0,void 0,function*(){return Qc(t,"GET",e,n,r)})}function ki(t,e,n,r,s){return ha(this,void 0,void 0,function*(){return Qc(t,"POST",e,r,s,n)})}function tU(t,e,n,r,s){return ha(this,void 0,void 0,function*(){return Qc(t,"PUT",e,r,s,n)})}function nU(t,e,n,r){return ha(this,void 0,void 0,function*(){return Qc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hA(t,e,n,r,s){return ha(this,void 0,void 0,function*(){return Qc(t,"DELETE",e,r,s,n)})}var Ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const rU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sU{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=dA(s)}uploadOrUpdate(e,n,r,s){return Ln(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xb),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Xb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(zt(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ki(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Sy("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ki(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=yield ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}download(e,n){return Ln(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield gf(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}info(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield gf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:s_(r),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}exists(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zt(r)&&r instanceof r_){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Ln(this,void 0,void 0,function*(){try{return{data:yield hA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rU),n),{prefix:e||""});return{data:yield ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const iU="2.7.1",oU={"X-Client-Info":`storage-js/${iU}`};var xa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class aU{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},oU),n),this.fetch=dA(r)}listBuckets(){return xa(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(zt(e))return{data:null,error:e};throw e}})}getBucket(e){return xa(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xa(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xa(this,void 0,void 0,function*(){try{return{data:yield tU(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xa(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xa(this,void 0,void 0,function*(){try{return{data:yield hA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}}class lU extends aU{constructor(e,n={},r){super(e,n,r)}from(e){return new sU(this.url,this.headers,e,this.fetch)}}const uU="2.50.2";let Cu="";typeof Deno<"u"?Cu="deno":typeof document<"u"?Cu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cu="react-native":Cu="node";const cU={"X-Client-Info":`supabase-js-${Cu}/${uU}`},dU={headers:cU},hU={schema:"public"},fU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pU={};var mU=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const gU=t=>{let e;return t?e=t:typeof fetch>"u"?e=Y1:e=fetch,(...n)=>e(...n)},_U=()=>typeof Headers>"u"?J1:Headers,vU=(t,e,n)=>{const r=gU(n),s=_U();return(i,o)=>mU(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var yU=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function wU(t){return t.endsWith("/")?t:t+"/"}function bU(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yU(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const fA="2.70.0",ja=30*1e3,i_=3,Sm=i_*ja,EU="http://localhost:9999",TU="supabase.auth.token",SU={"X-Client-Info":`gotrue-js/${fA}`},o_="X-Supabase-Api-Version",pA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IU=6e5;class xy extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AU extends xy{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kU(t){return Ie(t)&&t.name==="AuthApiError"}class mA extends xy{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ho extends xy{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class xi extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CU(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class Gd extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kd extends ho{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qd extends ho{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PU(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zb extends ho{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a_ extends ho{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xm(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class eE extends ho{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ku extends ho{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tE=` 	
\r=`.split(""),RU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tE.length;e+=1)t[tE[e].charCodeAt(0)]=-2;for(let e=0;e<_f.length;e+=1)t[_f[e].charCodeAt(0)]=e;return t})();function nE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_f[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_f[r]),e.queuedBits-=6}}function gA(t,e,n){const r=RU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rE(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{OU(o,r,n)};for(let o=0;o<t.length;o+=1)gA(t.charCodeAt(o),s,i);return e.join("")}function jU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jU(r,e)}}function OU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function DU(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)gA(t.charCodeAt(s),n,r);return new Uint8Array(e)}function LU(t){const e=[];return NU(t,n=>e.push(n)),new Uint8Array(e)}function MU(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>nE(s,n,r)),nE(null,n,r),e.join("")}function VU(t){return Math.round(Date.now()/1e3)+t}function FU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",Ao={tested:!1,writable:!1},Qu=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ao.tested)return Ao.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ao.tested=!0,Ao.writable=!0}catch{Ao.tested=!0,Ao.writable=!1}return Ao.writable};function $U(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const _A=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Gc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},UU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vA=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jd=async(t,e)=>{await t.removeItem(e)};class fp{constructor(){this.promise=new fp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fp.promiseConstructor=Promise;function Im(t){const e=t.split(".");if(e.length!==3)throw new Ku("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!xU.test(e[r]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(rE(e[0])),payload:JSON.parse(rE(e[1])),signature:DU(e[2]),raw:{header:e[0],payload:e[1]}}}async function BU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zU(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function qU(t){return("0"+t.toString(16)).substr(-2)}function HU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,qU).join("")}async function WU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function GU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ia(t,e,n=!1){const r=HU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vA(t,`${e}-code-verifier`,s);const i=await GU(r);return[i,r===i?"plain":"s256"]}const KU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QU(t){const e=t.headers.get(o_);if(!e||!e.match(KU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Aa(t){if(!XU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ZU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e3=[502,503,504];async function sE(t){var e;if(!UU(t))throw new a_(Ro(t),0);if(e3.includes(t.status))throw new a_(Ro(t),t.status);let n;try{n=await t.json()}catch(i){throw new mA(Ro(i),i)}let r;const s=QU(t);if(s&&s.getTime()>=pA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eE(Ro(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new eE(Ro(n),t.status,n.weak_password.reasons);throw new AU(Ro(n),t.status||500,r)}const t3=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Re(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[o_]||(i[o_]=pA["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await n3(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function n3(t,e,n,r,s,i){const o=t3(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new a_(Ro(a),0)}if(l.ok||await sE(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await sE(a)}}function Os(t){var e;let n=null;o3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=VU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function iE(t){const e=Os(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Li(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function r3(t){return{data:t,error:null}}function s3(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=ZU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function i3(t){return t}function o3(t){return t.access_token&&t.refresh_token&&t.expires_in}const Am=["global","local","others"];var a3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class l3{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_A(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Am[0]){if(Am.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Am.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Li})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=a3(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Li})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:i3});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);u[`${C}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Aa(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Li})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Aa(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Li})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Aa(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Li})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Aa(e.userId);try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Aa(e.userId),Aa(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}const u3={getItem:t=>Qu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qu()&&globalThis.localStorage.removeItem(t)}};function oE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function c3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ka={debug:!!(globalThis&&Qu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d3 extends yA{}async function h3(t,e,n){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ka.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}c3();const f3={url:EU,storageKey:TU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function aE(t,e,n){return await n()}class Ac{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ac.nextInstanceID,Ac.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},f3),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new l3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_A(s.fetch),this.lock=s.lock||aE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ur()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h3:this.lock=aE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qu()?this.storage=u3:(this.memoryStorage={},this.storage=oE(this.memoryStorage)):(this.memoryStorage={},this.storage=oE(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fA}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$U(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ur()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PU(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?{error:n}:{error:new mA("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Os}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:g}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Ia(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:E},xform:Os})}else if("phone"in e){const{phone:d,password:h,options:g}=e;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Os})}else throw new Kd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iE})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iE})}else throw new Kd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,d,h,g,_;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:C,wallet:x,statement:w,options:T}=e;let N;if(Ur())if(typeof x=="object")N=x;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))N=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const M=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const R=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),w?{statement:w}:null));let I;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")I=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)I=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)E=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${M.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(s=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(d=T==null?void 0:T.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const R=await N.signMessage(new TextEncoder().encode(E),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=R}}try{const{data:C,error:x}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:MU(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Os});if(x)throw x;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Gd}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:x})}catch(C){if(Ie(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Os});if(await Jd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Os}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Gd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ia(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Kd("You must provide either an email or phone number.")}catch(l){if(Ie(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Os});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(Ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ia(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:r3})}catch(i){if(Ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xi;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kd("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Sm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Li}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Li})})}catch(n){if(Ie(n))return CU(n)&&(await this._removeSession(),await Jd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xi;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Ia(this.storage,this.storageKey));const{data:u,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Li});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xi;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Im(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xi;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ur())throw new Qd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zb("No code detected.");const{data:w,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new Qd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;a&&(g=parseInt(a));const _=g-d;_*1e3<=ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const E=g-h;d-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,g,d):d-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,g,d);const{data:S,error:C}=await this._getUser(i);if(C)throw C;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(kU(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Jd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=FU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ia(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:g}=i;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ur()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zU(async s=>(s>0&&await BU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Os})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xm(i)&&Date.now()+o-r<ja})}catch(r){if(this._debug(n,"error",r),Ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ur()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Sm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Sm}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xm(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ie(i)){const o={session:null,error:i};return xm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vA(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ja}ms, refresh threshold is ${i_} ticks`),s<=i_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ia(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Im(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+IU>Date.now()))return r;const{data:s,error:i}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ku("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Ku("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Im(r);if(YU(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const u=JU(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,LU(`${l}.${a}`)))throw new Ku("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}Ac.nextInstanceID=0;const p3=Ac;class m3 extends p3{constructor(e){super(e)}}var g3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class _3{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=wU(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:hU,realtime:pU,auth:Object.assign(Object.assign({},fU),{storageKey:u}),global:dU},h=bU(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=vU(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new O4(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new c4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lU(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return g3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Q4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const v3=(t,e,n)=>new _3(t,e,n),y3="https://tilyikrjfydofqprandn.supabase.co",w3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpbHlpa3JqZnlkb2ZxcHJhbmRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMzU3NzksImV4cCI6MjA2NjkxMTc3OX0.dATkafpW2h3BF59iipyHtb8SQQaIqu_I5gycuHu15_k",Iy=v3(y3,w3);function b3(){const{grade:t,term:e,year:n}=tn(),[r,s]=L.useState([]),[i,o]=L.useState(!0),[l,a]=L.useState(!1),u=bt(),{pathname:d}=ur();return L.useEffect(()=>{async function h(g,_,E){g=g.split("_")[1],_=_.split("_")[1];try{o(!0),a(!1);const{data:S,error:C}=await Iy.from("degrees").select("student_id, name, seat_number, total_degree, rank").eq("grade",g).eq("term",_).eq("year",E).order("rank",{ascending:!0});S!=null&&S.length||a(!0),s(S),o(!1)}catch(S){console.log(S),a(!0)}}t&&e&&n&&h(t,e,n)},[d]),i?f.jsx(Nt,{}):l?f.jsx("main",{children:f.jsx("h2",{className:"text-center py-5",children:"    .    ."})}):f.jsxs("main",{children:[f.jsxs(pn,{fontSize:3,py:3,children:["  ",Tt(t)," - ",Tt(e)," - ",n==null?void 0:n.split("_").join("/"),"."]}),f.jsx(wy,{studentsCount:r.length}),f.jsxs("div",{className:"table-responsive border mt-2",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(yy,{}),f.jsx("tbody",{children:r.map(h=>{const g=h.name==="   ";return console.log(g&&h.seat_number),f.jsxs("tr",{className:"degree_tr-linked",onClick:()=>{!g&&u(`/students/${h.student_id}`)},children:[f.jsx("th",{scope:"row",className:"text-center",children:h.rank}),f.jsx("td",{className:"text-center",children:g?"":h.seat_number}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:g?"":h.name}),f.jsx("td",{className:"text-center",children:h.total_degree.total}),f.jsxs("td",{className:"text-center",children:["%",h.total_degree.percentage]})]},h.seat_number)})})]}),i&&f.jsx(Nt,{})]})]})}function E3(){const{grade:t}=tn(),[e,n]=L.useState([]),[r,s]=L.useState(!0),[i,o]=L.useState(!1);return L.useEffect(()=>{async function l(){try{const u=await(await fetch(`${ii}/darelom-students-data/degrees/temp/${t}_term_2.json`)).json();console.log(u),n(u),s(!1)}catch{o(!0)}}l()},[t]),r?f.jsx(Nt,{}):i?f.jsx("main",{children:f.jsx("h2",{className:"text-center py-5",children:"    .    ."})}):f.jsxs("main",{children:[f.jsxs(pn,{fontSize:3,py:3,children:["  ",Tt(t)," -    - 2025."]}),f.jsx(wy,{studentsCount:e.length}),f.jsxs("div",{className:"table-responsive border mt-2",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(yy,{}),f.jsx("tbody",{children:e.map(l=>{const a=l.student_name==="   ";return console.log(a&&l.student_seatnumber),f.jsxs("tr",{className:"degree_tr-linked",children:[f.jsx("th",{scope:"row",className:"text-center",children:l.rank}),f.jsx("td",{className:"text-center",children:a?"":l.student_seatnumber}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:a?"":l.student_name}),f.jsx("td",{className:"text-center",children:l.total_degree}),f.jsxs("td",{className:"text-center",children:["%",(l.total_degree*100/800).toFixed(2)]})]},l.student_seatnumber)})})]}),r&&f.jsx(Nt,{})]})]})}const T3=({subject:t,student:e,index:n})=>{const r=e.degrees[n],s=r>=50?"bg-success":"bg-danger";return f.jsxs("tr",{children:[f.jsx("th",{scope:"row",children:t.name},n),f.jsx("td",{className:`text-center text-light ${s}`,children:r})]})},S3=()=>{},x3=({title:t,value:e})=>f.jsxs("h4",{className:"mb-1",children:[f.jsxs("span",{className:"fw-bold text-primary",children:[t,": "]}),f.jsxs("span",{children:[e,"."]})]}),I3=({student:t})=>{const e=[{title:"",value:t.name},{title:" ",value:t.id},{title:"",value:t.rank},{title:"",value:t.total_grade}];return f.jsx("div",{children:e.map((n,r)=>f.jsx(x3,{title:n.title,value:n.value},r))})};async function A3(t,e,n,r){const i=await(await fetch(`${ii}/darelom-students-data/degrees/${e}/degrees_${t}.json`)).json();let o;return i.degrees.forEach(l=>{l.id==n&&(o=l)}),r(i.subjects),o}const k3=()=>{const{grade:t,year:e,studentId:n}=tn(),[r,s]=L.useState({}),[i,o]=L.useState([]),[l,a]=L.useState(!0);return L.useEffect(()=>{async function u(){let d;d=await A3(t,e,n,o),s(d),a(!1)}u()},[]),(r==null?void 0:r.name)==="   "?f.jsx("h2",{className:"text-center py-4",children:"   ."}):f.jsxs(f.Fragment,{children:[f.jsx(pn,{fontSize:3,children:" "}),l?f.jsx(Nt,{}):f.jsxs("div",{className:"mt-3",children:[f.jsx(I3,{student:r}),f.jsxs("table",{className:"table table-striped border table-bordered mt-4",children:[f.jsx(S3,{}),f.jsx("tbody",{children:i.map((u,d)=>f.jsx(T3,{subject:u,student:r,index:d},d))})]})]})]})},C3=()=>f.jsxs("div",{className:"min-vh-100 d-flex flex-column gap-4 justify-content-center align-items-center",children:[f.jsx("h1",{children:"  ."}),f.jsx(Me,{to:"/",className:"btn btn-primary",children:" "})]}),Ay=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})};function qs({text:t,color:e,widthPercentage:n,onClick:r}){return f.jsx("button",{className:`btn btn-${e||"primary"} w-${n||"100"} p-2`,onClick:r,children:t})}const wA=({pdf:t})=>{const e=bt(),[n,r]=L.useState(!1);function s(){window.location.href=`https://drive.google.com/uc?export=download&id=${t.book_gdrive_id}`}function i(){e(`/book/${t.book_gdrive_id}`,{state:{book_name:t.book_name}})}return n?f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(qs,{text:"",color:"success",onClick:i}),f.jsx(qs,{text:"",onClick:s}),f.jsx(qs,{text:"",color:"danger",onClick:()=>r(!1)})]}):f.jsx(qs,{text:t.book_name,onClick:()=>r(!0)})},fa=()=>{const t=bt();function e(){t("/")}return f.jsx("button",{className:"btn btn-danger",onClick:e,children:" "})},P3=()=>{const{grade:t,term:e}=tn(),[n,r]=L.useState([]),[s,i]=L.useState(!0);return L.useEffect(()=>{fetch(`${ii}/darelom-students-data/books/2023_24/books_${t}.json`).then(o=>o.json()).then(o=>{r(o[e]),i(!1)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Ay,{grade:t,backFrom:"books"}),f.jsx(fa,{})]})]}),f.jsxs(pn,{children:[Tt(t)," - ",Tt(e)]}),s?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:n.map((o,l)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(wA,{pdf:o})},l))})]})};function R3(){const t="btn btn-danger p-2 px-5 w-100",e=bt();function n(){e(-1)}return f.jsx("button",{className:t,onClick:n,children:""})}const j3=({bookId:t,isIframeLoading:e,setIsIframeLoading:n})=>{const r=`https://drive.google.com/file/d/${t}/preview`,s=`${e&&"d-none"} w-100`,i={height:"500px"};function o(){n(!1)}return f.jsx("iframe",{src:r,onLoad:o,className:s,style:i})},N3=({bookId:t})=>{const e="btn btn-primary p-2 px-5 w-100";function n(){window.location.href=`https://drive.google.com/uc?export=download&id=${t}`}return f.jsx("button",{className:e,onClick:n,children:""})},lE=({children:t})=>f.jsx("div",{className:"col-md-auto col-6",children:t}),uE=()=>{var i;const{bookId:t}=tn(),n=(i=ur().state)==null?void 0:i.book_name,[r,s]=L.useState(!0);return f.jsxs(f.Fragment,{children:[f.jsxs(pn,{children:['"',n,'".']}),f.jsxs("div",{className:"my-2 d-flex justify-content-end row gx-2",children:[f.jsx(lE,{children:f.jsx(N3,{bookId:t})}),f.jsx(lE,{children:f.jsx(R3,{})})]}),r&&f.jsx(Nt,{}),f.jsx(j3,{bookId:t,isIframeLoading:r,setIsIframeLoading:s})]})},O3=({currentQuestionIndex:t,questionsLength:e})=>{const n=t+1;return f.jsx("div",{className:"d-flex justify-content-between ",children:f.jsxs("p",{className:"mb-0",children:["",f.jsxs("span",{className:"fw-bold",children:[" ",n," "]}),"",f.jsxs("span",{className:"fw-bold",children:[" ",e]}),"."]})})},D3=({questionText:t})=>f.jsx("h3",{className:"bg-black text-light p-2 py-3 text-center my-4 rounded-2 lh-base",children:t});function L3({currentQuestionIndex:t,setCurrentQuestionIndex:e,setIsAnswered:n,answerButtons:r}){function s(){n(!1),e(t+1),r.forEach(i=>{i.disabled=!1,i.classList.remove("btn-danger","btn-success")})}return f.jsx(qs,{text:"",onClick:s})}function M3({questionsLength:t,score:e}){const n=bt();function r(){n("/test_yourself/test_result",{state:{result:e,fullMark:t}})}return f.jsx(qs,{text:" ",onClick:r})}const V3=({children:t})=>f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title text-center w-100",children:t})}),F3=({children:t})=>f.jsx("div",{className:"modal-body pb-1",children:f.jsx("p",{className:"text-center fw-bold",children:t})}),$3=({children:t})=>f.jsx("div",{className:"modal-footer border-0 pt-0",children:t}),U3=({setIsModalOpen:t,answerReason:e})=>f.jsx("div",{className:"modal d-block bg-black bg-opacity-75",tabIndex:"-1",children:f.jsx("div",{className:"modal-dialog modal-dialog-centered",children:f.jsxs("div",{className:"modal-content",children:[f.jsx(V3,{children:'"   "'}),f.jsx(F3,{children:e||"      ."}),f.jsx($3,{children:f.jsx(qs,{text:"",color:"danger",onClick:()=>t(!1)})})]})})}),B3=({setIsModalOpen:t})=>f.jsx(qs,{text:" ",onClick:()=>t(!0)});function z3(t,e,n,r,s,i,o,l){function a(){r.current.forEach(h=>{h.disabled=!0}),d.disabled=!1}n(!0);const u=r.current[i[s].question_answer],d=t.target;e==i[s].question_answer?(d.classList.add("btn-success"),o(l+1),a()):(a(),d.classList.add("btn-danger"),u.classList.add("btn-success"))}const km=()=>{var N,M,R,I,y,k;const{grade:t,term:e,subject:n}=tn(),[r,s]=L.useState(!1),[i,o]=L.useState(((N=location.state)==null?void 0:N.currentQuestionIndex)||0),[l,a]=L.useState(0),[u,d]=L.useState([]),[h,g]=L.useState(!1),_=L.useRef([]),[E,S]=L.useState(!0),x=ur().pathname;function w(A){qI(Hc(kn,A)).then(j=>{const D=[];j.docs.forEach(O=>{D.push(O.data())}),d(D),S(!1)})}L.useEffect(()=>{x=="/test_yourself/sended_questions"?w("test_yourself/sended_questions"):x==`/${t}/${e}/${n}/test_yourself_students`?w(`${t}/test_yourself_students/questions/${e}/${n}`):fetch(`${ii}/darelom-students-data/questions/test_questions.json`).then(A=>A.json()).then(A=>{d(A),S(!1)})},[]);const T=i>=u.length-1;return f.jsxs(f.Fragment,{children:[f.jsx(pn,{fontSize:"2",children:" "}),E?f.jsx(Nt,{}):u.length?f.jsxs("div",{className:"mt-2",children:[f.jsx(O3,{currentQuestionIndex:i,questionsLength:u.length,creatorName:(R=(M=u[i])==null?void 0:M.question_creator)==null?void 0:R.name}),f.jsx(D3,{questionText:(I=u[i])==null?void 0:I.question_text}),f.jsx("div",{className:"row g-2",children:(y=u[i])==null?void 0:y.question_options.map((A,j)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100 p-2",ref:D=>_.current[j]=D,onClick:D=>z3(D,j,s,_,i,u,a,l),children:A})},j))}),f.jsx("hr",{}),f.jsxs("div",{className:"mt-3 d-flex gap-2",children:[r&&T?f.jsx(M3,{questionsLength:u.length,score:l}):r&&!T&&f.jsx(L3,{currentQuestionIndex:i,setCurrentQuestionIndex:o,setIsAnswered:s,answerButtons:_.current}),r&&f.jsx(B3,{setIsModalOpen:g})]}),h&&f.jsx(U3,{setIsModalOpen:g,answerReason:(k=u[i])==null?void 0:k.answer_reason})]}):f.jsx("p",{className:"text-center fs-2 fw-bold my-2",children:"   ."})]})},q3=()=>{const t=ur(),{result:e,fullMark:n}=t.state;return f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:" :"}),f.jsxs("p",{className:"text-center fs-1",children:[f.jsxs("span",{className:"fw-bold",children:[e," "]}),"",f.jsxs("span",{className:"fw-bold",children:[" ",n]}),"."]})]})},H3=()=>{const t=bt(),{grade:e,term:n}=tn(),[r,s]=L.useState([]),[i,o]=L.useState(!0);return L.useEffect(()=>{async function l(){var d;const u=(d=(await ri(Zr(kn,`${e}/test_yourself_students/questions`,n))).data())==null?void 0:d.subjects;s(u),o(!1)}l()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Ay,{grade:e,backFrom:"test_yourself_students"}),f.jsx(fa,{})]})]}),i?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:r==null?void 0:r.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/${l}/test_yourself_students`),children:Tt(l)})},a))})]})},W3=()=>f.jsxs("div",{className:"row g-2",children:[f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{to:"term_1",className:"btn btn-primary w-100",children:"  "})}),f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{to:"term_2",className:"btn btn-primary w-100",children:"  "})})]}),G3=()=>{const t=bt(),[e,n]=L.useState(!0),{grade:r,term:s}=tn(),[i,o]=L.useState([]);return L.useEffect(()=>{ri(Zr(kn,`${r}/test_yourself_students/questions/${s}`)).then(l=>{o(l.data().subjects),n(!1)})},[]),f.jsx(f.Fragment,{children:e?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2",children:i.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t(`/${r}/${s}/${l}/send_question`),children:Tt(l)})},a))})})},bA=({formRef:t,children:e})=>f.jsx("form",{className:"mx-auto mt-3 needs-validation",noValidate:!0,style:{maxWidth:"480px"},ref:t,children:e}),Zn=({field:t,marginBottom:e=3})=>f.jsx("div",{className:`mb-${e}`,children:t}),EA=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"email-input",className:"form-label fw-bold",children:" :"}),f.jsx("input",{type:"email",className:"form-control",pattern:"^[^@]+@[^@]+\\.[^@]{2,}$",id:"email-input",placeholder:"folan.alfolany@gmail.com","aria-describedby":"emailHelp",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"    ."})]}),TA=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"password-input",className:"form-label fw-bold",children:" :"}),f.jsx("input",{type:"password",placeholder:"_____",minLength:"6",className:"form-control",id:"password-input",autoComplete:"off",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"      6   ."})]}),K3=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"name-input",className:"form-label fw-bold",children:":"}),f.jsx("input",{type:"text",className:"form-control",minLength:3,id:"name-input",placeholder:" ",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"     3   ."})]}),Q3=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold",children:" :"}),f.jsxs("select",{className:"form-select mt-2",id:"grade-input",required:!0,children:[f.jsx("option",{value:"grade_1",children:" "}),f.jsx("option",{value:"grade_2",children:" "}),f.jsx("option",{value:"grade_3",children:" "}),f.jsx("option",{value:"grade_4",children:" "})]}),f.jsx("div",{className:"invalid-feedback",children:"  ."})]}),Yc=({text:t})=>f.jsx("button",{type:"submit",className:"btn btn-primary w-100 fw-bold",children:t}),pp=({label:t,placeholder:e,invalidFeedback:n,minLength:r=10,rows:s=4,fontSize:i=5,id:o="textarea-field"})=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:`fw-bold fs-${i} mb-1`,htmlFor:o,children:t}),f.jsx("textarea",{className:"form-control",id:o,rows:s,placeholder:e,minLength:r,required:!0}),f.jsx("div",{className:"invalid-feedback",children:n})]}),Y3=()=>{const t=bt(),[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null);return L.useEffect(()=>{const o=i.current;o.addEventListener("submit",async l=>{if(l.preventDefault(),l.stopPropagation(),o.checkValidity())try{s(!0);const a=l.target["name-input"].value,u=l.target["email-input"].value,d=l.target["grade-input"].value,h=l.target["password-input"].value,g=l.target["textarea-field"].value,E=(await Hj(Zf,u,h)).user.uid;await b2(Zr(kn,"users",E),{name:a,email:u,grade:d,uid:E,message:g,write_permission:!1}),t("/")}catch(a){console.log(a.code),n(!0)}finally{s(!1),setTimeout(()=>{n(!1)},3e3)}else o.classList.add("was-validated")})},[]),f.jsxs("div",{children:[f.jsx(pn,{children:"  "}),f.jsxs(bA,{formRef:i,children:[f.jsx(Zn,{field:f.jsx(K3,{})}),f.jsx(Zn,{field:f.jsx(EA,{})}),f.jsx(Zn,{field:f.jsx(Q3,{})}),f.jsx(Zn,{field:f.jsx(pp,{placeholder:"    .",label:"    :",fontSize:6,minLength:100,invalidFeedback:"     100   ."})}),f.jsx(Zn,{field:f.jsx(TA,{})}),r?f.jsx($l,{}):f.jsx(Yc,{text:"  "}),e&&f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})]})},Xd=()=>{const t=bt(),[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null);return L.useEffect(()=>{const o=i.current;o.addEventListener("submit",async l=>{if(l.preventDefault(),l.stopPropagation(),o.checkValidity())try{s(!0);const a=l.target["email-input"].value,u=l.target["password-input"].value;await Wj(Zf,a,u),t("/")}catch(a){console.log(a.code),n(!0)}finally{s(!1),setTimeout(()=>{n(!1)},3e3)}else o.classList.add("was-validated")})},[]),f.jsxs("div",{children:[f.jsx(pn,{children:" "}),f.jsxs(bA,{formRef:i,children:[f.jsx(Zn,{field:f.jsx(EA,{})}),f.jsx(Zn,{field:f.jsx(TA,{})}),r?f.jsx($l,{}):f.jsx(Yc,{text:" "}),e&&f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]}),f.jsxs("p",{className:"text-center mt-2 fw-bold",children:["    ",f.jsx(Me,{to:"/signup",children:" "}),"."]})]})},ky=({formRef:t,children:e})=>f.jsx("form",{className:"mt-3 needs-validation",noValidate:!0,ref:t,children:e}),J3=({optionsRef:t})=>{const e=["","","",""];return f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),f.jsx("div",{className:"row g-2",children:e.map((n,r)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("input",{type:"text",className:"form-control",placeholder:` ${n}.`,ref:s=>t.current[r]=s,required:!0})},r))})]})},X3=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:"  :"}),f.jsxs("select",{className:"form-control",id:"options-input",children:[f.jsx("option",{value:"0",children:"1"}),f.jsx("option",{value:"1",children:"2"}),f.jsx("option",{value:"2",children:"3"}),f.jsx("option",{value:"3",children:"4"})]})]}),Z3=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),f.jsx("input",{type:"text",className:"form-control",placeholder:" .",id:"answer-reason-input"})]}),eB=()=>f.jsx(pp,{placeholder:"   .",label:" :",invalidFeedback:"      10   ."}),tB=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),{grade:s,term:i,subject:o}=tn(),l=L.useRef([]),a=L.useRef(null);return L.useEffect(()=>{const u=a.current;u.addEventListener("submit",async d=>{d.preventDefault(),d.stopPropagation();const h=u["textarea-field"].value,g=[],_=Number(u["options-input"].value),E=u["answer-reason-input"].value;if(l.current.forEach(S=>{g.push(S.value)}),u.checkValidity())try{e(!0);const{name:S,uid:C}=JSON.parse(localStorage.getItem("loggedinUserInfo"));await ty(Hc(kn,`${s}/test_yourself_students/questions/${i}/${o}`),{question_text:h,question_answer:_,question_options:g,answer_reason:E,question_creator:{name:S,uid:C}}),a.current.reset(),u.classList.remove("was-validated"),r("success")}catch(S){console.log(S.code),u.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else u.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(pn,{children:"  []"}),f.jsxs("p",{className:"text-center mt-2 fw-bold",children:[`${Tt(s)} - ${Tt(i)} - ${Tt(o)}`,"."]}),f.jsxs(ky,{formRef:a,children:[f.jsx(Zn,{field:f.jsx(eB,{})}),f.jsx(Zn,{field:f.jsx(J3,{optionsRef:l})}),f.jsx(Zn,{field:f.jsx(X3,{})}),f.jsx(Zn,{field:f.jsx(Z3,{})}),t?f.jsx($l,{}):f.jsx(Yc,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},nB=()=>f.jsx(pp,{placeholder:"  .",label:":",invalidFeedback:"      10   .",rows:7}),rB=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),s=L.useRef(null);return L.useEffect(()=>{const i=s.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation();const l=i["textarea-field"].value;if(i.checkValidity())try{e(!0),await ty(Hc(kn,"suggestions"),{suggestion:l,timestamp:WI()}),s.current.reset(),i.classList.remove("was-validated"),r("success")}catch(a){console.log(a.code),i.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else i.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(pn,{children:" "}),f.jsxs(ky,{formRef:s,children:[f.jsx(Zn,{field:f.jsx(nB,{})}),t?f.jsx($l,{}):f.jsx(Yc,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},sB=()=>f.jsx(pp,{placeholder:"          .",label:":",invalidFeedback:"      10   .",rows:7}),iB=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),s=L.useRef(null);return L.useEffect(()=>{const i=s.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation(),console.log("s");const l=i["textarea-field"].value;if(i.checkValidity())try{e(!0),await ty(Hc(kn,"problems"),{problem:l,timestamp:WI()}),s.current.reset(),i.classList.remove("was-validated"),r("success")}catch(a){console.log(a.code),i.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else i.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(pn,{children:"  "}),f.jsxs(ky,{formRef:s,children:[f.jsx(Zn,{field:f.jsx(sB,{})}),t?f.jsx($l,{}):f.jsx(Yc,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},oB=()=>async(t,e)=>{try{const r=await(await fetch(t)).blob(),s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}catch(n){console.log(n)}},aB=()=>{const{grade:t}=tn(),[e,n]=L.useState(!1),[r,s]=L.useState(!0);let i="",o;t==="exams_schedule"?(i=`${ii}/darelom-students-data/schedule/exams_schedule.jpg`,o="     2025"):(i=`${ii}/darelom-students-data/schedule/${t}.jpg`,o=`  ${Tt(t)}`);const l=oB();function a(){n(!1),s(!1)}function u(){n(!0),s(!1)}return f.jsxs("div",{className:"container",children:[r?f.jsx(Nt,{}):f.jsx(f.Fragment,{children:!e&&f.jsx(f.Fragment,{children:f.jsxs("p",{className:"text-center fw-bold fs-5",children:["  ",Tt(t),"   ."]})})}),f.jsxs("div",{className:`d-${e?"block":"none"}`,children:[f.jsx("img",{src:i,className:"w-100",alt:"Schecule",onError:a,onLoad:u}),f.jsx("button",{className:"btn btn-primary w-100 mt-3",onClick:()=>l(i,o),children:" "})]})]})},lB=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})},uB=()=>{const{grade:t,term:e}=tn(),[n,r]=L.useState({}),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{ri(Zr(kn,`${t}/lectures_recordings`)).then(a=>{var d;const u=(d=a.data())==null?void 0:d[e];if(u&&Object.keys(u).length){const h=Object.keys(u);if(h.includes("mojalad_tasgilat")){const g=["mojalad_tasgilat",...h.filter(_=>_!=="mojalad_tasgilat")];i(g)}else i(h);r(u)}l(!1)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(lB,{grade:t,backFrom:"lectures_recordings"}),f.jsx(fa,{})]})]}),f.jsxs(pn,{children:[Tt(t)," - ",Tt(e)]}),o?f.jsx(Nt,{}):f.jsx(f.Fragment,{children:Object.keys(n).length?f.jsx("div",{className:"row g-2 my-2",children:s.map((a,u)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(qs,{text:Tt(a),onClick:()=>window.location.href=n[a]})},u))}):f.jsx("p",{className:"text-center fw-bold mt-4 fs-4",children:"   ."})})]})},cB=()=>{const t=bt(),{grade:e,term:n}=tn(),[r,s]=L.useState([]),[i,o]=L.useState(!0);return L.useEffect(()=>{async function l(){var d;const u=((d=(await ri(Zr(kn,`${e}/more_resources/`))).data())==null?void 0:d[n])||[];s(u),o(!1)}l()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Ay,{grade:e,backFrom:"more_resources"}),f.jsx(fa,{})]})]}),i?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:r!=null&&r.length?r==null?void 0:r.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/more_resources/${l}`),children:Tt(l)})},a)):f.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})},cE=()=>{const t=bt(),{grade:e,term:n,subject:r}=tn(),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{async function a(){var h;let u;e?u=await ri(Zr(kn,`${e}/more_resources/${n}/${r}`)):u=await ri(Zr(kn,`general_subjects/${r}`));const d=((h=u.data())==null?void 0:h.resources)||[];i(d),l(!1)}a()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx("button",{className:"btn btn-danger",onClick:()=>t(-1),children:""}),f.jsx(fa,{})]})]}),o?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:s!=null&&s.length?s==null?void 0:s.map((a,u)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{className:"btn btn-primary w-100",to:a!=null&&a.isBook?`/book/${a.link}`:a.link,state:{book_name:a.title},children:a.title})},u)):f.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})},dB=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})},hB=()=>{const[t,e]=L.useState(!1),{grade:n,term:r}=tn(),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{fetch(`${ii}/darelom-students-data/final_exams/final_exams_${n}.json`).then(a=>a.json()).then(a=>{a[r].length?(i(a[r]),l(!1)):t(!0)}).catch(a=>{e(!0)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(dB,{grade:n,backFrom:"final_exams"}),f.jsx(fa,{})]})]}),f.jsxs(pn,{children:[Tt(n)," - ",Tt(r)]}),t?f.jsx("p",{className:"fw-bold text-center fs-4 mt-4",children:"   ."}):o?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:s.map((a,u)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(wA,{pdf:a})},u))})]})},fB=()=>{const t=bt(),[e,n]=L.useState([]),[r,s]=L.useState(!0);return L.useEffect(()=>{async function i(){var a;const l=(a=(await ri(Zr(kn,"general_subjects","subjects"))).data())==null?void 0:a.ids;n(l),s(!1)}i()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsx("div",{className:"d-flex gap-2",children:f.jsx(fa,{})})]}),r?f.jsx(Nt,{}):f.jsx("div",{className:"row g-2 my-2",children:e==null?void 0:e.map((i,o)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/general_subjects/${i}`),children:Tt(i)})},o))})]})};function pB(t){let e=0,n=0;return t.map(s=>s.degrees).flat().forEach(s=>{s.isCalculatedInTotal&&(e+=s.finalDegree,s.degree.startsWith("/")?n+=Number(s.degree.slice(1)):isNaN(Number(s.degree))||(n+=Number(s.degree)))}),{max:e,total:n}}function mB(){const[t,e]=L.useState({name:"",totalDegree:{max:0,total:0},firstGradeInPlatform:2024}),[n,r]=L.useState({}),[s,i]=L.useState(!1),[o,l]=L.useState(!1),{student_id:a}=tn(),u=L.useRef(null);L.useEffect(()=>{i(!0),d()},[a]);async function d(){const{data:h,error:g}=await Iy.from("degrees").select("*").eq("student_id",a).order("grade",{ascending:!0}).order("term",{ascending:!0});if(h&&h.length){e({name:h[0].name,totalDegree:pB(h),firstGradeInPlatform:h[0].grade});const _={};h.forEach(E=>{_[E.grade]||(_[E.grade]=[]),_[E.grade].push(E)}),r(_),l(!1)}else l(!0);i(!1)}return s?f.jsx(Nt,{}):o?f.jsxs("main",{children:[f.jsxs("div",{className:"alert alert-danger text-center my-5",children:["         .   "," ",f.jsx("button",{type:"button",className:"text-decoration-underline p-0 m-0 align-baseline",style:{color:"rgb(110 168 254)",fontSize:"1em",verticalAlign:"middle",background:"none",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#idInfoModal",tabIndex:0,"aria-label":"   ",children:" "}),"  ",f.jsx(Me,{to:"/send_problem",children:"  "}),".   "," ",f.jsx(Me,{to:"/find_student",children:"   "}),"."]}),f.jsx("div",{className:"modal fade",id:"idInfoModal",tabIndex:-1,"aria-labelledby":"idInfoModalLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title",id:"idInfoModalLabel",children:"   "})}),f.jsxs("div",{className:"modal-body text-end",children:["          +     --:",f.jsx("br",{}),f.jsx("br",{}),'-         2024   : "12345"   : "123452024".',f.jsx("br",{}),f.jsx("br",{}),'-            : "34567"     2025   : "345672025".',f.jsx("br",{}),f.jsx("br",{}),'-         2024                          "34567"    "345672024".']}),f.jsx("div",{className:"modal-footer",children:f.jsx("button",{type:"button",className:"btn btn-danger w-100","data-bs-dismiss":"modal",children:""})})]})})})]}):a==="201252024"?f.jsx("h2",{className:"text-center py-4",children:"   ."}):f.jsxs("main",{children:[f.jsxs("section",{className:"d-grid gap-1",children:[t.firstGradeInPlatform>1&&f.jsxs("span",{className:"fs-6 text-danger mb-3",children:["*      ",Tt(`grade_${t.firstGradeInPlatform}`),"."]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{children:[t.name,"."]})]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[a,"."]})]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{className:"fs-5",children:[t.totalDegree.total,"/",t.totalDegree.max," ",f.jsxs("span",{className:"fs-6",children:["(",(t.totalDegree.total*100/t.totalDegree.max).toFixed(2),"%)."]})]})]})]}),f.jsx("div",{className:"accordion mt-4",id:"gradesAccordion",ref:u,children:Object.entries(n).map(([h,g],_)=>f.jsxs("div",{className:"accordion-item",children:[f.jsx("h2",{className:"accordion-header",id:`heading${h}`,children:f.jsx("button",{className:`accordion-button ${_!==0?"collapsed":""}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${h}`,"aria-expanded":_===0,"aria-controls":`collapse${h}`,children:Tt(`grade_${h}`)})}),f.jsx("div",{id:`collapse${h}`,className:`accordion-collapse collapse ${_===0?"show":""}`,"aria-labelledby":`heading${h}`,"data-bs-parent":"#gradesAccordion",children:f.jsx("div",{className:"accordion-body",children:g.map(E=>f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"table-responsive border-secondary-subtle rounded-2 py-1 my-0 ",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[E.term,"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[E.year,"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{className:"fs-5",children:[E.total_degree.total," ",f.jsxs("span",{className:"fs-6",children:["(",E.total_degree.percentage,"%)"]}),"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{className:"fs-5",children:[E.rank,"#."]})]})]}),f.jsxs("table",{className:"table table-striped border",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"bg-dark text-white border-start py-2",children:""}),f.jsx("th",{className:"text-center bg-dark text-white py-2",children:""})]})}),f.jsx("tbody",{children:E.degrees.map((S,C)=>{const x=S.name||S.id;let w=S.degree;typeof w=="string"&&w.startsWith("/")&&(w=w.slice(1));const N=parseInt(w,10)>=50?"text-bg-success":"text-bg-danger";return f.jsxs("tr",{children:[f.jsx("td",{className:"fw-bold",children:x}),f.jsx("td",{className:`${N} text-center`,children:w})]},C)})})]})]})},E.term))})})]},h))})]})}function gB(){const[t,e]=L.useState(""),[n,r]=L.useState(!1),[s,i]=L.useState(null),o=bt(),l=async a=>{if(a.preventDefault(),r(!0),i(null),!/^\d{9}$/.test(t)){i("      9  ."),r(!1);return}try{const u=parseInt(t,10),{data:d,error:h}=await Iy.from("degrees").select("student_id").eq("student_id",u).limit(1);if(h)throw h;d&&d.length>0?o(`/students/${u}`):i("    .        .")}catch(u){i("   .    ."),console.error("Error searching for student:",u)}finally{r(!1)}};return f.jsx("main",{className:"container",children:f.jsx("div",{className:"row justify-content-center",children:f.jsx("div",{children:f.jsx("div",{className:" shadow-sm",children:f.jsxs("div",{className:"card-body",children:[f.jsx(pn,{children:"   "}),f.jsxs("form",{onSubmit:l,className:"col-md-6 mx-auto",children:[f.jsxs("div",{className:"my-3",children:[f.jsxs("label",{htmlFor:"studentId",className:"form-label d-flex align-items-center gap-1",children:[" :",f.jsx("button",{type:"button",className:"btn btn-sm",style:{fontSize:"1.2em",verticalAlign:"middle",padding:0,lineHeight:1},"data-bs-toggle":"modal","data-bs-target":"#idInfoModal",tabIndex:-1,"aria-label":"   ",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",style:{width:"25px",height:"25px",transform:"scaleX(-1)"},children:f.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})})})]}),f.jsx("div",{className:"modal fade",id:"idInfoModal",tabIndex:-1,"aria-labelledby":"idInfoModalLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title",id:"idInfoModalLabel",children:"   "})}),f.jsxs("div",{className:"modal-body",children:["          +     --:",f.jsx("br",{}),f.jsx("br",{}),'-         2024   : "12345"   : "123452024".',f.jsx("br",{}),f.jsx("br",{}),'-            : "34567"     2025   : "345672025".',f.jsx("br",{}),f.jsx("br",{}),'-         2024                          "34567"    "345672024".']}),f.jsx("div",{className:"modal-footer",children:f.jsx("button",{type:"button",className:"btn btn-danger w-100","data-bs-dismiss":"modal",children:""})})]})})}),f.jsx("input",{type:"number",className:"form-control",id:"studentId",placeholder:"123456789",value:t,onChange:a=>{a.target.value.length<=9&&e(a.target.value)},required:!0})]}),s&&f.jsx("div",{className:"alert alert-danger",children:s}),f.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:n,children:n?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),f.jsx("span",{className:"visually-hidden",children:"Loading..."})]}):""})]})]})})})})})}function _B(){const t=[{grade:"",subjects_analytics:[{subject_name:"   ()",subject_students:{subject_students_count:346,subject_succeed_students_count:299,subject_succeed_students_percentage:"86.42"},subject_degree:{total_degree:26406,average_degree:"76.32"}},{subject_name:" :  ",subject_students:{subject_students_count:346,subject_succeed_students_count:317,subject_succeed_students_percentage:"91.62"},subject_degree:{total_degree:24928,average_degree:"72.05"}},{subject_name:"1",subject_students:{subject_students_count:346,subject_succeed_students_count:250,subject_succeed_students_percentage:"72.25"},subject_degree:{total_degree:19882,average_degree:"57.46"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:274,subject_succeed_students_percentage:"79.19"},subject_degree:{total_degree:22485,average_degree:"64.99"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:258,subject_succeed_students_percentage:"74.57"},subject_degree:{total_degree:19005,average_degree:"54.93"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:264,subject_succeed_students_percentage:"76.30"},subject_degree:{total_degree:19667,average_degree:"56.84"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:289,subject_succeed_students_percentage:"83.53"},subject_degree:{total_degree:22193,average_degree:"64.14"}},{subject_name:"  ",subject_students:{subject_students_count:346,subject_succeed_students_count:259,subject_succeed_students_percentage:"74.86"},subject_degree:{total_degree:19279,average_degree:"55.72"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:303,subject_succeed_students_percentage:"87.57"},subject_degree:{total_degree:23283,average_degree:"67.29"}},{subject_name:"  ",subject_students:{subject_students_count:346,subject_succeed_students_count:255,subject_succeed_students_percentage:"73.70"},subject_degree:{total_degree:18583,average_degree:"53.71"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:267,subject_succeed_students_percentage:"77.17"},subject_degree:{total_degree:20323,average_degree:"58.74"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:269,subject_succeed_students_percentage:"77.75"},subject_degree:{total_degree:18783,average_degree:"54.29"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:286,subject_succeed_students_percentage:"82.66"},subject_degree:{total_degree:22399,average_degree:"64.74"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:263,subject_succeed_students_percentage:"76.01"},subject_degree:{total_degree:20155,average_degree:"58.25"}}]},{grade:"",subjects_analytics:[{subject_name:"   ( )",subject_students:{subject_students_count:435,subject_succeed_students_count:403,subject_succeed_students_percentage:"92.64"},subject_degree:{total_degree:31282,average_degree:"71.91"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:425,subject_succeed_students_percentage:"97.70"},subject_degree:{total_degree:31332,average_degree:"72.03"}},{subject_name:"2",subject_students:{subject_students_count:435,subject_succeed_students_count:353,subject_succeed_students_percentage:"81.15"},subject_degree:{total_degree:25644,average_degree:"58.95"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:412,subject_succeed_students_percentage:"94.71"},subject_degree:{total_degree:34904,average_degree:"80.24"}},{subject_name:"      ",subject_students:{subject_students_count:435,subject_succeed_students_count:357,subject_succeed_students_percentage:"82.07"},subject_degree:{total_degree:25122,average_degree:"57.75"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:376,subject_succeed_students_percentage:"86.44"},subject_degree:{total_degree:28866,average_degree:"66.36"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:406,subject_succeed_students_percentage:"93.33"},subject_degree:{total_degree:32239,average_degree:"74.11"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:366,subject_succeed_students_percentage:"84.14"},subject_degree:{total_degree:26398,average_degree:"60.69"}},{subject_name:"   ",subject_students:{subject_students_count:435,subject_succeed_students_count:363,subject_succeed_students_percentage:"83.45"},subject_degree:{total_degree:24676,average_degree:"56.73"}},{subject_name:"   ",subject_students:{subject_students_count:435,subject_succeed_students_count:396,subject_succeed_students_percentage:"91.03"},subject_degree:{total_degree:28663,average_degree:"65.89"}},{subject_name:"    ",subject_students:{subject_students_count:435,subject_succeed_students_count:374,subject_succeed_students_percentage:"85.98"},subject_degree:{total_degree:25702,average_degree:"59.09"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:401,subject_succeed_students_percentage:"92.18"},subject_degree:{total_degree:31956,average_degree:"73.46"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:381,subject_succeed_students_percentage:"87.59"},subject_degree:{total_degree:29567,average_degree:"67.97"}},{subject_name:" 1",subject_students:{subject_students_count:435,subject_succeed_students_count:358,subject_succeed_students_percentage:"82.30"},subject_degree:{total_degree:26885,average_degree:"61.80"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:378,subject_succeed_students_percentage:"86.90"},subject_degree:{total_degree:27527,average_degree:"63.28"}}]},{grade:"",subjects_analytics:[{subject_name:" / ",subject_students:{subject_students_count:612,subject_succeed_students_count:414,subject_succeed_students_percentage:"67.65"},subject_degree:{total_degree:33216,average_degree:"54.27"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:463,subject_succeed_students_percentage:"75.65"},subject_degree:{total_degree:36086,average_degree:"58.96"}},{subject_name:"  ( )",subject_students:{subject_students_count:575,subject_succeed_students_count:490,subject_succeed_students_percentage:"85.22"},subject_degree:{total_degree:40473,average_degree:"70.39"}},{subject_name:" ",subject_students:{subject_students_count:367,subject_succeed_students_count:356,subject_succeed_students_percentage:"97.00"},subject_degree:{total_degree:26718,average_degree:"72.80"}},{subject_name:"3",subject_students:{subject_students_count:612,subject_succeed_students_count:407,subject_succeed_students_percentage:"66.50"},subject_degree:{total_degree:29667,average_degree:"48.48"}},{subject_name:" 2",subject_students:{subject_students_count:612,subject_succeed_students_count:410,subject_succeed_students_percentage:"66.99"},subject_degree:{total_degree:30766,average_degree:"50.27"}},{subject_name:"  ",subject_students:{subject_students_count:612,subject_succeed_students_count:415,subject_succeed_students_percentage:"67.81"},subject_degree:{total_degree:30677,average_degree:"50.13"}},{subject_name:"     ",subject_students:{subject_students_count:612,subject_succeed_students_count:438,subject_succeed_students_percentage:"71.57"},subject_degree:{total_degree:36515,average_degree:"59.67"}},{subject_name:"    ",subject_students:{subject_students_count:575,subject_succeed_students_count:433,subject_succeed_students_percentage:"75.30"},subject_degree:{total_degree:30442,average_degree:"52.94"}},{subject_name:"   ",subject_students:{subject_students_count:612,subject_succeed_students_count:426,subject_succeed_students_percentage:"69.61"},subject_degree:{total_degree:31450,average_degree:"51.39"}},{subject_name:"  ",subject_students:{subject_students_count:612,subject_succeed_students_count:448,subject_succeed_students_percentage:"73.20"},subject_degree:{total_degree:34668,average_degree:"56.65"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:447,subject_succeed_students_percentage:"73.04"},subject_degree:{total_degree:32153,average_degree:"52.54"}},{subject_name:"   ",subject_students:{subject_students_count:612,subject_succeed_students_count:423,subject_succeed_students_percentage:"69.12"},subject_degree:{total_degree:29500,average_degree:"48.20"}},{subject_name:"    ",subject_students:{subject_students_count:612,subject_succeed_students_count:410,subject_succeed_students_percentage:"66.99"},subject_degree:{total_degree:28216,average_degree:"46.10"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:495,subject_succeed_students_percentage:"80.88"},subject_degree:{total_degree:40195,average_degree:"65.68"}}]},{grade:"",subjects_analytics:[{subject_name:"4",subject_students:{subject_students_count:1030,subject_succeed_students_count:558,subject_succeed_students_percentage:"54.17"},subject_degree:{total_degree:42274,average_degree:"41.04"}},{subject_name:"   4",subject_students:{subject_students_count:789,subject_succeed_students_count:670,subject_succeed_students_percentage:"84.92"},subject_degree:{total_degree:46817,average_degree:"59.34"}},{subject_name:" ",subject_students:{subject_students_count:1030,subject_succeed_students_count:532,subject_succeed_students_percentage:"51.65"},subject_degree:{total_degree:40616,average_degree:"39.43"}},{subject_name:"     ",subject_students:{subject_students_count:789,subject_succeed_students_count:561,subject_succeed_students_percentage:"71.10"},subject_degree:{total_degree:40812,average_degree:"51.73"}},{subject_name:"  ",subject_students:{subject_students_count:1030,subject_succeed_students_count:567,subject_succeed_students_percentage:"55.05"},subject_degree:{total_degree:41078,average_degree:"39.88"}},{subject_name:"  . ",subject_students:{subject_students_count:1030,subject_succeed_students_count:571,subject_succeed_students_percentage:"55.44"},subject_degree:{total_degree:41444,average_degree:"40.24"}},{subject_name:"   ",subject_students:{subject_students_count:1030,subject_succeed_students_count:703,subject_succeed_students_percentage:"68.25"},subject_degree:{total_degree:49856,average_degree:"48.40"}},{subject_name:" ",subject_students:{subject_students_count:789,subject_succeed_students_count:573,subject_succeed_students_percentage:"72.62"},subject_degree:{total_degree:39914,average_degree:"50.59"}},{subject_name:" ",subject_students:{subject_students_count:789,subject_succeed_students_count:707,subject_succeed_students_percentage:"89.61"},subject_degree:{total_degree:52675,average_degree:"66.76"}},{subject_name:"  ",subject_students:{subject_students_count:1030,subject_succeed_students_count:580,subject_succeed_students_percentage:"56.31"},subject_degree:{total_degree:42662,average_degree:"41.42"}},{subject_name:" (/) ",subject_students:{subject_students_count:789,subject_succeed_students_count:645,subject_succeed_students_percentage:"81.75"},subject_degree:{total_degree:48101,average_degree:"60.96"}},{subject_name:"    ",subject_students:{subject_students_count:789,subject_succeed_students_count:564,subject_succeed_students_percentage:"71.48"},subject_degree:{total_degree:39627,average_degree:"50.22"}},{subject_name:"  ",subject_students:{subject_students_count:789,subject_succeed_students_count:602,subject_succeed_students_percentage:"76.30"},subject_degree:{total_degree:41405,average_degree:"52.48"}},{subject_name:"    ",subject_students:{subject_students_count:789,subject_succeed_students_count:696,subject_succeed_students_percentage:"88.21"},subject_degree:{total_degree:52815,average_degree:"66.94"}}]}];return f.jsxs("main",{className:" py-3",dir:"rtl",children:[f.jsxs("div",{className:"text-center mx-auto border-bottom mb-5",style:{width:"fit-content"},children:[f.jsx("h2",{className:"fs-4",children:"     2025"}),f.jsx("p",{className:"text-danger mt-1  fs-6",children:"[ ]"})]}),f.jsx("div",{children:f.jsx("p",{className:"my-4 ",style:{textAlign:"justify"},children:"-                                     ."})}),f.jsx("div",{className:"accordion",id:"gradesAccordion",children:t.map((e,n)=>f.jsxs("div",{className:"accordion-item mb-3 border",children:[f.jsx("h2",{className:"accordion-header",id:`heading${n}`,children:f.jsxs("button",{className:`accordion-button ${n!==0?"collapsed":""}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${n}`,"aria-expanded":n===0,"aria-controls":`collapse${n}`,children:[f.jsxs("span",{className:"fw-bold fs-5",children:["   -  ",e.grade]}),f.jsxs("span",{className:"badge mx-2 bg-primary ms-2",children:[e.subjects_analytics.length," "]})]})}),f.jsx("div",{id:`collapse${n}`,className:`accordion-collapse collapse ${n===0?"show":""}`,"aria-labelledby":`heading${n}`,"data-bs-parent":"#gradesAccordion",children:f.jsx("div",{className:"accordion-body",children:f.jsx("div",{className:"row g-4",children:e.subjects_analytics.map((r,s)=>{const i=parseFloat(r.subject_students.subject_succeed_students_percentage);let o="bg-danger";return i>=85?o="bg-success":i>=70&&(o="bg-info"),f.jsx("div",{className:"col-md-6 col-lg-4",children:f.jsx("div",{className:"card shadow-sm h-100 subject-card",children:f.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[f.jsx("h5",{className:"card-title fw-bold mb-3",children:r.subject_name}),f.jsx("table",{className:"table table-sm table-borderless mb-3",children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsx("td",{className:"text-end fw-bold",children:r.subject_students.subject_students_count})]}),f.jsxs("tr",{children:[f.jsx("td",{children:" :"}),f.jsx("td",{className:"text-end fw-bold text-success",children:r.subject_students.subject_succeed_students_count})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsxs("td",{className:"text-end fw-bold",children:[i,"%"]})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsx("td",{className:"text-end fw-bold",children:r.subject_degree.average_degree})]})]})}),f.jsx("div",{className:"progress",style:{height:"20px"},children:f.jsxs("div",{className:`progress-bar ${o}`,role:"progressbar",style:{width:`${i}%`},"aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100,children:[i,"%"]})})]})})},s)})})})})]},n))}),f.jsx("style",{children:`
        .subject-card:hover {
          transform: translateY(-5px);
          transition: 0.3s ease;
        }
      `})]})}function vB(){const[t,e]=L.useState(null),[n,r]=L.useState(JSON.parse(localStorage.getItem("loggedInUserInfo")));L.useEffect(()=>{lx(Zf,async i=>{if(i){const l=(await ri(Zr(kn,`users/${i.uid}`))).data();localStorage.setItem("loggedinUserInfo",JSON.stringify(l)),r(l)}else localStorage.setItem("loggedinUserInfo",JSON.stringify(null)),r(null);e(i),localStorage.setItem("loggedinUser",JSON.stringify(i))})},[]);const s=WM(Wg(f.jsx(f.Fragment,{children:f.jsxs(ze,{path:"/",element:f.jsx(V$,{}),errorElement:f.jsx(C3,{}),children:[f.jsx(ze,{path:"/",element:f.jsx(K$,{})}),f.jsx(ze,{path:"/degrees/:grade/:year",element:f.jsx(n4,{})}),f.jsx(ze,{path:"/degrees/:grade/:year/:studentId",element:f.jsx(k3,{})}),f.jsx(ze,{path:"/ranking/:grade/:term/:year",element:f.jsx(b3,{})}),f.jsx(ze,{path:"/ranking/:grade/term_2/2025",element:f.jsx(E3,{})}),f.jsx(ze,{path:":grade/books/:term",element:f.jsx(P3,{})}),f.jsx(ze,{path:"/book/:bookId",element:f.jsx(uE,{})}),f.jsx(ze,{path:":grade/final_exams/:term",element:f.jsx(hB,{})}),f.jsx(ze,{path:"/final_exam/:examId",element:f.jsx(uE,{})}),f.jsx(ze,{path:":grade/more_resources/:term",element:f.jsx(cB,{})}),f.jsx(ze,{path:":grade/:term/more_resources/:subject",element:f.jsx(cE,{})}),f.jsx(ze,{path:"/general_subjects",element:f.jsx(fB,{})}),f.jsx(ze,{path:"/general_subjects/:subject",element:f.jsx(cE,{})}),f.jsx(ze,{path:"/test_yourself",element:f.jsx(km,{})})," ",f.jsx(ze,{path:"/test_yourself/test_result",element:f.jsx(q3,{})}),f.jsx(ze,{path:":grade/test_yourself_students/:term",element:f.jsx(H3,{})}),f.jsx(ze,{path:"/test_yourself/sended_questions",element:f.jsx(km,{})}),f.jsx(ze,{path:"/:grade/:term/:subject/test_yourself_students",element:f.jsx(km,{})}),f.jsx(ze,{path:"/:grade/send_question_selector",element:n!=null&&n.write_permission?f.jsx(W3,{}):f.jsx(Xd,{})}),f.jsx(ze,{path:"/:grade/send_question_selector/:term",element:n!=null&&n.write_permission?f.jsx(G3,{}):f.jsx(Xd,{})}),f.jsx(ze,{path:"/:grade/:term/:subject/send_question",element:n!=null&&n.write_permission?f.jsx(tB,{}):f.jsx(Xd,{})}),f.jsx(ze,{path:"/signup",element:t?f.jsx(Tb,{to:"/"}):f.jsx(Y3,{})}),f.jsx(ze,{path:"/signin",element:t?f.jsx(Tb,{to:"/"}):f.jsx(Xd,{})}),f.jsx(ze,{path:"/send_suggestion",element:f.jsx(rB,{})}),f.jsx(ze,{path:"/send_problem",element:f.jsx(iB,{})}),f.jsx(ze,{path:"/:grade/schedule",element:f.jsx(aB,{})}),f.jsx(ze,{path:"/:grade/lectures_recordings/:term",element:f.jsx(uB,{})}),f.jsx(ze,{path:"/students/:student_id",element:f.jsx(mB,{})}),f.jsx(ze,{path:"/find_student",element:f.jsx(gB,{})}),f.jsx(ze,{path:"/degrees_analytics/2025",element:f.jsx(_B,{})})]})})));return f.jsx(tV,{router:s})}Cm.createRoot(document.getElementById("root")).render(f.jsx(vB,{}));document.documentElement.setAttribute("data-bs-theme",localStorage.getItem("theme")||"light");
