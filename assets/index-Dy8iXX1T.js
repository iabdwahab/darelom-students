var _S=Object.defineProperty;var Qv=t=>{throw TypeError(t)};var ES=(t,e,n)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pc=(t,e,n)=>ES(t,typeof e!="symbol"?e+"":e,n),wS=(t,e,n)=>e.has(t)||Qv("Cannot "+n);var ke=(t,e,n)=>(wS(t,e,"read from private field"),n?n.call(t):e.get(t)),Eo=(t,e,n)=>e.has(t)?Qv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function c1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f1={exports:{}},Ef={},d1={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),AS=Symbol.for("react.portal"),xS=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),kS=Symbol.for("react.forward_ref"),bS=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),Yv=Symbol.iterator;function NS(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var p1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m1=Object.assign,g1={};function pu(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}pu.prototype.isReactComponent={};pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v1(){}v1.prototype=pu.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=g1,this.updater=n||p1}var Rm=Pm.prototype=new v1;Rm.constructor=Pm;m1(Rm,pu.prototype);Rm.isPureReactComponent=!0;var Xv=Array.isArray,y1=Object.prototype.hasOwnProperty,Nm={current:null},_1={key:!0,ref:!0,__self:!0,__source:!0};function E1(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)y1.call(e,r)&&!_1.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ec,type:t,key:s,ref:a,props:i,_owner:Nm.current}}function DS(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function FS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jv=/\/+/g;function pd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FS(""+t.key):e.toString(36)}function th(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ec:case AS:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+pd(a,0):r,Xv(i)?(n="",t!=null&&(n=t.replace(Jv,"$&/")+"/"),th(i,e,n,"",function(f){return f})):i!=null&&(Dm(i)&&(i=DS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Jv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Xv(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+pd(s,u);a+=th(s,e,n,c,i)}else if(c=NS(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+pd(s,u++),a+=th(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rc(t,e,n){if(t==null)return t;var r=[],i=0;return th(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},nh={transition:null},VS={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:nh,ReactCurrentOwner:Nm};function w1(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!Dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=pu;Je.Fragment=xS;Je.Profiler=SS;Je.PureComponent=Pm;Je.StrictMode=CS;Je.Suspense=bS;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;Je.act=w1;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m1({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Nm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)y1.call(e,c)&&!_1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:ec,type:t.type,key:i,ref:s,props:r,_owner:a}};Je.createContext=function(t){return t={$$typeof:TS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IS,_context:t},t.Consumer=t};Je.createElement=E1;Je.createFactory=function(t){var e=E1.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:kS,render:t}};Je.isValidElement=Dm;Je.lazy=function(t){return{$$typeof:RS,_payload:{_status:-1,_result:t},_init:LS}};Je.memo=function(t,e){return{$$typeof:PS,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=nh.transition;nh.transition={};try{t()}finally{nh.transition=e}};Je.unstable_act=w1;Je.useCallback=function(t,e){return sr.current.useCallback(t,e)};Je.useContext=function(t){return sr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return sr.current.useEffect(t,e)};Je.useId=function(){return sr.current.useId()};Je.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return sr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Je.useRef=function(t){return sr.current.useRef(t)};Je.useState=function(t){return sr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return sr.current.useTransition()};Je.version="18.3.1";d1.exports=Je;var W=d1.exports;const OS=h1(W),BS=c1({__proto__:null,default:OS},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=W,jS=Symbol.for("react.element"),US=Symbol.for("react.fragment"),zS=Object.prototype.hasOwnProperty,$S=MS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qS={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)zS.call(e,r)&&!qS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jS,type:t,key:s,ref:a,props:i,_owner:$S.current}}Ef.Fragment=US;Ef.jsx=A1;Ef.jsxs=A1;f1.exports=Ef;var _=f1.exports,op={},x1={exports:{}},Or={},C1={exports:{}},S1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ae,ve){var we=ae.length;ae.push(ve);e:for(;0<we;){var Ge=we-1>>>1,Ne=ae[Ge];if(0<i(Ne,ve))ae[Ge]=ve,ae[we]=Ne,we=Ge;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ve=ae[0],we=ae.pop();if(we!==ve){ae[0]=we;e:for(var Ge=0,Ne=ae.length,Qe=Ne>>>1;Ge<Qe;){var dt=2*(Ge+1)-1,St=ae[dt],Ht=dt+1,wn=ae[Ht];if(0>i(St,we))Ht<Ne&&0>i(wn,St)?(ae[Ge]=wn,ae[Ht]=we,Ge=Ht):(ae[Ge]=St,ae[dt]=we,Ge=dt);else if(Ht<Ne&&0>i(wn,we))ae[Ge]=wn,ae[Ht]=we,Ge=Ht;else break e}}return ve}function i(ae,ve){var we=ae.sortIndex-ve.sortIndex;return we!==0?we:ae.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],p=1,g=null,A=3,b=!1,F=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ae){for(var ve=n(f);ve!==null;){if(ve.callback===null)r(f);else if(ve.startTime<=ae)r(f),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=n(f)}}function q(ae){if(L=!1,P(ae),!F)if(n(c)!==null)F=!0,Bt(G);else{var ve=n(f);ve!==null&&de(q,ve.startTime-ae)}}function G(ae,ve){F=!1,L&&(L=!1,R(x),x=-1),b=!0;var we=A;try{for(P(ve),g=n(c);g!==null&&(!(g.expirationTime>ve)||ae&&!B());){var Ge=g.callback;if(typeof Ge=="function"){g.callback=null,A=g.priorityLevel;var Ne=Ge(g.expirationTime<=ve);ve=t.unstable_now(),typeof Ne=="function"?g.callback=Ne:g===n(c)&&r(c),P(ve)}else r(c);g=n(c)}if(g!==null)var Qe=!0;else{var dt=n(f);dt!==null&&de(q,dt.startTime-ve),Qe=!1}return Qe}finally{g=null,A=we,b=!1}}var d=!1,I=null,x=-1,S=5,D=-1;function B(){return!(t.unstable_now()-D<S)}function U(){if(I!==null){var ae=t.unstable_now();D=ae;var ve=!0;try{ve=I(!0,ae)}finally{ve?V():(d=!1,I=null)}}else d=!1}var V;if(typeof k=="function")V=function(){k(U)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Pt=He.port2;He.port1.onmessage=U,V=function(){Pt.postMessage(null)}}else V=function(){M(U,0)};function Bt(ae){I=ae,d||(d=!0,V())}function de(ae,ve){x=M(function(){ae(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){F||b||(F=!0,Bt(G))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var we=A;A=ve;try{return ae()}finally{A=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var we=A;A=ae;try{return ve()}finally{A=we}},t.unstable_scheduleCallback=function(ae,ve,we){var Ge=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ge+we:Ge):we=Ge,ae){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=we+Ne,ae={id:p++,callback:ve,priorityLevel:ae,startTime:we,expirationTime:Ne,sortIndex:-1},we>Ge?(ae.sortIndex=we,e(f,ae),n(c)===null&&ae===n(f)&&(L?(R(x),x=-1):L=!0,de(q,we-Ge))):(ae.sortIndex=Ne,e(c,ae),F||b||(F=!0,Bt(G))),ae},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ae){var ve=A;return function(){var we=A;A=ve;try{return ae.apply(this,arguments)}finally{A=we}}}})(S1);C1.exports=S1;var HS=C1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=W,Vr=HS;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I1=new Set,El={};function so(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(El[t]=e,t=0;t<e.length;t++)I1.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=Object.prototype.hasOwnProperty,GS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},ey={};function KS(t){return up.call(ey,t)?!0:up.call(Zv,t)?!1:GS.test(t)?ey[t]=!0:(Zv[t]=!0,!1)}function QS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YS(t,e,n,r){if(e===null||typeof e>"u"||QS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fm=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fm,Lm);Pn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fm,Lm);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fm,Lm);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vm(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YS(e,n,i,r)&&(n=null),r||i===null?KS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rs=WS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),b1=Symbol.for("react.offscreen"),ty=Symbol.iterator;function Vu(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,md;function Ku(t){if(md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);md=e&&e[1]||""}return`
`+md+t}var gd=!1;function vd(t,e){if(!t||gd)return"";gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{gd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function XS(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=vd(t.type,!1),t;case 11:return t=vd(t.type.render,!1),t;case 1:return t=vd(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Io:return"Portal";case lp:return"Profiler";case Om:return"StrictMode";case cp:return"Suspense";case hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case T1:return(t._context.displayName||"Context")+".Provider";case Bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mm:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function JS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===Om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZS(t){var e=P1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=ZS(t))}function R1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dp(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N1(t,e){e=e.checked,e!=null&&Vm(t,"checked",e,!1)}function pp(t,e){N1(t,e);var n=pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&mp(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mp(t,e,n){(e!=="number"||xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Qu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pa(n)}}function D1(t,e){var n=pa(e.value),r=pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,L1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){eI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function V1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function O1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tI=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yp(t,e){if(e){if(tI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function _p(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function jm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wp=null,Uo=null,zo=null;function ay(t){if(t=rc(t)){if(typeof wp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Sf(e),wp(t.stateNode,t.type,e))}}function B1(t){Uo?zo?zo.push(t):zo=[t]:Uo=t}function M1(){if(Uo){var t=Uo,e=zo;if(zo=Uo=null,ay(t),e)for(t=0;t<e.length;t++)ay(e[t])}}function j1(t,e){return t(e)}function U1(){}var yd=!1;function z1(t,e,n){if(yd)return t(e,n);yd=!0;try{return j1(t,e,n)}finally{yd=!1,(Uo!==null||zo!==null)&&(U1(),M1())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Ap=!1;if(Es)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{Ap=!1}function nI(t,e,n,r,i,s,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var al=!1,Ch=null,Sh=!1,xp=null,rI={onError:function(t){al=!0,Ch=t}};function iI(t,e,n,r,i,s,a,u,c){al=!1,Ch=null,nI.apply(rI,arguments)}function sI(t,e,n,r,i,s,a,u,c){if(iI.apply(this,arguments),al){if(al){var f=Ch;al=!1,Ch=null}else throw Error(re(198));Sh||(Sh=!0,xp=f)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(ao(t)!==t)throw Error(re(188))}function aI(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oy(i),t;if(s===r)return oy(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function q1(t){return t=aI(t),t!==null?H1(t):null}function H1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H1(t);if(e!==null)return e;t=t.sibling}return null}var W1=Vr.unstable_scheduleCallback,uy=Vr.unstable_cancelCallback,oI=Vr.unstable_shouldYield,uI=Vr.unstable_requestPaint,Xt=Vr.unstable_now,lI=Vr.unstable_getCurrentPriorityLevel,Um=Vr.unstable_ImmediatePriority,G1=Vr.unstable_UserBlockingPriority,Ih=Vr.unstable_NormalPriority,cI=Vr.unstable_LowPriority,K1=Vr.unstable_IdlePriority,wf=null,ji=null;function hI(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(wf,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:pI,fI=Math.log,dI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(fI(t)/dI|0)|0}var Lc=64,Vc=4194304;function Yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Yu(u):(s&=a,s!==0&&(r=Yu(s)))}else a=n&~i,a!==0?r=Yu(a):s!==0&&(r=Yu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xi(e),i=1<<n,r|=t[n],e&=~i;return r}function mI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-xi(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=mI(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Cp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q1(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function _d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=n}function vI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function Y1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X1,$m,J1,Z1,eE,Sp=!1,Oc=[],ra=null,ia=null,sa=null,xl=new Map,Cl=new Map,Ws=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&$m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _I(t,e,n,r,i){switch(e){case"focusin":return ra=Bu(ra,t,e,n,r,i),!0;case"dragenter":return ia=Bu(ia,t,e,n,r,i),!0;case"mouseover":return sa=Bu(sa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xl.set(s,Bu(xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cl.set(s,Bu(Cl.get(s)||null,t,e,n,r,i)),!0}return!1}function tE(t){var e=La(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=$1(n),e!==null){t.blockedOn=e,eE(t.priority,function(){J1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return e=rc(n),e!==null&&$m(e),t.blockedOn=n,!1;e.shift()}return!0}function cy(t,e,n){rh(t)&&n.delete(e)}function EI(){Sp=!1,ra!==null&&rh(ra)&&(ra=null),ia!==null&&rh(ia)&&(ia=null),sa!==null&&rh(sa)&&(sa=null),xl.forEach(cy),Cl.forEach(cy)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,Sp||(Sp=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,EI)))}function Sl(t){function e(i){return Mu(i,t)}if(0<Oc.length){Mu(Oc[0],t);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ra!==null&&Mu(ra,t),ia!==null&&Mu(ia,t),sa!==null&&Mu(sa,t),xl.forEach(e),Cl.forEach(e),n=0;n<Ws.length;n++)r=Ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ws.length&&(n=Ws[0],n.blockedOn===null);)tE(n),n.blockedOn===null&&Ws.shift()}var $o=Rs.ReactCurrentBatchConfig,kh=!0;function wI(t,e,n,r){var i=_t,s=$o.transition;$o.transition=null;try{_t=1,qm(t,e,n,r)}finally{_t=i,$o.transition=s}}function AI(t,e,n,r){var i=_t,s=$o.transition;$o.transition=null;try{_t=4,qm(t,e,n,r)}finally{_t=i,$o.transition=s}}function qm(t,e,n,r){if(kh){var i=Ip(t,e,n,r);if(i===null)bd(t,e,r,bh,n),ly(t,r);else if(_I(i,t,e,n,r))r.stopPropagation();else if(ly(t,r),e&4&&-1<yI.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&X1(s),s=Ip(t,e,n,r),s===null&&bd(t,e,r,bh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bd(t,e,r,null,n)}}var bh=null;function Ip(t,e,n,r){if(bh=null,t=jm(r),t=La(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bh=t,null}function nE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lI()){case Um:return 1;case G1:return 4;case Ih:case cI:return 16;case K1:return 536870912;default:return 16}default:return 16}}var Zs=null,Hm=null,ih=null;function rE(){if(ih)return ih;var t,e=Hm,n=e.length,r,i="value"in Zs?Zs.value:Zs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ih=i.slice(t,1<r?1-r:void 0)}function sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bc(){return!0}function hy(){return!1}function Br(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bc:hy,this.isPropagationStopped=hy,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),e}var mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=Br(mu),nc=$t({},mu,{view:0,detail:0}),xI=Br(nc),Ed,wd,ju,Af=$t({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ju&&(ju&&t.type==="mousemove"?(Ed=t.screenX-ju.screenX,wd=t.screenY-ju.screenY):wd=Ed=0,ju=t),Ed)},movementY:function(t){return"movementY"in t?t.movementY:wd}}),fy=Br(Af),CI=$t({},Af,{dataTransfer:0}),SI=Br(CI),II=$t({},nc,{relatedTarget:0}),Ad=Br(II),TI=$t({},mu,{animationName:0,elapsedTime:0,pseudoElement:0}),kI=Br(TI),bI=$t({},mu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PI=Br(bI),RI=$t({},mu,{data:0}),dy=Br(RI),NI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function Gm(){return LI}var VI=$t({},nc,{key:function(t){if(t.key){var e=NI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=Br(VI),BI=$t({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),py=Br(BI),MI=$t({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),jI=Br(MI),UI=$t({},mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zI=Br(UI),$I=$t({},Af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=Br($I),HI=[9,13,27,32],Km=Es&&"CompositionEvent"in window,ol=null;Es&&"documentMode"in document&&(ol=document.documentMode);var WI=Es&&"TextEvent"in window&&!ol,iE=Es&&(!Km||ol&&8<ol&&11>=ol),my=" ",gy=!1;function sE(t,e){switch(t){case"keyup":return HI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function GI(t,e){switch(t){case"compositionend":return aE(e);case"keypress":return e.which!==32?null:(gy=!0,my);case"textInput":return t=e.data,t===my&&gy?null:t;default:return null}}function KI(t,e){if(ko)return t==="compositionend"||!Km&&sE(t,e)?(t=rE(),ih=Hm=Zs=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QI[t.type]:e==="textarea"}function oE(t,e,n,r){B1(r),e=Ph(e,"onChange"),0<e.length&&(n=new Wm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Il=null;function YI(t){yE(t,0)}function xf(t){var e=Ro(t);if(R1(e))return t}function XI(t,e){if(t==="change")return e}var uE=!1;if(Es){var xd;if(Es){var Cd="oninput"in document;if(!Cd){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Cd=typeof yy.oninput=="function"}xd=Cd}else xd=!1;uE=xd&&(!document.documentMode||9<document.documentMode)}function _y(){ul&&(ul.detachEvent("onpropertychange",lE),Il=ul=null)}function lE(t){if(t.propertyName==="value"&&xf(Il)){var e=[];oE(e,Il,t,jm(t)),z1(YI,e)}}function JI(t,e,n){t==="focusin"?(_y(),ul=e,Il=n,ul.attachEvent("onpropertychange",lE)):t==="focusout"&&_y()}function ZI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xf(Il)}function eT(t,e){if(t==="click")return xf(e)}function tT(t,e){if(t==="input"||t==="change")return xf(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:nT;function Tl(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!up.call(e,i)||!Si(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,e){var n=Ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function cE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xh(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wy(n,s);var a=wy(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iT=Es&&"documentMode"in document&&11>=document.documentMode,bo=null,Tp=null,ll=null,kp=!1;function Ay(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||bo==null||bo!==xh(r)||(r=bo,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Tl(ll,r)||(ll=r,r=Ph(Tp,"onSelect"),0<r.length&&(e=new Wm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Sd={},fE={};Es&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Cf(t){if(Sd[t])return Sd[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fE)return Sd[t]=e[n];return t}var dE=Cf("animationend"),pE=Cf("animationiteration"),mE=Cf("animationstart"),gE=Cf("transitionend"),vE=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){vE.set(t,e),so(e,[t])}for(var Id=0;Id<xy.length;Id++){var Td=xy[Id],sT=Td.toLowerCase(),aT=Td[0].toUpperCase()+Td.slice(1);wa(sT,"on"+aT)}wa(dE,"onAnimationEnd");wa(pE,"onAnimationIteration");wa(mE,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(gE,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function Cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sI(r,e,void 0,t),t.currentTarget=null}function yE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Cy(i,u,f),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Cy(i,u,f),s=c}}}if(Sh)throw t=xp,Sh=!1,xp=null,t}function Dt(t,e){var n=e[Dp];n===void 0&&(n=e[Dp]=new Set);var r=t+"__bubble";n.has(r)||(_E(e,t,2,!1),n.add(r))}function kd(t,e,n){var r=0;e&&(r|=4),_E(n,t,r,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[jc]){t[jc]=!0,I1.forEach(function(n){n!=="selectionchange"&&(oT.has(n)||kd(n,!1,t),kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jc]||(e[jc]=!0,kd("selectionchange",!1,e))}}function _E(t,e,n,r){switch(nE(e)){case 1:var i=wI;break;case 4:i=AI;break;default:i=qm}n=i.bind(null,e,n,t),i=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=La(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}z1(function(){var f=s,p=jm(n),g=[];e:{var A=vE.get(t);if(A!==void 0){var b=Wm,F=t;switch(t){case"keypress":if(sh(n)===0)break e;case"keydown":case"keyup":b=OI;break;case"focusin":F="focus",b=Ad;break;case"focusout":F="blur",b=Ad;break;case"beforeblur":case"afterblur":b=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=SI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=jI;break;case dE:case pE:case mE:b=kI;break;case gE:b=zI;break;case"scroll":b=xI;break;case"wheel":b=qI;break;case"copy":case"cut":case"paste":b=PI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=py}var L=(e&4)!==0,M=!L&&t==="scroll",R=L?A!==null?A+"Capture":null:A;L=[];for(var k=f,P;k!==null;){P=k;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,R!==null&&(q=Al(k,R),q!=null&&L.push(bl(k,q,P)))),M)break;k=k.return}0<L.length&&(A=new b(A,F,null,n,p),g.push({event:A,listeners:L}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",A&&n!==Ep&&(F=n.relatedTarget||n.fromElement)&&(La(F)||F[ws]))break e;if((b||A)&&(A=p.window===p?p:(A=p.ownerDocument)?A.defaultView||A.parentWindow:window,b?(F=n.relatedTarget||n.toElement,b=f,F=F?La(F):null,F!==null&&(M=ao(F),F!==M||F.tag!==5&&F.tag!==6)&&(F=null)):(b=null,F=f),b!==F)){if(L=fy,q="onMouseLeave",R="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(L=py,q="onPointerLeave",R="onPointerEnter",k="pointer"),M=b==null?A:Ro(b),P=F==null?A:Ro(F),A=new L(q,k+"leave",b,n,p),A.target=M,A.relatedTarget=P,q=null,La(p)===f&&(L=new L(R,k+"enter",F,n,p),L.target=P,L.relatedTarget=M,q=L),M=q,b&&F)t:{for(L=b,R=F,k=0,P=L;P;P=wo(P))k++;for(P=0,q=R;q;q=wo(q))P++;for(;0<k-P;)L=wo(L),k--;for(;0<P-k;)R=wo(R),P--;for(;k--;){if(L===R||R!==null&&L===R.alternate)break t;L=wo(L),R=wo(R)}L=null}else L=null;b!==null&&Sy(g,A,b,L,!1),F!==null&&M!==null&&Sy(g,M,F,L,!0)}}e:{if(A=f?Ro(f):window,b=A.nodeName&&A.nodeName.toLowerCase(),b==="select"||b==="input"&&A.type==="file")var G=XI;else if(vy(A))if(uE)G=tT;else{G=ZI;var d=JI}else(b=A.nodeName)&&b.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(G=eT);if(G&&(G=G(t,f))){oE(g,G,n,p);break e}d&&d(t,A,f),t==="focusout"&&(d=A._wrapperState)&&d.controlled&&A.type==="number"&&mp(A,"number",A.value)}switch(d=f?Ro(f):window,t){case"focusin":(vy(d)||d.contentEditable==="true")&&(bo=d,Tp=f,ll=null);break;case"focusout":ll=Tp=bo=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,Ay(g,n,p);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Ay(g,n,p)}var I;if(Km)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ko?sE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(iE&&n.locale!=="ko"&&(ko||x!=="onCompositionStart"?x==="onCompositionEnd"&&ko&&(I=rE()):(Zs=p,Hm="value"in Zs?Zs.value:Zs.textContent,ko=!0)),d=Ph(f,x),0<d.length&&(x=new dy(x,t,null,n,p),g.push({event:x,listeners:d}),I?x.data=I:(I=aE(n),I!==null&&(x.data=I)))),(I=WI?GI(t,n):KI(t,n))&&(f=Ph(f,"onBeforeInput"),0<f.length&&(p=new dy("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=I))}yE(g,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Al(t,n),s!=null&&r.unshift(bl(t,s,i)),s=Al(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=Al(n,s),c!=null&&a.unshift(bl(n,c,u))):i||(c=Al(n,s),c!=null&&a.push(bl(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var uT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(lT,"")}function Uc(t,e,n){if(e=Iy(e),Iy(t)!==e&&n)throw Error(re(425))}function Rh(){}var bp=null,Pp=null;function Rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(fT)}:Np;function fT(t){setTimeout(function(){throw t})}function Pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function aa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Bi="__reactFiber$"+gu,Pl="__reactProps$"+gu,ws="__reactContainer$"+gu,Dp="__reactEvents$"+gu,dT="__reactListeners$"+gu,pT="__reactHandles$"+gu;function La(t){var e=t[Bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ws]||n[Bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ky(t);t!==null;){if(n=t[Bi])return n;t=ky(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[Bi]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Sf(t){return t[Pl]||null}var Fp=[],No=-1;function Aa(t){return{current:t}}function Ft(t){0>No||(t.current=Fp[No],Fp[No]=null,No--)}function bt(t,e){No++,Fp[No]=t.current,t.current=e}var ma={},Kn=Aa(ma),gr=Aa(!1),Ha=ma;function Zo(t,e){var n=t.type.contextTypes;if(!n)return ma;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vr(t){return t=t.childContextTypes,t!=null}function Nh(){Ft(gr),Ft(Kn)}function by(t,e,n){if(Kn.current!==ma)throw Error(re(168));bt(Kn,e),bt(gr,n)}function EE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,JS(t)||"Unknown",i));return $t({},n,r)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ma,Ha=Kn.current,bt(Kn,t),bt(gr,gr.current),!0}function Py(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=EE(t,e,Ha),r.__reactInternalMemoizedMergedChildContext=t,Ft(gr),Ft(Kn),bt(Kn,t)):Ft(gr),bt(gr,n)}var cs=null,If=!1,Rd=!1;function wE(t){cs===null?cs=[t]:cs.push(t)}function mT(t){If=!0,wE(t)}function xa(){if(!Rd&&cs!==null){Rd=!0;var t=0,e=_t;try{var n=cs;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cs=null,If=!1}catch(i){throw cs!==null&&(cs=cs.slice(t+1)),W1(Um,xa),i}finally{_t=e,Rd=!1}}return null}var Do=[],Fo=0,Fh=null,Lh=0,Qr=[],Yr=0,Wa=null,hs=1,fs="";function Ra(t,e){Do[Fo++]=Lh,Do[Fo++]=Fh,Fh=t,Lh=e}function AE(t,e,n){Qr[Yr++]=hs,Qr[Yr++]=fs,Qr[Yr++]=Wa,Wa=t;var r=hs;t=fs;var i=32-xi(r)-1;r&=~(1<<i),n+=1;var s=32-xi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,hs=1<<32-xi(e)+i|n<<i|r,fs=s+t}else hs=1<<s|n<<i|r,fs=t}function Ym(t){t.return!==null&&(Ra(t,1),AE(t,1,0))}function Xm(t){for(;t===Fh;)Fh=Do[--Fo],Do[Fo]=null,Lh=Do[--Fo],Do[Fo]=null;for(;t===Wa;)Wa=Qr[--Yr],Qr[Yr]=null,fs=Qr[--Yr],Qr[Yr]=null,hs=Qr[--Yr],Qr[Yr]=null}var Dr=null,Nr=null,Vt=!1,wi=null;function xE(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ry(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dr=t,Nr=aa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wa!==null?{id:hs,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dr=t,Nr=null,!0):!1;default:return!1}}function Lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vp(t){if(Vt){var e=Nr;if(e){var n=e;if(!Ry(t,e)){if(Lp(t))throw Error(re(418));e=aa(n.nextSibling);var r=Dr;e&&Ry(t,e)?xE(r,n):(t.flags=t.flags&-4097|2,Vt=!1,Dr=t)}}else{if(Lp(t))throw Error(re(418));t.flags=t.flags&-4097|2,Vt=!1,Dr=t}}}function Ny(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function zc(t){if(t!==Dr)return!1;if(!Vt)return Ny(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rp(t.type,t.memoizedProps)),e&&(e=Nr)){if(Lp(t))throw CE(),Error(re(418));for(;e;)xE(t,e),e=aa(e.nextSibling)}if(Ny(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nr=aa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=Dr?aa(t.stateNode.nextSibling):null;return!0}function CE(){for(var t=Nr;t;)t=aa(t.nextSibling)}function eu(){Nr=Dr=null,Vt=!1}function Jm(t){wi===null?wi=[t]:wi.push(t)}var gT=Rs.ReactCurrentBatchConfig;function Uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function $c(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dy(t){var e=t._init;return e(t._payload)}function SE(t){function e(R,k){if(t){var P=R.deletions;P===null?(R.deletions=[k],R.flags|=16):P.push(k)}}function n(R,k){if(!t)return null;for(;k!==null;)e(R,k),k=k.sibling;return null}function r(R,k){for(R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function i(R,k){return R=ca(R,k),R.index=0,R.sibling=null,R}function s(R,k,P){return R.index=P,t?(P=R.alternate,P!==null?(P=P.index,P<k?(R.flags|=2,k):P):(R.flags|=2,k)):(R.flags|=1048576,k)}function a(R){return t&&R.alternate===null&&(R.flags|=2),R}function u(R,k,P,q){return k===null||k.tag!==6?(k=Bd(P,R.mode,q),k.return=R,k):(k=i(k,P),k.return=R,k)}function c(R,k,P,q){var G=P.type;return G===To?p(R,k,P.props.children,q,P.key):k!==null&&(k.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===qs&&Dy(G)===k.type)?(q=i(k,P.props),q.ref=Uu(R,k,P),q.return=R,q):(q=fh(P.type,P.key,P.props,null,R.mode,q),q.ref=Uu(R,k,P),q.return=R,q)}function f(R,k,P,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Md(P,R.mode,q),k.return=R,k):(k=i(k,P.children||[]),k.return=R,k)}function p(R,k,P,q,G){return k===null||k.tag!==7?(k=$a(P,R.mode,q,G),k.return=R,k):(k=i(k,P),k.return=R,k)}function g(R,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Bd(""+k,R.mode,P),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Nc:return P=fh(k.type,k.key,k.props,null,R.mode,P),P.ref=Uu(R,null,k),P.return=R,P;case Io:return k=Md(k,R.mode,P),k.return=R,k;case qs:var q=k._init;return g(R,q(k._payload),P)}if(Qu(k)||Vu(k))return k=$a(k,R.mode,P,null),k.return=R,k;$c(R,k)}return null}function A(R,k,P,q){var G=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return G!==null?null:u(R,k,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:return P.key===G?c(R,k,P,q):null;case Io:return P.key===G?f(R,k,P,q):null;case qs:return G=P._init,A(R,k,G(P._payload),q)}if(Qu(P)||Vu(P))return G!==null?null:p(R,k,P,q,null);$c(R,P)}return null}function b(R,k,P,q,G){if(typeof q=="string"&&q!==""||typeof q=="number")return R=R.get(P)||null,u(k,R,""+q,G);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Nc:return R=R.get(q.key===null?P:q.key)||null,c(k,R,q,G);case Io:return R=R.get(q.key===null?P:q.key)||null,f(k,R,q,G);case qs:var d=q._init;return b(R,k,P,d(q._payload),G)}if(Qu(q)||Vu(q))return R=R.get(P)||null,p(k,R,q,G,null);$c(k,q)}return null}function F(R,k,P,q){for(var G=null,d=null,I=k,x=k=0,S=null;I!==null&&x<P.length;x++){I.index>x?(S=I,I=null):S=I.sibling;var D=A(R,I,P[x],q);if(D===null){I===null&&(I=S);break}t&&I&&D.alternate===null&&e(R,I),k=s(D,k,x),d===null?G=D:d.sibling=D,d=D,I=S}if(x===P.length)return n(R,I),Vt&&Ra(R,x),G;if(I===null){for(;x<P.length;x++)I=g(R,P[x],q),I!==null&&(k=s(I,k,x),d===null?G=I:d.sibling=I,d=I);return Vt&&Ra(R,x),G}for(I=r(R,I);x<P.length;x++)S=b(I,R,x,P[x],q),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?x:S.key),k=s(S,k,x),d===null?G=S:d.sibling=S,d=S);return t&&I.forEach(function(B){return e(R,B)}),Vt&&Ra(R,x),G}function L(R,k,P,q){var G=Vu(P);if(typeof G!="function")throw Error(re(150));if(P=G.call(P),P==null)throw Error(re(151));for(var d=G=null,I=k,x=k=0,S=null,D=P.next();I!==null&&!D.done;x++,D=P.next()){I.index>x?(S=I,I=null):S=I.sibling;var B=A(R,I,D.value,q);if(B===null){I===null&&(I=S);break}t&&I&&B.alternate===null&&e(R,I),k=s(B,k,x),d===null?G=B:d.sibling=B,d=B,I=S}if(D.done)return n(R,I),Vt&&Ra(R,x),G;if(I===null){for(;!D.done;x++,D=P.next())D=g(R,D.value,q),D!==null&&(k=s(D,k,x),d===null?G=D:d.sibling=D,d=D);return Vt&&Ra(R,x),G}for(I=r(R,I);!D.done;x++,D=P.next())D=b(I,R,x,D.value,q),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?x:D.key),k=s(D,k,x),d===null?G=D:d.sibling=D,d=D);return t&&I.forEach(function(U){return e(R,U)}),Vt&&Ra(R,x),G}function M(R,k,P,q){if(typeof P=="object"&&P!==null&&P.type===To&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:e:{for(var G=P.key,d=k;d!==null;){if(d.key===G){if(G=P.type,G===To){if(d.tag===7){n(R,d.sibling),k=i(d,P.props.children),k.return=R,R=k;break e}}else if(d.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===qs&&Dy(G)===d.type){n(R,d.sibling),k=i(d,P.props),k.ref=Uu(R,d,P),k.return=R,R=k;break e}n(R,d);break}else e(R,d);d=d.sibling}P.type===To?(k=$a(P.props.children,R.mode,q,P.key),k.return=R,R=k):(q=fh(P.type,P.key,P.props,null,R.mode,q),q.ref=Uu(R,k,P),q.return=R,R=q)}return a(R);case Io:e:{for(d=P.key;k!==null;){if(k.key===d)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){n(R,k.sibling),k=i(k,P.children||[]),k.return=R,R=k;break e}else{n(R,k);break}else e(R,k);k=k.sibling}k=Md(P,R.mode,q),k.return=R,R=k}return a(R);case qs:return d=P._init,M(R,k,d(P._payload),q)}if(Qu(P))return F(R,k,P,q);if(Vu(P))return L(R,k,P,q);$c(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(n(R,k.sibling),k=i(k,P),k.return=R,R=k):(n(R,k),k=Bd(P,R.mode,q),k.return=R,R=k),a(R)):n(R,k)}return M}var tu=SE(!0),IE=SE(!1),Vh=Aa(null),Oh=null,Lo=null,Zm=null;function eg(){Zm=Lo=Oh=null}function tg(t){var e=Vh.current;Ft(Vh),t._currentValue=e}function Op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Oh=t,Zm=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(Zm!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Oh===null)throw Error(re(308));Lo=t,Oh.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Va=null;function ng(t){Va===null?Va=[t]:Va.push(t)}function TE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hs=!1;function rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,As(t,n)}return i=r.interleaved,i===null?(e.next=e,ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,As(t,n)}function ah(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}function Fy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bh(t,e,n,r){var i=t.updateQueue;Hs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=f=c=null,u=s;do{var A=u.lane,b=u.eventTime;if((r&A)===A){p!==null&&(p=p.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var F=t,L=u;switch(A=e,b=n,L.tag){case 1:if(F=L.payload,typeof F=="function"){g=F.call(b,g,A);break e}g=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=L.payload,A=typeof F=="function"?F.call(b,g,A):F,A==null)break e;g=$t({},g,A);break e;case 2:Hs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[u]:A.push(u))}else b={eventTime:b,lane:A,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=b,c=g):p=p.next=b,a|=A;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;A=u,u=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ka|=a,t.lanes=a,t.memoizedState=g}}function Ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var ic={},Ui=Aa(ic),Rl=Aa(ic),Nl=Aa(ic);function Oa(t){if(t===ic)throw Error(re(174));return t}function ig(t,e){switch(bt(Nl,e),bt(Rl,t),bt(Ui,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vp(e,t)}Ft(Ui),bt(Ui,e)}function nu(){Ft(Ui),Ft(Rl),Ft(Nl)}function bE(t){Oa(Nl.current);var e=Oa(Ui.current),n=vp(e,t.type);e!==n&&(bt(Rl,t),bt(Ui,n))}function sg(t){Rl.current===t&&(Ft(Ui),Ft(Rl))}var Ut=Aa(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function ag(){for(var t=0;t<Nd.length;t++)Nd[t]._workInProgressVersionPrimary=null;Nd.length=0}var oh=Rs.ReactCurrentDispatcher,Dd=Rs.ReactCurrentBatchConfig,Ga=0,zt=null,ln=null,yn=null,jh=!1,cl=!1,Dl=0,vT=0;function zn(){throw Error(re(321))}function og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Si(t[n],e[n]))return!1;return!0}function ug(t,e,n,r,i,s){if(Ga=s,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oh.current=t===null||t.memoizedState===null?wT:AT,t=n(r,i),cl){s=0;do{if(cl=!1,Dl=0,25<=s)throw Error(re(301));s+=1,yn=ln=null,e.updateQueue=null,oh.current=xT,t=n(r,i)}while(cl)}if(oh.current=Uh,e=ln!==null&&ln.next!==null,Ga=0,yn=ln=zt=null,jh=!1,e)throw Error(re(300));return t}function lg(){var t=Dl!==0;return Dl=0,t}function Oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?zt.memoizedState=yn=t:yn=yn.next=t,yn}function ii(){if(ln===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=yn===null?zt.memoizedState:yn.next;if(e!==null)yn=e,ln=t;else{if(t===null)throw Error(re(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?zt.memoizedState=yn=t:yn=yn.next=t}return yn}function Fl(t,e){return typeof e=="function"?e(t):e}function Fd(t){var e=ii(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,f=s;do{var p=f.lane;if((Ga&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,a=r):c=c.next=g,zt.lanes|=p,Ka|=p}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=u,Si(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zt.lanes|=s,Ka|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ld(t){var e=ii(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Si(s,e.memoizedState)||(mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PE(){}function RE(t,e){var n=zt,r=ii(),i=e(),s=!Si(r.memoizedState,i);if(s&&(r.memoizedState=i,mr=!0),r=r.queue,cg(FE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,Ll(9,DE.bind(null,n,r,i,e),void 0,null),_n===null)throw Error(re(349));Ga&30||NE(n,e,i)}return i}function NE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DE(t,e,n,r){e.value=n,e.getSnapshot=r,LE(e)&&VE(t)}function FE(t,e,n){return n(function(){LE(e)&&VE(t)})}function LE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Si(t,n)}catch{return!0}}function VE(t){var e=As(t,1);e!==null&&Ci(e,t,1,-1)}function Vy(t){var e=Oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=ET.bind(null,zt,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OE(){return ii().memoizedState}function uh(t,e,n,r){var i=Oi();zt.flags|=t,i.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function Tf(t,e,n,r){var i=ii();r=r===void 0?null:r;var s=void 0;if(ln!==null){var a=ln.memoizedState;if(s=a.destroy,r!==null&&og(r,a.deps)){i.memoizedState=Ll(e,n,s,r);return}}zt.flags|=t,i.memoizedState=Ll(1|e,n,s,r)}function Oy(t,e){return uh(8390656,8,t,e)}function cg(t,e){return Tf(2048,8,t,e)}function BE(t,e){return Tf(4,2,t,e)}function ME(t,e){return Tf(4,4,t,e)}function jE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UE(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4,4,jE.bind(null,e,t),n)}function hg(){}function zE(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $E(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qE(t,e,n){return Ga&21?(Si(n,e)||(n=Q1(),zt.lanes|=n,Ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=n)}function yT(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{_t=n,Dd.transition=r}}function HE(){return ii().memoizedState}function _T(t,e,n){var r=la(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WE(t))GE(e,n);else if(n=TE(t,e,n,r),n!==null){var i=ir();Ci(n,t,r,i),KE(n,e,r)}}function ET(t,e,n){var r=la(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WE(t))GE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Si(u,a)){var c=e.interleaved;c===null?(i.next=i,ng(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=TE(t,e,i,r),n!==null&&(i=ir(),Ci(n,t,r,i),KE(n,e,r))}}function WE(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function GE(t,e){cl=jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}var Uh={readContext:ri,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},wT={readContext:ri,useCallback:function(t,e){return Oi().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:Oy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uh(4194308,4,jE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return uh(4,2,t,e)},useMemo:function(t,e){var n=Oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Oi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_T.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=Oi();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:hg,useDeferredValue:function(t){return Oi().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=yT.bind(null,t[1]),Oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,i=Oi();if(Vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),_n===null)throw Error(re(349));Ga&30||NE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Oy(FE.bind(null,r,s,t),[t]),r.flags|=2048,Ll(9,DE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Oi(),e=_n.identifierPrefix;if(Vt){var n=fs,r=hs;n=(r&~(1<<32-xi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AT={readContext:ri,useCallback:zE,useContext:ri,useEffect:cg,useImperativeHandle:UE,useInsertionEffect:BE,useLayoutEffect:ME,useMemo:$E,useReducer:Fd,useRef:OE,useState:function(){return Fd(Fl)},useDebugValue:hg,useDeferredValue:function(t){var e=ii();return qE(e,ln.memoizedState,t)},useTransition:function(){var t=Fd(Fl)[0],e=ii().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:RE,useId:HE,unstable_isNewReconciler:!1},xT={readContext:ri,useCallback:zE,useContext:ri,useEffect:cg,useImperativeHandle:UE,useInsertionEffect:BE,useLayoutEffect:ME,useMemo:$E,useReducer:Ld,useRef:OE,useState:function(){return Ld(Fl)},useDebugValue:hg,useDeferredValue:function(t){var e=ii();return ln===null?e.memoizedState=t:qE(e,ln.memoizedState,t)},useTransition:function(){var t=Ld(Fl)[0],e=ii().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:RE,useId:HE,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kf={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=la(t),s=vs(r,i);s.payload=e,n!=null&&(s.callback=n),e=oa(t,s,i),e!==null&&(Ci(e,t,i,r),ah(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=la(t),s=vs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oa(t,s,i),e!==null&&(Ci(e,t,i,r),ah(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=la(t),i=vs(n,r);i.tag=2,e!=null&&(i.callback=e),e=oa(t,i,r),e!==null&&(Ci(e,t,r,n),ah(e,t,r))}};function By(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function QE(t,e,n){var r=!1,i=ma,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=vr(e)?Ha:Kn.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):ma),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function My(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kf.enqueueReplaceState(e,e.state,null)}function Mp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=vr(e)?Ha:Kn.current,i.context=Zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kf.enqueueReplaceState(i,i.state,null),Bh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ru(t,e){try{var n="",r=e;do n+=XS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function YE(t,e,n){n=vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$h||($h=!0,Yp=r),jp(t,e)},n}function XE(t,e,n){n=vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jp(t,e),typeof r!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BT.bind(null,t,e,n),e.then(t,t))}function Uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vs(-1,1),e.tag=2,oa(n,e,1))),n.lanes|=1),t)}var ST=Rs.ReactCurrentOwner,mr=!1;function rr(t,e,n,r){e.child=t===null?IE(e,null,n,r):tu(e,t.child,n,r)}function $y(t,e,n,r,i){n=n.render;var s=e.ref;return qo(e,i),r=ug(t,e,n,r,s,i),n=lg(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Vt&&n&&Ym(e),e.flags|=1,rr(t,e,r,i),e.child)}function qy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_g(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JE(t,e,s,r,i)):(t=fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(a,r)&&t.ref===e.ref)return xs(t,e,i)}return e.flags|=1,t=ca(s,r),t.ref=e.ref,t.return=e,e.child=t}function JE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,r)&&t.ref===e.ref)if(mr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,xs(t,e,i)}return Up(t,e,n,r,i)}function ZE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Oo,br),br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(Oo,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bt(Oo,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bt(Oo,br),br|=r;return rr(t,e,i,n),e.child}function ew(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Up(t,e,n,r,i){var s=vr(n)?Ha:Kn.current;return s=Zo(e,s),qo(e,i),n=ug(t,e,n,r,s,i),r=lg(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Vt&&r&&Ym(e),e.flags|=1,rr(t,e,n,i),e.child)}function Hy(t,e,n,r,i){if(vr(n)){var s=!0;Dh(e)}else s=!1;if(qo(e,i),e.stateNode===null)lh(t,e),QE(e,n,r),Mp(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=ri(f):(f=vr(n)?Ha:Kn.current,f=Zo(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==f)&&My(e,a,r,f),Hs=!1;var A=e.memoizedState;a.state=A,Bh(e,r,a,i),c=e.memoizedState,u!==r||A!==c||gr.current||Hs?(typeof p=="function"&&(Bp(e,n,p,r),c=e.memoizedState),(u=Hs||By(e,n,u,r,A,c,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,kE(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:yi(e.type,u),a.props=f,g=e.pendingProps,A=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ri(c):(c=vr(n)?Ha:Kn.current,c=Zo(e,c));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||A!==c)&&My(e,a,r,c),Hs=!1,A=e.memoizedState,a.state=A,Bh(e,r,a,i);var F=e.memoizedState;u!==g||A!==F||gr.current||Hs?(typeof b=="function"&&(Bp(e,n,b,r),F=e.memoizedState),(f=Hs||By(e,n,f,r,A,F,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,F,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,F,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=F),a.props=r,a.state=F,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),r=!1)}return zp(t,e,n,r,s,i)}function zp(t,e,n,r,i,s){ew(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Py(e,n,!1),xs(t,e,s);r=e.stateNode,ST.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=tu(e,t.child,null,s),e.child=tu(e,null,u,s)):rr(t,e,u,s),e.memoizedState=r.state,i&&Py(e,n,!0),e.child}function tw(t){var e=t.stateNode;e.pendingContext?by(t,e.pendingContext,e.pendingContext!==e.context):e.context&&by(t,e.context,!1),ig(t,e.containerInfo)}function Wy(t,e,n,r,i){return eu(),Jm(i),e.flags|=256,rr(t,e,n,r),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function nw(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Ut,i&1),t===null)return Vp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rf(a,r,0,null),t=$a(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qp(n),e.memoizedState=$p,t):fg(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return IT(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ca(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ca(u,s):(s=$a(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?qp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=$p,r}return s=t.child,t=s.sibling,r=ca(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fg(t,e){return e=Rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&Jm(r),tu(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IT(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Vd(Error(re(422))),qc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rf({mode:"visible",children:r.children},i,0,null),s=$a(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&tu(e,t.child,null,a),e.child.memoizedState=qp(a),e.memoizedState=$p,s);if(!(e.mode&1))return qc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(re(419)),r=Vd(s,r,void 0),qc(t,e,a,r)}if(u=(a&t.childLanes)!==0,mr||u){if(r=_n,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(t,i),Ci(r,t,i,-1))}return yg(),r=Vd(Error(re(421))),qc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nr=aa(i.nextSibling),Dr=e,Vt=!0,wi=null,t!==null&&(Qr[Yr++]=hs,Qr[Yr++]=fs,Qr[Yr++]=Wa,hs=t.id,fs=t.overflow,Wa=e),e=fg(e,r.children),e.flags|=4096,e)}function Gy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Op(t.return,e,n)}function Od(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rr(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,n,e);else if(t.tag===19)Gy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Od(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Od(e,!0,n,null,s);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ca(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ca(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:tw(e),eu();break;case 5:bE(e);break;case 1:vr(e.type)&&Dh(e);break;case 4:ig(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bt(Vh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?nw(t,e,n):(bt(Ut,Ut.current&1),t=xs(t,e,n),t!==null?t.sibling:null);bt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,ZE(t,e,n)}return xs(t,e,n)}var iw,Hp,sw,aw;iw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hp=function(){};sw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oa(Ui.current);var s=null;switch(n){case"input":i=dp(t,i),r=dp(t,r),s=[];break;case"select":i=$t({},i,{value:void 0}),r=$t({},r,{value:void 0}),s=[];break;case"textarea":i=gp(t,i),r=gp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}yp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(El.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(El.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Dt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};aw=function(t,e,n,r){n!==r&&(e.flags|=4)};function zu(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kT(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return vr(e.type)&&Nh(),$n(e),null;case 3:return r=e.stateNode,nu(),Ft(gr),Ft(Kn),ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wi!==null&&(Zp(wi),wi=null))),Hp(t,e),$n(e),null;case 5:sg(e);var i=Oa(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)sw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return $n(e),null}if(t=Oa(Ui.current),zc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bi]=e,r[Pl]=s,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Xu.length;i++)Dt(Xu[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":ny(r,s),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dt("invalid",r);break;case"textarea":iy(r,s),Dt("invalid",r)}yp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,u,t),i=["children",""+u]):El.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":Dc(r),ry(r,s,!0);break;case"textarea":Dc(r),sy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Bi]=e,t[Pl]=r,iw(t,e,!1,!1),e.stateNode=t;e:{switch(a=_p(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xu.length;i++)Dt(Xu[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":ny(t,r),i=dp(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$t({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":iy(t,r),i=gp(t,r),Dt("invalid",t);break;default:i=r}yp(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?O1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wl(t,c):typeof c=="number"&&wl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Dt("scroll",t):c!=null&&Vm(t,s,c,a))}switch(n){case"input":Dc(t),ry(t,r,!1);break;case"textarea":Dc(t),sy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)aw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Oa(Nl.current),Oa(Ui.current),zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bi]=e,(s=r.nodeValue!==n)&&(t=Dr,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=e,e.stateNode=r}return $n(e),null;case 13:if(Ft(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Nr!==null&&e.mode&1&&!(e.flags&128))CE(),eu(),e.flags|=98560,s=!1;else if(s=zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Bi]=e}else eu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else wi!==null&&(Zp(wi),wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?cn===0&&(cn=3):yg())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return nu(),Hp(t,e),t===null&&kl(e.stateNode.containerInfo),$n(e),null;case 10:return tg(e.type._context),$n(e),null;case 17:return vr(e.type)&&Nh(),$n(e),null;case 19:if(Ft(Ut),s=e.memoizedState,s===null)return $n(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)zu(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mh(t),a!==null){for(e.flags|=128,zu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>iu&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Vt)return $n(e),null}else 2*Xt()-s.renderingStartTime>iu&&n!==1073741824&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=Ut.current,bt(Ut,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function bT(t,e){switch(Xm(e),e.tag){case 1:return vr(e.type)&&Nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nu(),Ft(gr),Ft(Kn),ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sg(e),null;case 13:if(Ft(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));eu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Ut),null;case 4:return nu(),null;case 10:return tg(e.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var Hc=!1,Wn=!1,PT=typeof WeakSet=="function"?WeakSet:Set,me=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function Wp(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var Ky=!1;function RT(t,e){if(bp=kh,t=hE(),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,p=0,g=t,A=null;t:for(;;){for(var b;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(b=g.firstChild)!==null;)A=g,g=b;for(;;){if(g===t)break t;if(A===n&&++f===i&&(u=a),A===s&&++p===r&&(c=a),(b=g.nextSibling)!==null)break;g=A,A=g.parentNode}g=b}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pp={focusedElem:t,selectionRange:n},kh=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var F=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var L=F.memoizedProps,M=F.memoizedState,R=e.stateNode,k=R.getSnapshotBeforeUpdate(e.elementType===e.type?L:yi(e.type,L),M);R.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(q){Gt(e,e.return,q)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return F=Ky,Ky=!1,F}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wp(e,n,s)}i=i.next}while(i!==r)}}function bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ow(t){var e=t.alternate;e!==null&&(t.alternate=null,ow(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[Pl],delete e[Dp],delete e[dT],delete e[pT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uw(t){return t.tag===5||t.tag===3||t.tag===4}function Qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(Kp(t,e,n),t=t.sibling;t!==null;)Kp(t,e,n),t=t.sibling}function Qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}var Sn=null,_i=!1;function js(t,e,n){for(n=n.child;n!==null;)lw(t,e,n),n=n.sibling}function lw(t,e,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(wf,n)}catch{}switch(n.tag){case 5:Wn||Vo(n,e);case 6:var r=Sn,i=_i;Sn=null,js(t,e,n),Sn=r,_i=i,Sn!==null&&(_i?(t=Sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(_i?(t=Sn,n=n.stateNode,t.nodeType===8?Pd(t.parentNode,n):t.nodeType===1&&Pd(t,n),Sl(t)):Pd(Sn,n.stateNode));break;case 4:r=Sn,i=_i,Sn=n.stateNode.containerInfo,_i=!0,js(t,e,n),Sn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Wp(n,e,a),i=i.next}while(i!==r)}js(t,e,n);break;case 1:if(!Wn&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Gt(n,e,u)}js(t,e,n);break;case 21:js(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,js(t,e,n),Wn=r):js(t,e,n);break;default:js(t,e,n)}}function Yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PT),e.forEach(function(r){var i=jT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Sn=u.stateNode,_i=!1;break e;case 3:Sn=u.stateNode.containerInfo,_i=!0;break e;case 4:Sn=u.stateNode.containerInfo,_i=!0;break e}u=u.return}if(Sn===null)throw Error(re(160));lw(s,a,i),Sn=null,_i=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){Gt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cw(e,t),e=e.sibling}function cw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gi(e,t),Vi(t),r&4){try{hl(3,t,t.return),bf(3,t)}catch(L){Gt(t,t.return,L)}try{hl(5,t,t.return)}catch(L){Gt(t,t.return,L)}}break;case 1:gi(e,t),Vi(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(gi(e,t),Vi(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(L){Gt(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&N1(i,s),_p(u,a);var f=_p(u,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?O1(i,g):p==="dangerouslySetInnerHTML"?L1(i,g):p==="children"?wl(i,g):Vm(i,p,g,f)}switch(u){case"input":pp(i,s);break;case"textarea":D1(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?jo(i,!!s.multiple,b,!1):A!==!!s.multiple&&(s.defaultValue!=null?jo(i,!!s.multiple,s.defaultValue,!0):jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pl]=s}catch(L){Gt(t,t.return,L)}}break;case 6:if(gi(e,t),Vi(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(L){Gt(t,t.return,L)}}break;case 3:if(gi(e,t),Vi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(L){Gt(t,t.return,L)}break;case 4:gi(e,t),Vi(t);break;case 13:gi(e,t),Vi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mg=Xt())),r&4&&Yy(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(f=Wn)||p,gi(e,t),Wn=f):gi(e,t),Vi(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(me=t,p=t.child;p!==null;){for(g=me=p;me!==null;){switch(A=me,b=A.child,A.tag){case 0:case 11:case 14:case 15:hl(4,A,A.return);break;case 1:Vo(A,A.return);var F=A.stateNode;if(typeof F.componentWillUnmount=="function"){r=A,n=A.return;try{e=r,F.props=e.memoizedProps,F.state=e.memoizedState,F.componentWillUnmount()}catch(L){Gt(r,n,L)}}break;case 5:Vo(A,A.return);break;case 22:if(A.memoizedState!==null){Jy(g);continue}}b!==null?(b.return=A,me=b):Jy(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=V1("display",a))}catch(L){Gt(t,t.return,L)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(L){Gt(t,t.return,L)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:gi(e,t),Vi(t),r&4&&Yy(t);break;case 21:break;default:gi(e,t),Vi(t)}}function Vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uw(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=Qy(t);Qp(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=Qy(t);Kp(t,u,a);break;default:throw Error(re(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NT(t,e,n){me=t,hw(t)}function hw(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hc;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Wn;u=Hc;var f=Wn;if(Hc=a,(Wn=c)&&!f)for(me=i;me!==null;)a=me,c=a.child,a.tag===22&&a.memoizedState!==null?Zy(i):c!==null?(c.return=a,me=c):Zy(i);for(;s!==null;)me=s,hw(s),s=s.sibling;me=i,Hc=u,Wn=f}Xy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):Xy(t)}}function Xy(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ly(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ly(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Sl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Wn||e.flags&512&&Gp(e)}catch(A){Gt(e,e.return,A)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function Jy(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function Zy(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bf(4,e)}catch(c){Gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Gt(e,i,c)}}var s=e.return;try{Gp(e)}catch(c){Gt(e,s,c)}break;case 5:var a=e.return;try{Gp(e)}catch(c){Gt(e,a,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){me=null;break}var u=e.sibling;if(u!==null){u.return=e.return,me=u;break}me=e.return}}var DT=Math.ceil,zh=Rs.ReactCurrentDispatcher,dg=Rs.ReactCurrentOwner,ti=Rs.ReactCurrentBatchConfig,lt=0,_n=null,nn=null,kn=0,br=0,Oo=Aa(0),cn=0,Vl=null,Ka=0,Pf=0,pg=0,fl=null,pr=null,mg=0,iu=1/0,ls=null,$h=!1,Yp=null,ua=null,Wc=!1,ea=null,qh=0,dl=0,Xp=null,ch=-1,hh=0;function ir(){return lt&6?Xt():ch!==-1?ch:ch=Xt()}function la(t){return t.mode&1?lt&2&&kn!==0?kn&-kn:gT.transition!==null?(hh===0&&(hh=Q1()),hh):(t=_t,t!==0||(t=window.event,t=t===void 0?16:nE(t.type)),t):1}function Ci(t,e,n,r){if(50<dl)throw dl=0,Xp=null,Error(re(185));tc(t,n,r),(!(lt&2)||t!==_n)&&(t===_n&&(!(lt&2)&&(Pf|=n),cn===4&&Gs(t,kn)),yr(t,r),n===1&&lt===0&&!(e.mode&1)&&(iu=Xt()+500,If&&xa()))}function yr(t,e){var n=t.callbackNode;gI(t,e);var r=Th(t,t===_n?kn:0);if(r===0)n!==null&&uy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uy(n),e===1)t.tag===0?mT(e0.bind(null,t)):wE(e0.bind(null,t)),hT(function(){!(lt&6)&&xa()}),n=null;else{switch(Y1(r)){case 1:n=Um;break;case 4:n=G1;break;case 16:n=Ih;break;case 536870912:n=K1;break;default:n=Ih}n=_w(n,fw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fw(t,e){if(ch=-1,hh=0,lt&6)throw Error(re(327));var n=t.callbackNode;if(Ho()&&t.callbackNode!==n)return null;var r=Th(t,t===_n?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hh(t,r);else{e=r;var i=lt;lt|=2;var s=pw();(_n!==t||kn!==e)&&(ls=null,iu=Xt()+500,za(t,e));do try{VT();break}catch(u){dw(t,u)}while(!0);eg(),zh.current=s,lt=i,nn!==null?e=0:(_n=null,kn=0,e=cn)}if(e!==0){if(e===2&&(i=Cp(t),i!==0&&(r=i,e=Jp(t,i))),e===1)throw n=Vl,za(t,0),Gs(t,r),yr(t,Xt()),n;if(e===6)Gs(t,r);else{if(i=t.current.alternate,!(r&30)&&!FT(i)&&(e=Hh(t,r),e===2&&(s=Cp(t),s!==0&&(r=s,e=Jp(t,s))),e===1))throw n=Vl,za(t,0),Gs(t,r),yr(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Na(t,pr,ls);break;case 3:if(Gs(t,r),(r&130023424)===r&&(e=mg+500-Xt(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Np(Na.bind(null,t,pr,ls),e);break}Na(t,pr,ls);break;case 4:if(Gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-xi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DT(r/1960))-r,10<r){t.timeoutHandle=Np(Na.bind(null,t,pr,ls),r);break}Na(t,pr,ls);break;case 5:Na(t,pr,ls);break;default:throw Error(re(329))}}}return yr(t,Xt()),t.callbackNode===n?fw.bind(null,t):null}function Jp(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=Hh(t,e),t!==2&&(e=pr,pr=n,e!==null&&Zp(e)),t}function Zp(t){pr===null?pr=t:pr.push.apply(pr,t)}function FT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Si(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e){for(e&=~pg,e&=~Pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xi(e),r=1<<n;t[n]=-1,e&=~r}}function e0(t){if(lt&6)throw Error(re(327));Ho();var e=Th(t,0);if(!(e&1))return yr(t,Xt()),null;var n=Hh(t,e);if(t.tag!==0&&n===2){var r=Cp(t);r!==0&&(e=r,n=Jp(t,r))}if(n===1)throw n=Vl,za(t,0),Gs(t,e),yr(t,Xt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,pr,ls),yr(t,Xt()),null}function gg(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(iu=Xt()+500,If&&xa())}}function Qa(t){ea!==null&&ea.tag===0&&!(lt&6)&&Ho();var e=lt;lt|=1;var n=ti.transition,r=_t;try{if(ti.transition=null,_t=1,t)return t()}finally{_t=r,ti.transition=n,lt=e,!(lt&6)&&xa()}}function vg(){br=Oo.current,Ft(Oo)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cT(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:nu(),Ft(gr),Ft(Kn),ag();break;case 5:sg(r);break;case 4:nu();break;case 13:Ft(Ut);break;case 19:Ft(Ut);break;case 10:tg(r.type._context);break;case 22:case 23:vg()}n=n.return}if(_n=t,nn=t=ca(t.current,null),kn=br=e,cn=0,Vl=null,pg=Pf=Ka=0,pr=fl=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Va=null}return t}function dw(t,e){do{var n=nn;try{if(eg(),oh.current=Uh,jh){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jh=!1}if(Ga=0,yn=ln=zt=null,cl=!1,Dl=0,dg.current=null,n===null||n.return===null){cn=1,Vl=e,nn=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=kn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=u,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var A=p.alternate;A?(p.updateQueue=A.updateQueue,p.memoizedState=A.memoizedState,p.lanes=A.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=Uy(a);if(b!==null){b.flags&=-257,zy(b,a,u,s,e),b.mode&1&&jy(s,f,e),e=b,c=f;var F=e.updateQueue;if(F===null){var L=new Set;L.add(c),e.updateQueue=L}else F.add(c);break e}else{if(!(e&1)){jy(s,f,e),yg();break e}c=Error(re(426))}}else if(Vt&&u.mode&1){var M=Uy(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),zy(M,a,u,s,e),Jm(ru(c,u));break e}}s=c=ru(c,u),cn!==4&&(cn=2),fl===null?fl=[s]:fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=YE(s,c,e);Fy(s,R);break e;case 1:u=c;var k=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ua===null||!ua.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var q=XE(s,u,e);Fy(s,q);break e}}s=s.return}while(s!==null)}gw(n)}catch(G){e=G,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function pw(){var t=zh.current;return zh.current=Uh,t===null?Uh:t}function yg(){(cn===0||cn===3||cn===2)&&(cn=4),_n===null||!(Ka&268435455)&&!(Pf&268435455)||Gs(_n,kn)}function Hh(t,e){var n=lt;lt|=2;var r=pw();(_n!==t||kn!==e)&&(ls=null,za(t,e));do try{LT();break}catch(i){dw(t,i)}while(!0);if(eg(),lt=n,zh.current=r,nn!==null)throw Error(re(261));return _n=null,kn=0,cn}function LT(){for(;nn!==null;)mw(nn)}function VT(){for(;nn!==null&&!oI();)mw(nn)}function mw(t){var e=yw(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?gw(t):nn=e,dg.current=null}function gw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bT(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,nn=null;return}}else if(n=kT(n,e,br),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);cn===0&&(cn=5)}function Na(t,e,n){var r=_t,i=ti.transition;try{ti.transition=null,_t=1,OT(t,e,n,r)}finally{ti.transition=i,_t=r}return null}function OT(t,e,n,r){do Ho();while(ea!==null);if(lt&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vI(t,s),t===_n&&(nn=_n=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,_w(Ih,function(){return Ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var a=_t;_t=1;var u=lt;lt|=4,dg.current=null,RT(t,n),cw(n,t),rT(Pp),kh=!!bp,Pp=bp=null,t.current=n,NT(n),uI(),lt=u,_t=a,ti.transition=s}else t.current=n;if(Wc&&(Wc=!1,ea=t,qh=i),s=t.pendingLanes,s===0&&(ua=null),hI(n.stateNode),yr(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($h)throw $h=!1,t=Yp,Yp=null,t;return qh&1&&t.tag!==0&&Ho(),s=t.pendingLanes,s&1?t===Xp?dl++:(dl=0,Xp=t):dl=0,xa(),null}function Ho(){if(ea!==null){var t=Y1(qh),e=ti.transition,n=_t;try{if(ti.transition=null,_t=16>t?16:t,ea===null)var r=!1;else{if(t=ea,ea=null,qh=0,lt&6)throw Error(re(331));var i=lt;for(lt|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(me=f;me!==null;){var p=me;switch(p.tag){case 0:case 11:case 15:hl(8,p,s)}var g=p.child;if(g!==null)g.return=p,me=g;else for(;me!==null;){p=me;var A=p.sibling,b=p.return;if(ow(p),p===f){me=null;break}if(A!==null){A.return=b,me=A;break}me=b}}}var F=s.alternate;if(F!==null){var L=F.child;if(L!==null){F.child=null;do{var M=L.sibling;L.sibling=null,L=M}while(L!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,me=R;break e}me=s.return}}var k=t.current;for(me=k;me!==null;){a=me;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,me=P;else e:for(a=k;me!==null;){if(u=me,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:bf(9,u)}}catch(G){Gt(u,u.return,G)}if(u===a){me=null;break e}var q=u.sibling;if(q!==null){q.return=u.return,me=q;break e}me=u.return}}if(lt=i,xa(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(wf,t)}catch{}r=!0}return r}finally{_t=n,ti.transition=e}}return!1}function t0(t,e,n){e=ru(n,e),e=YE(t,e,1),t=oa(t,e,1),e=ir(),t!==null&&(tc(t,1,e),yr(t,e))}function Gt(t,e,n){if(t.tag===3)t0(t,t,n);else for(;e!==null;){if(e.tag===3){t0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ua===null||!ua.has(r))){t=ru(n,t),t=XE(e,t,1),e=oa(e,t,1),t=ir(),e!==null&&(tc(e,1,t),yr(e,t));break}}e=e.return}}function BT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&n,_n===t&&(kn&n)===n&&(cn===4||cn===3&&(kn&130023424)===kn&&500>Xt()-mg?za(t,0):pg|=n),yr(t,e)}function vw(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=ir();t=As(t,e),t!==null&&(tc(t,e,n),yr(t,n))}function MT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vw(t,n)}function jT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),vw(t,n)}var yw;yw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gr.current)mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mr=!1,TT(t,e,n);mr=!!(t.flags&131072)}else mr=!1,Vt&&e.flags&1048576&&AE(e,Lh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lh(t,e),t=e.pendingProps;var i=Zo(e,Kn.current);qo(e,n),i=ug(null,e,r,t,i,n);var s=lg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(r)?(s=!0,Dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rg(e),i.updater=kf,e.stateNode=i,i._reactInternals=e,Mp(e,r,t,n),e=zp(null,e,r,!0,s,n)):(e.tag=0,Vt&&s&&Ym(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zT(r),t=yi(r,t),i){case 0:e=Up(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=$y(null,e,r,t,n);break e;case 14:e=qy(null,e,r,yi(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Up(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Hy(t,e,r,i,n);case 3:e:{if(tw(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kE(t,e),Bh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ru(Error(re(423)),e),e=Wy(t,e,r,n,i);break e}else if(r!==i){i=ru(Error(re(424)),e),e=Wy(t,e,r,n,i);break e}else for(Nr=aa(e.stateNode.containerInfo.firstChild),Dr=e,Vt=!0,wi=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eu(),r===i){e=xs(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return bE(e),t===null&&Vp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Rp(r,i)?a=null:s!==null&&Rp(r,s)&&(e.flags|=32),ew(t,e),rr(t,e,a,n),e.child;case 6:return t===null&&Vp(e),null;case 13:return nw(t,e,n);case 4:return ig(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tu(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),$y(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,bt(Vh,r._currentValue),r._currentValue=a,s!==null)if(Si(s.value,a)){if(s.children===i.children&&!gr.current){e=xs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=vs(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Op(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Op(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=ri(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),qy(t,e,r,i,n);case 15:return JE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),lh(t,e),e.tag=1,vr(r)?(t=!0,Dh(e)):t=!1,qo(e,n),QE(e,r,i),Mp(e,r,i,n),zp(null,e,r,!0,t,n);case 19:return rw(t,e,n);case 22:return ZE(t,e,n)}throw Error(re(156,e.tag))};function _w(t,e){return W1(t,e)}function UT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,n,r){return new UT(t,e,n,r)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zT(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bm)return 11;if(t===Mm)return 14}return 2}function ca(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fh(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")_g(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case To:return $a(n.children,i,s,e);case Om:a=8,i|=8;break;case lp:return t=ei(12,n,e,i|2),t.elementType=lp,t.lanes=s,t;case cp:return t=ei(13,n,e,i),t.elementType=cp,t.lanes=s,t;case hp:return t=ei(19,n,e,i),t.elementType=hp,t.lanes=s,t;case b1:return Rf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T1:a=10;break e;case k1:a=9;break e;case Bm:a=11;break e;case Mm:a=14;break e;case qs:a=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=ei(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $a(t,e,n,r){return t=ei(7,t,r,e),t.lanes=n,t}function Rf(t,e,n,r){return t=ei(22,t,r,e),t.elementType=b1,t.lanes=n,t.stateNode={isHidden:!1},t}function Bd(t,e,n){return t=ei(6,t,null,e),t.lanes=n,t}function Md(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $T(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eg(t,e,n,r,i,s,a,u,c){return t=new $T(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ei(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rg(s),t}function qT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ew(t){if(!t)return ma;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(vr(n))return EE(t,n,e)}return e}function ww(t,e,n,r,i,s,a,u,c){return t=Eg(n,r,!0,t,i,s,a,u,c),t.context=Ew(null),n=t.current,r=ir(),i=la(n),s=vs(r,i),s.callback=e??null,oa(n,s,i),t.current.lanes=i,tc(t,i,r),yr(t,r),t}function Nf(t,e,n,r){var i=e.current,s=ir(),a=la(i);return n=Ew(n),e.context===null?e.context=n:e.pendingContext=n,e=vs(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oa(i,e,a),t!==null&&(Ci(t,i,a,s),ah(t,i,a)),a}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wg(t,e){n0(t,e),(t=t.alternate)&&n0(t,e)}function HT(){return null}var Aw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ag(t){this._internalRoot=t}Df.prototype.render=Ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Nf(t,e,null,null)};Df.prototype.unmount=Ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){Nf(null,t,null,null)}),e[ws]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ws.length&&e!==0&&e<Ws[n].priority;n++);Ws.splice(n,0,t),n===0&&tE(t)}};function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r0(){}function WT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Wh(a);s.call(f)}}var a=ww(e,r,t,0,null,!1,!1,"",r0);return t._reactRootContainer=a,t[ws]=a.current,kl(t.nodeType===8?t.parentNode:t),Qa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Wh(c);u.call(f)}}var c=Eg(t,0,!1,null,null,!1,!1,"",r0);return t._reactRootContainer=c,t[ws]=c.current,kl(t.nodeType===8?t.parentNode:t),Qa(function(){Nf(e,c,n,r)}),c}function Lf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=Wh(a);u.call(c)}}Nf(e,a,t,i)}else a=WT(n,e,t,i,r);return Wh(a)}X1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yu(e.pendingLanes);n!==0&&(zm(e,n|1),yr(e,Xt()),!(lt&6)&&(iu=Xt()+500,xa()))}break;case 13:Qa(function(){var r=As(t,1);if(r!==null){var i=ir();Ci(r,t,1,i)}}),wg(t,1)}};$m=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=ir();Ci(e,t,134217728,n)}wg(t,134217728)}};J1=function(t){if(t.tag===13){var e=la(t),n=As(t,e);if(n!==null){var r=ir();Ci(n,t,e,r)}wg(t,e)}};Z1=function(){return _t};eE=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};wp=function(t,e,n){switch(e){case"input":if(pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sf(r);if(!i)throw Error(re(90));R1(r),pp(r,i)}}}break;case"textarea":D1(t,n);break;case"select":e=n.value,e!=null&&jo(t,!!n.multiple,e,!1)}};j1=gg;U1=Qa;var GT={usingClientEntryPoint:!1,Events:[rc,Ro,Sf,B1,M1,gg]},$u={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q1(t),t===null?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{wf=Gc.inject(KT),ji=Gc}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(e))throw Error(re(200));return qT(t,e,null,n)};Or.createRoot=function(t,e){if(!xg(t))throw Error(re(299));var n=!1,r="",i=Aw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Eg(t,1,!1,null,null,n,!1,r,i),t[ws]=e.current,kl(t.nodeType===8?t.parentNode:t),new Ag(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=q1(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return Qa(t)};Or.hydrate=function(t,e,n){if(!Ff(e))throw Error(re(200));return Lf(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!xg(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=ww(e,null,t,1,n??null,i,!1,s,a),t[ws]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Df(e)};Or.render=function(t,e,n){if(!Ff(e))throw Error(re(200));return Lf(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(re(40));return t._reactRootContainer?(Qa(function(){Lf(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Or.unstable_batchedUpdates=gg;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ff(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Lf(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xw)}catch(t){console.error(t)}}xw(),x1.exports=Or;var Cg=x1.exports;const QT=h1(Cg),YT=c1({__proto__:null,default:QT},[Cg]);var i0=Cg;op.createRoot=i0.createRoot,op.hydrateRoot=i0.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));const s0="popstate";function XT(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:u="",hash:c=""}=Ns(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ol("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:Xa(s))}function r(i,s){Ya(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ZT(e,n,r,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ya(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JT(){return Math.random().toString(36).substr(2,8)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ol(t,e,n,r){return n===void 0&&(n=null),jt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||JT()})}function Xa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=tn.Pop,c=null,f=p();f==null&&(f=0,a.replaceState(jt({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=tn.Pop;let M=p(),R=M==null?null:M-f;f=M,c&&c({action:u,location:L.location,delta:R})}function A(M,R){u=tn.Push;let k=Ol(L.location,M,R);n&&n(k,M),f=p()+1;let P=a0(k,f),q=L.createHref(k);try{a.pushState(P,"",q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(q)}s&&c&&c({action:u,location:L.location,delta:1})}function b(M,R){u=tn.Replace;let k=Ol(L.location,M,R);n&&n(k,M),f=p();let P=a0(k,f),q=L.createHref(k);a.replaceState(P,"",q),s&&c&&c({action:u,location:L.location,delta:0})}function F(M){let R=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof M=="string"?M:Xa(M);return k=k.replace(/ $/,"%20"),qe(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let L={get action(){return u},get location(){return t(i,a)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(s0,g),c=M,()=>{i.removeEventListener(s0,g),c=null}},createHref(M){return e(i,M)},createURL:F,encodeLocation(M){let R=F(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:b,go(M){return a.go(M)}};return L}var wt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wt||(wt={}));const ek=new Set(["lazy","caseSensitive","path","id","index","children"]);function tk(t){return t.index===!0}function Bl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],u=typeof i.id=="string"?i.id:a.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),tk(i)){let c=jt({},i,e(i),{id:u});return r[u]=c,c}else{let c=jt({},i,e(i),{id:u,children:void 0});return r[u]=c,i.children&&(c.children=Bl(i.children,e,a,r)),c}})}function Fa(t,e,n){return n===void 0&&(n="/"),dh(t,e,n,!1)}function dh(t,e,n,r){let i=typeof e=="string"?Ns(e):e,s=vu(i.pathname||"/",n);if(s==null)return null;let a=Cw(t);rk(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=pk(s);u=fk(a[c],f,r)}return u}function nk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Cw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=ys([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Cw(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:ck(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of Sw(s.path))i(s,a,c)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Sw(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function rk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ik=/^:[\w-]+$/,sk=3,ak=2,ok=1,uk=10,lk=-2,o0=t=>t==="*";function ck(t,e){let n=t.split("/"),r=n.length;return n.some(o0)&&(r+=lk),e&&(r+=ak),n.filter(i=>!o0(i)).reduce((i,s)=>i+(ik.test(s)?sk:s===""?ok:uk),r)}function hk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),A=c.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:ys([s,g.pathname]),pathnameBase:vk(ys([s,g.pathnameBase])),route:A}),g.pathnameBase!=="/"&&(s=ys([s,g.pathnameBase]))}return a}function u0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,p,g)=>{let{paramName:A,isOptional:b}=p;if(A==="*"){let L=u[g]||"";a=s.slice(0,s.length-L.length).replace(/(.)\/+$/,"$1")}const F=u[g];return b&&!F?f[A]=void 0:f[A]=(F||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function dk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ya(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ya(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:gk(n,e):e,search:yk(r),hash:_k(i)}}function gk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vf(t,e){let n=Iw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Of(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=jt({},t),qe(!i.pathname||!i.pathname.includes("?"),jd("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),jd("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),jd("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),g-=1;i.pathname=A.join("/")}u=g>=0?e[g]:"/"}let c=mk(i,u),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const ys=t=>t.join("/").replace(/\/\/+/g,"/"),vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Gh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Bf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tw=["post","put","patch","delete"],Ek=new Set(Tw),wk=["get",...Tw],Ak=new Set(wk),xk=new Set([301,302,303,307,308]),Ck=new Set([307,308]),Ud={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ik=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),kw="remix-router-transitions";function Tk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=z=>({hasErrorBoundary:j(z)})}else i=Ik;let s={},a=Bl(t.routes,i,void 0,s),u,c=t.basename||"/",f=t.unstable_dataStrategy||Nk,p=t.unstable_patchRoutesOnMiss,g=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),A=null,b=new Set,F=null,L=null,M=null,R=t.hydrationData!=null,k=Fa(a,t.history.location,c),P=null;if(k==null&&!p){let j=nr(404,{pathname:t.history.location.pathname}),{matches:z,route:K}=y0(a);k=z,P={[K.id]:j}}k&&!t.hydrationData&&xn(k,a,t.history.location.pathname).active&&(k=null);let q;if(k)if(k.some(j=>j.route.lazy))q=!1;else if(!k.some(j=>j.route.loader))q=!0;else if(g.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null,K=Z=>Z.route.loader?typeof Z.route.loader=="function"&&Z.route.loader.hydrate===!0?!1:j&&j[Z.route.id]!==void 0||z&&z[Z.route.id]!==void 0:!0;if(z){let Z=k.findIndex(oe=>z[oe.route.id]!==void 0);q=k.slice(0,Z+1).every(K)}else q=k.every(K)}else q=t.hydrationData!=null;else if(q=!1,k=[],g.v7_partialHydration){let j=xn(null,a,t.history.location.pathname);j.active&&j.matches&&(k=j.matches)}let G,d={historyAction:t.history.action,location:t.history.location,matches:k,initialized:q,navigation:Ud,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=tn.Pop,x=!1,S,D=!1,B=new Map,U=null,V=!1,He=!1,Pt=[],Bt=new Set,de=new Map,ae=0,ve=-1,we=new Map,Ge=new Set,Ne=new Map,Qe=new Map,dt=new Set,St=new Map,Ht=new Map,wn=new Map,Ri=!1;function wr(){if(A=t.history.listen(j=>{let{action:z,location:K,delta:Z}=j;if(Ri){Ri=!1;return}Ya(Ht.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Jt({currentLocation:d.location,nextLocation:K,historyAction:z});if(oe&&Z!=null){Ri=!0,t.history.go(Z*-1),Zn(oe,{state:"blocked",location:K,proceed(){Zn(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(Z)},reset(){let ge=new Map(d.blockers);ge.set(oe,qu),Lt({blockers:ge})}});return}return Dn(z,K)}),n){Hk(e,B);let j=()=>Wk(e,B);e.addEventListener("pagehide",j),U=()=>e.removeEventListener("pagehide",j)}return d.initialized||Dn(tn.Pop,d.location,{initialHydration:!0}),G}function An(){A&&A(),U&&U(),b.clear(),S&&S.abort(),d.fetchers.forEach((j,z)=>fe(z)),d.blockers.forEach((j,z)=>Ni(z))}function jr(j){return b.add(j),()=>b.delete(j)}function Lt(j,z){z===void 0&&(z={}),d=jt({},d,j);let K=[],Z=[];g.v7_fetcherPersist&&d.fetchers.forEach((oe,ge)=>{oe.state==="idle"&&(dt.has(ge)?Z.push(ge):K.push(ge))}),[...b].forEach(oe=>oe(d,{deletedFetchers:Z,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),g.v7_fetcherPersist&&(K.forEach(oe=>d.fetchers.delete(oe)),Z.forEach(oe=>fe(oe)))}function dn(j,z,K){var Z,oe;let{flushSync:ge}=K===void 0?{}:K,Te=d.actionData!=null&&d.navigation.formMethod!=null&&Ei(d.navigation.formMethod)&&d.navigation.state==="loading"&&((Z=j.state)==null?void 0:Z._isRedirect)!==!0,se;z.actionData?Object.keys(z.actionData).length>0?se=z.actionData:se=null:Te?se=d.actionData:se=null;let _e=z.loaderData?g0(d.loaderData,z.loaderData,z.matches||[],z.errors):d.loaderData,xe=d.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Ye,tt)=>xe.set(tt,qu)));let Ce=x===!0||d.navigation.formMethod!=null&&Ei(d.navigation.formMethod)&&((oe=j.state)==null?void 0:oe._isRedirect)!==!0;u&&(a=u,u=void 0),V||I===tn.Pop||(I===tn.Push?t.history.push(j,j.state):I===tn.Replace&&t.history.replace(j,j.state));let $e;if(I===tn.Pop){let Ye=B.get(d.location.pathname);Ye&&Ye.has(j.pathname)?$e={currentLocation:d.location,nextLocation:j}:B.has(j.pathname)&&($e={currentLocation:j,nextLocation:d.location})}else if(D){let Ye=B.get(d.location.pathname);Ye?Ye.add(j.pathname):(Ye=new Set([j.pathname]),B.set(d.location.pathname,Ye)),$e={currentLocation:d.location,nextLocation:j}}Lt(jt({},z,{actionData:se,loaderData:_e,historyAction:I,location:j,initialized:!0,navigation:Ud,revalidation:"idle",restoreScrollPosition:rs(j,z.matches||d.matches),preventScrollReset:Ce,blockers:xe}),{viewTransitionOpts:$e,flushSync:ge===!0}),I=tn.Pop,x=!1,D=!1,V=!1,He=!1,Pt=[]}async function ui(j,z){if(typeof j=="number"){t.history.go(j);return}let K=em(d.location,d.matches,c,g.v7_prependBasename,j,g.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:Z,submission:oe,error:ge}=l0(g.v7_normalizeFormMethod,!1,K,z),Te=d.location,se=Ol(d.location,Z,z&&z.state);se=jt({},se,t.history.encodeLocation(se));let _e=z&&z.replace!=null?z.replace:void 0,xe=tn.Push;_e===!0?xe=tn.Replace:_e===!1||oe!=null&&Ei(oe.formMethod)&&oe.formAction===d.location.pathname+d.location.search&&(xe=tn.Replace);let Ce=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,$e=(z&&z.unstable_flushSync)===!0,Ye=Jt({currentLocation:Te,nextLocation:se,historyAction:xe});if(Ye){Zn(Ye,{state:"blocked",location:se,proceed(){Zn(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),ui(j,z)},reset(){let tt=new Map(d.blockers);tt.set(Ye,qu),Lt({blockers:tt})}});return}return await Dn(xe,se,{submission:oe,pendingError:ge,preventScrollReset:Ce,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:$e})}function li(){if(st(),Lt({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Dn(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Dn(I||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Dn(j,z,K){S&&S.abort(),S=null,I=j,V=(K&&K.startUninterruptedRevalidation)===!0,$r(d.location,d.matches),x=(K&&K.preventScrollReset)===!0,D=(K&&K.enableViewTransition)===!0;let Z=u||a,oe=K&&K.overrideNavigation,ge=Fa(Z,z,c),Te=(K&&K.flushSync)===!0,se=xn(ge,Z,z.pathname);if(se.active&&se.matches&&(ge=se.matches),!ge){let{error:We,notFoundMatches:It,route:Et}=Rt(z.pathname);dn(z,{matches:It,loaderData:{},errors:{[Et.id]:We}},{flushSync:Te});return}if(d.initialized&&!He&&Bk(d.location,z)&&!(K&&K.submission&&Ei(K.submission.formMethod))){dn(z,{matches:ge},{flushSync:Te});return}S=new AbortController;let _e=Ao(t.history,z,S.signal,K&&K.submission),xe;if(K&&K.pendingError)xe=[Bo(ge).route.id,{type:wt.error,error:K.pendingError}];else if(K&&K.submission&&Ei(K.submission.formMethod)){let We=await ur(_e,z,K.submission,ge,se.active,{replace:K.replace,flushSync:Te});if(We.shortCircuited)return;if(We.pendingActionResult){let[It,Et]=We.pendingActionResult;if(Pr(Et)&&Bf(Et.error)&&Et.error.status===404){S=null,dn(z,{matches:We.matches,loaderData:{},errors:{[It]:Et.error}});return}}ge=We.matches||ge,xe=We.pendingActionResult,oe=zd(z,K.submission),Te=!1,se.active=!1,_e=Ao(t.history,_e.url,_e.signal)}let{shortCircuited:Ce,matches:$e,loaderData:Ye,errors:tt}=await ts(_e,z,ge,se.active,oe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Te,xe);Ce||(S=null,dn(z,jt({matches:$e||ge},v0(xe),{loaderData:Ye,errors:tt})))}async function ur(j,z,K,Z,oe,ge){ge===void 0&&(ge={}),st();let Te=$k(z,K);if(Lt({navigation:Te},{flushSync:ge.flushSync===!0}),oe){let xe=await pn(Z,z.pathname,j.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let{boundaryId:Ce,error:$e}=Ke(z.pathname,xe);return{matches:xe.partialMatches,pendingActionResult:[Ce,{type:wt.error,error:$e}]}}else if(xe.matches)Z=xe.matches;else{let{notFoundMatches:Ce,error:$e,route:Ye}=Rt(z.pathname);return{matches:Ce,pendingActionResult:[Ye.id,{type:wt.error,error:$e}]}}}let se,_e=Ju(Z,z);if(!_e.route.action&&!_e.route.lazy)se={type:wt.error,error:nr(405,{method:j.method,pathname:z.pathname,routeId:_e.route.id})};else if(se=(await Xn("action",j,[_e],Z))[0],j.signal.aborted)return{shortCircuited:!0};if(Ma(se)){let xe;return ge&&ge.replace!=null?xe=ge.replace:xe=d0(se.response.headers.get("Location"),new URL(j.url),c)===d.location.pathname+d.location.search,await Yn(j,se,{submission:K,replace:xe}),{shortCircuited:!0}}if(Ba(se))throw nr(400,{type:"defer-action"});if(Pr(se)){let xe=Bo(Z,_e.route.id);return(ge&&ge.replace)!==!0&&(I=tn.Push),{matches:Z,pendingActionResult:[xe.route.id,se]}}return{matches:Z,pendingActionResult:[_e.route.id,se]}}async function ts(j,z,K,Z,oe,ge,Te,se,_e,xe,Ce){let $e=oe||zd(z,ge),Ye=ge||Te||A0($e),tt=!V&&(!g.v7_partialHydration||!_e);if(Z){if(tt){let mt=Ur(Ce);Lt(jt({navigation:$e},mt!==void 0?{actionData:mt}:{}),{flushSync:xe})}let Se=await pn(K,z.pathname,j.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let{boundaryId:mt,error:Wt}=Ke(z.pathname,Se);return{matches:Se.partialMatches,loaderData:{},errors:{[mt]:Wt}}}else if(Se.matches)K=Se.matches;else{let{error:mt,notFoundMatches:Wt,route:at}=Rt(z.pathname);return{matches:Wt,loaderData:{},errors:{[at.id]:mt}}}}let We=u||a,[It,Et]=c0(t.history,d,K,Ye,z,g.v7_partialHydration&&_e===!0,g.v7_skipActionErrorRevalidation,He,Pt,Bt,dt,Ne,Ge,We,c,Ce);if(on(Se=>!(K&&K.some(mt=>mt.route.id===Se))||It&&It.some(mt=>mt.route.id===Se)),ve=++ae,It.length===0&&Et.length===0){let Se=an();return dn(z,jt({matches:K,loaderData:{},errors:Ce&&Pr(Ce[1])?{[Ce[0]]:Ce[1].error}:null},v0(Ce),Se?{fetchers:new Map(d.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(tt){let Se={};if(!Z){Se.navigation=$e;let mt=Ur(Ce);mt!==void 0&&(Se.actionData=mt)}Et.length>0&&(Se.fetchers=sn(Et)),Lt(Se,{flushSync:xe})}Et.forEach(Se=>{de.has(Se.key)&&Jn(Se.key),Se.controller&&de.set(Se.key,Se.controller)});let qr=()=>Et.forEach(Se=>Jn(Se.key));S&&S.signal.addEventListener("abort",qr);let{loaderResults:hr,fetcherResults:Vn}=await je(d.matches,K,It,Et,j);if(j.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",qr),Et.forEach(Se=>de.delete(Se.key));let xr=_0([...hr,...Vn]);if(xr){if(xr.idx>=It.length){let Se=Et[xr.idx-It.length].key;Ge.add(Se)}return await Yn(j,xr.result,{replace:se}),{shortCircuited:!0}}let{loaderData:On,errors:Kt}=m0(d,K,It,hr,Ce,Et,Vn,St);St.forEach((Se,mt)=>{Se.subscribe(Wt=>{(Wt||Se.done)&&St.delete(mt)})}),g.v7_partialHydration&&_e&&d.errors&&Object.entries(d.errors).filter(Se=>{let[mt]=Se;return!It.some(Wt=>Wt.route.id===mt)}).forEach(Se=>{let[mt,Wt]=Se;Kt=Object.assign(Kt||{},{[mt]:Wt})});let Bn=an(),ce=hi(ve),fr=Bn||ce||Et.length>0;return jt({matches:K,loaderData:On,errors:Kt},fr?{fetchers:new Map(d.fetchers)}:{})}function Ur(j){if(j&&!Pr(j[1]))return{[j[0]]:j[1].data};if(d.actionData)return Object.keys(d.actionData).length===0?null:d.actionData}function sn(j){return j.forEach(z=>{let K=d.fetchers.get(z.key),Z=Hu(void 0,K?K.data:void 0);d.fetchers.set(z.key,Z)}),new Map(d.fetchers)}function lr(j,z,K,Z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");de.has(j)&&Jn(j);let oe=(Z&&Z.unstable_flushSync)===!0,ge=u||a,Te=em(d.location,d.matches,c,g.v7_prependBasename,K,g.v7_relativeSplatPath,z,Z==null?void 0:Z.relative),se=Fa(ge,Te,c),_e=xn(se,ge,Te);if(_e.active&&_e.matches&&(se=_e.matches),!se){Ln(j,z,nr(404,{pathname:Te}),{flushSync:oe});return}let{path:xe,submission:Ce,error:$e}=l0(g.v7_normalizeFormMethod,!0,Te,Z);if($e){Ln(j,z,$e,{flushSync:oe});return}let Ye=Ju(se,xe);if(x=(Z&&Z.preventScrollReset)===!0,Ce&&Ei(Ce.formMethod)){Fn(j,z,xe,Ye,se,_e.active,oe,Ce);return}Ne.set(j,{routeId:z,path:xe}),ci(j,z,xe,Ye,se,_e.active,oe,Ce)}async function Fn(j,z,K,Z,oe,ge,Te,se){st(),Ne.delete(j);function _e(at){if(!at.route.action&&!at.route.lazy){let mn=nr(405,{method:se.formMethod,pathname:K,routeId:z});return Ln(j,z,mn,{flushSync:Te}),!0}return!1}if(!ge&&_e(Z))return;let xe=d.fetchers.get(j);pt(j,qk(se,xe),{flushSync:Te});let Ce=new AbortController,$e=Ao(t.history,K,Ce.signal,se);if(ge){let at=await pn(oe,K,$e.signal);if(at.type==="aborted")return;if(at.type==="error"){let{error:mn}=Ke(K,at);Ln(j,z,mn,{flushSync:Te});return}else if(at.matches){if(oe=at.matches,Z=Ju(oe,K),_e(Z))return}else{Ln(j,z,nr(404,{pathname:K}),{flushSync:Te});return}}de.set(j,Ce);let Ye=ae,We=(await Xn("action",$e,[Z],oe))[0];if($e.signal.aborted){de.get(j)===Ce&&de.delete(j);return}if(g.v7_fetcherPersist&&dt.has(j)){if(Ma(We)||Pr(We)){pt(j,$s(void 0));return}}else{if(Ma(We))if(de.delete(j),ve>Ye){pt(j,$s(void 0));return}else return Ge.add(j),pt(j,Hu(se)),Yn($e,We,{fetcherSubmission:se});if(Pr(We)){Ln(j,z,We.error);return}}if(Ba(We))throw nr(400,{type:"defer-action"});let It=d.navigation.location||d.location,Et=Ao(t.history,It,Ce.signal),qr=u||a,hr=d.navigation.state!=="idle"?Fa(qr,d.navigation.location,c):d.matches;qe(hr,"Didn't find any matches after fetcher action");let Vn=++ae;we.set(j,Vn);let xr=Hu(se,We.data);d.fetchers.set(j,xr);let[On,Kt]=c0(t.history,d,hr,se,It,!1,g.v7_skipActionErrorRevalidation,He,Pt,Bt,dt,Ne,Ge,qr,c,[Z.route.id,We]);Kt.filter(at=>at.key!==j).forEach(at=>{let mn=at.key,fi=d.fetchers.get(mn),is=Hu(void 0,fi?fi.data:void 0);d.fetchers.set(mn,is),de.has(mn)&&Jn(mn),at.controller&&de.set(mn,at.controller)}),Lt({fetchers:new Map(d.fetchers)});let Bn=()=>Kt.forEach(at=>Jn(at.key));Ce.signal.addEventListener("abort",Bn);let{loaderResults:ce,fetcherResults:fr}=await je(d.matches,hr,On,Kt,Et);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Bn),we.delete(j),de.delete(j),Kt.forEach(at=>de.delete(at.key));let Se=_0([...ce,...fr]);if(Se){if(Se.idx>=On.length){let at=Kt[Se.idx-On.length].key;Ge.add(at)}return Yn(Et,Se.result)}let{loaderData:mt,errors:Wt}=m0(d,d.matches,On,ce,void 0,Kt,fr,St);if(d.fetchers.has(j)){let at=$s(We.data);d.fetchers.set(j,at)}hi(Vn),d.navigation.state==="loading"&&Vn>ve?(qe(I,"Expected pending action"),S&&S.abort(),dn(d.navigation.location,{matches:hr,loaderData:mt,errors:Wt,fetchers:new Map(d.fetchers)})):(Lt({errors:Wt,loaderData:g0(d.loaderData,mt,hr,Wt),fetchers:new Map(d.fetchers)}),He=!1)}async function ci(j,z,K,Z,oe,ge,Te,se){let _e=d.fetchers.get(j);pt(j,Hu(se,_e?_e.data:void 0),{flushSync:Te});let xe=new AbortController,Ce=Ao(t.history,K,xe.signal);if(ge){let We=await pn(oe,K,Ce.signal);if(We.type==="aborted")return;if(We.type==="error"){let{error:It}=Ke(K,We);Ln(j,z,It,{flushSync:Te});return}else if(We.matches)oe=We.matches,Z=Ju(oe,K);else{Ln(j,z,nr(404,{pathname:K}),{flushSync:Te});return}}de.set(j,xe);let $e=ae,tt=(await Xn("loader",Ce,[Z],oe))[0];if(Ba(tt)&&(tt=await Dw(tt,Ce.signal,!0)||tt),de.get(j)===xe&&de.delete(j),!Ce.signal.aborted){if(dt.has(j)){pt(j,$s(void 0));return}if(Ma(tt))if(ve>$e){pt(j,$s(void 0));return}else{Ge.add(j),await Yn(Ce,tt);return}if(Pr(tt)){Ln(j,z,tt.error);return}qe(!Ba(tt),"Unhandled fetcher deferred data"),pt(j,$s(tt.data))}}async function Yn(j,z,K){let{submission:Z,fetcherSubmission:oe,replace:ge}=K===void 0?{}:K;z.response.headers.has("X-Remix-Revalidate")&&(He=!0);let Te=z.response.headers.get("Location");qe(Te,"Expected a Location header on the redirect Response"),Te=d0(Te,new URL(j.url),c);let se=Ol(d.location,Te,{_isRedirect:!0});if(n){let tt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(Sg.test(Te)){const We=t.history.createURL(Te);tt=We.origin!==e.location.origin||vu(We.pathname,c)==null}if(tt){ge?e.location.replace(Te):e.location.assign(Te);return}}S=null;let _e=ge===!0||z.response.headers.has("X-Remix-Replace")?tn.Replace:tn.Push,{formMethod:xe,formAction:Ce,formEncType:$e}=d.navigation;!Z&&!oe&&xe&&Ce&&$e&&(Z=A0(d.navigation));let Ye=Z||oe;if(Ck.has(z.response.status)&&Ye&&Ei(Ye.formMethod))await Dn(_e,se,{submission:jt({},Ye,{formAction:Te}),preventScrollReset:x});else{let tt=zd(se,Z);await Dn(_e,se,{overrideNavigation:tt,fetcherSubmission:oe,preventScrollReset:x})}}async function Xn(j,z,K,Z){try{let oe=await Dk(f,j,z,K,Z,s,i);return await Promise.all(oe.map((ge,Te)=>{if(jk(ge)){let se=ge.result;return{type:wt.redirect,response:Vk(se,z,K[Te].route.id,Z,c,g.v7_relativeSplatPath)}}return Lk(ge)}))}catch(oe){return K.map(()=>({type:wt.error,error:oe}))}}async function je(j,z,K,Z,oe){let[ge,...Te]=await Promise.all([K.length?Xn("loader",oe,K,z):[],...Z.map(se=>{if(se.matches&&se.match&&se.controller){let _e=Ao(t.history,se.path,se.controller.signal);return Xn("loader",_e,[se.match],se.matches).then(xe=>xe[0])}else return Promise.resolve({type:wt.error,error:nr(404,{pathname:se.path})})})]);return await Promise.all([w0(j,K,ge,ge.map(()=>oe.signal),!1,d.loaderData),w0(j,Z.map(se=>se.match),Te,Z.map(se=>se.controller?se.controller.signal:null),!0)]),{loaderResults:ge,fetcherResults:Te}}function st(){He=!0,Pt.push(...on()),Ne.forEach((j,z)=>{de.has(z)&&(Bt.add(z),Jn(z))})}function pt(j,z,K){K===void 0&&(K={}),d.fetchers.set(j,z),Lt({fetchers:new Map(d.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ln(j,z,K,Z){Z===void 0&&(Z={});let oe=Bo(d.matches,z);fe(j),Lt({errors:{[oe.route.id]:K},fetchers:new Map(d.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function zr(j){return g.v7_fetcherPersist&&(Qe.set(j,(Qe.get(j)||0)+1),dt.has(j)&&dt.delete(j)),d.fetchers.get(j)||Sk}function fe(j){let z=d.fetchers.get(j);de.has(j)&&!(z&&z.state==="loading"&&we.has(j))&&Jn(j),Ne.delete(j),we.delete(j),Ge.delete(j),dt.delete(j),Bt.delete(j),d.fetchers.delete(j)}function Ar(j){if(g.v7_fetcherPersist){let z=(Qe.get(j)||0)-1;z<=0?(Qe.delete(j),dt.add(j)):Qe.set(j,z)}else fe(j);Lt({fetchers:new Map(d.fetchers)})}function Jn(j){let z=de.get(j);qe(z,"Expected fetch controller: "+j),z.abort(),de.delete(j)}function ns(j){for(let z of j){let K=zr(z),Z=$s(K.data);d.fetchers.set(z,Z)}}function an(){let j=[],z=!1;for(let K of Ge){let Z=d.fetchers.get(K);qe(Z,"Expected fetcher: "+K),Z.state==="loading"&&(Ge.delete(K),j.push(K),z=!0)}return ns(j),z}function hi(j){let z=[];for(let[K,Z]of we)if(Z<j){let oe=d.fetchers.get(K);qe(oe,"Expected fetcher: "+K),oe.state==="loading"&&(Jn(K),we.delete(K),z.push(K))}return ns(z),z.length>0}function Ls(j,z){let K=d.blockers.get(j)||qu;return Ht.get(j)!==z&&Ht.set(j,z),K}function Ni(j){d.blockers.delete(j),Ht.delete(j)}function Zn(j,z){let K=d.blockers.get(j)||qu;qe(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+z.state);let Z=new Map(d.blockers);Z.set(j,z),Lt({blockers:Z})}function Jt(j){let{currentLocation:z,nextLocation:K,historyAction:Z}=j;if(Ht.size===0)return;Ht.size>1&&Ya(!1,"A router only supports one blocker at a time");let oe=Array.from(Ht.entries()),[ge,Te]=oe[oe.length-1],se=d.blockers.get(ge);if(!(se&&se.state==="proceeding")&&Te({currentLocation:z,nextLocation:K,historyAction:Z}))return ge}function Rt(j){let z=nr(404,{pathname:j}),K=u||a,{matches:Z,route:oe}=y0(K);return on(),{notFoundMatches:Z,route:oe,error:z}}function Ke(j,z){return{boundaryId:Bo(z.partialMatches).route.id,error:nr(400,{type:"route-discovery",pathname:j,message:z.error!=null&&"message"in z.error?z.error:String(z.error)})}}function on(j){let z=[];return St.forEach((K,Z)=>{(!j||j(Z))&&(K.cancel(),z.push(Z),St.delete(Z))}),z}function Ae(j,z,K){if(F=j,M=z,L=K||null,!R&&d.navigation===Ud){R=!0;let Z=rs(d.location,d.matches);Z!=null&&Lt({restoreScrollPosition:Z})}return()=>{F=null,M=null,L=null}}function Di(j,z){return L&&L(j,z.map(Z=>nk(Z,d.loaderData)))||j.key}function $r(j,z){if(F&&M){let K=Di(j,z);F[K]=M()}}function rs(j,z){if(F){let K=Di(j,z),Z=F[K];if(typeof Z=="number")return Z}return null}function xn(j,z,K){if(p)if(j){let Z=j[j.length-1].route;if(Z.path&&(Z.path==="*"||Z.path.endsWith("/*")))return{active:!0,matches:dh(z,K,c,!0)}}else return{active:!0,matches:dh(z,K,c,!0)||[]};return{active:!1,matches:null}}async function pn(j,z,K){let Z=j,oe=Z.length>0?Z[Z.length-1].route:null;for(;;){let ge=u==null,Te=u||a;try{await Rk(p,z,Z,Te,s,i,wn,K)}catch(Ce){return{type:"error",error:Ce,partialMatches:Z}}finally{ge&&(a=[...a])}if(K.aborted)return{type:"aborted"};let se=Fa(Te,z,c),_e=!1;if(se){let Ce=se[se.length-1].route;if(Ce.index)return{type:"success",matches:se};if(Ce.path&&Ce.path.length>0)if(Ce.path==="*")_e=!0;else return{type:"success",matches:se}}let xe=dh(Te,z,c,!0);if(!xe||Z.map(Ce=>Ce.route.id).join("-")===xe.map(Ce=>Ce.route.id).join("-"))return{type:"success",matches:_e?se:null};if(Z=xe,oe=Z[Z.length-1].route,oe.path==="*")return{type:"success",matches:Z}}}function Nt(j){s={},u=Bl(j,i,void 0,s)}function cr(j,z){let K=u==null;Pw(j,z,u||a,s,i),K&&(a=[...a],Lt({}))}return G={get basename(){return c},get future(){return g},get state(){return d},get routes(){return a},get window(){return e},initialize:wr,subscribe:jr,enableScrollRestoration:Ae,navigate:ui,fetch:lr,revalidate:li,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:zr,deleteFetcher:Ar,dispose:An,getBlocker:Ls,deleteBlocker:Ni,patchRoutes:cr,_internalFetchControllers:de,_internalActiveDeferreds:St,_internalSetRoutes:Nt},G}function kk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function em(t,e,n,r,i,s,a,u){let c,f;if(a){c=[];for(let g of e)if(c.push(g),g.route.id===a){f=g;break}}else c=e,f=e[e.length-1];let p=Of(i||".",Vf(c,s),vu(t.pathname,n)||t.pathname,u==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&f&&f.route.index&&!Ig(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:ys([n,p.pathname])),Xa(p)}function l0(t,e,n,r){if(!r||!kk(r))return{path:n};if(r.formMethod&&!zk(r.formMethod))return{path:n,error:nr(405,{method:r.formMethod})};let i=()=>({path:n,error:nr(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),u=Rw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ei(a))return i();let A=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,F)=>{let[L,M]=F;return""+b+L+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:A}}}else if(r.formEncType==="application/json"){if(!Ei(a))return i();try{let A=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:A,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let c,f;if(r.formData)c=tm(r.formData),f=r.formData;else if(r.body instanceof FormData)c=tm(r.body),f=r.body;else if(r.body instanceof URLSearchParams)c=r.body,f=p0(c);else if(r.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(r.body),f=p0(c)}catch{return i()}let p={formMethod:a,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ei(p.formMethod))return{path:n,submission:p};let g=Ns(n);return e&&g.search&&Ig(g.search)&&c.append("index",""),g.search="?"+c,{path:Xa(g),submission:p}}function bk(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function c0(t,e,n,r,i,s,a,u,c,f,p,g,A,b,F,L){let M=L?Pr(L[1])?L[1].error:L[1].data:void 0,R=t.createURL(e.location),k=t.createURL(i),P=L&&Pr(L[1])?L[0]:void 0,q=P?bk(n,P):n,G=L?L[1].statusCode:void 0,d=a&&G&&G>=400,I=q.filter((S,D)=>{let{route:B}=S;if(B.lazy)return!0;if(B.loader==null)return!1;if(s)return typeof B.loader!="function"||B.loader.hydrate?!0:e.loaderData[B.id]===void 0&&(!e.errors||e.errors[B.id]===void 0);if(Pk(e.loaderData,e.matches[D],S)||c.some(He=>He===S.route.id))return!0;let U=e.matches[D],V=S;return h0(S,jt({currentUrl:R,currentParams:U.params,nextUrl:k,nextParams:V.params},r,{actionResult:M,actionStatus:G,defaultShouldRevalidate:d?!1:u||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||bw(U,V)}))}),x=[];return g.forEach((S,D)=>{if(s||!n.some(Pt=>Pt.route.id===S.routeId)||p.has(D))return;let B=Fa(b,S.path,F);if(!B){x.push({key:D,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(D),V=Ju(B,S.path),He=!1;A.has(D)?He=!1:f.has(D)?(f.delete(D),He=!0):U&&U.state!=="idle"&&U.data===void 0?He=u:He=h0(V,jt({currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:n[n.length-1].params},r,{actionResult:M,actionStatus:G,defaultShouldRevalidate:d?!1:u})),He&&x.push({key:D,routeId:S.routeId,path:S.path,matches:B,match:V,controller:new AbortController})}),[I,x]}function Pk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function bw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function h0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Rk(t,e,n,r,i,s,a,u){let c=[e,...n.map(f=>f.route.id)].join("-");try{let f=a.get(c);f||(f=t({path:e,matches:n,patch:(p,g)=>{u.aborted||Pw(p,g,r,i,s)}}),a.set(c,f)),f&&Mk(f)&&await f}finally{a.delete(c)}}function Pw(t,e,n,r,i){if(t){var s;let a=r[t];qe(a,"No route found to patch children into: routeId = "+t);let u=Bl(e,i,[t,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],r);a.children?a.children.push(...u):a.children=u}else{let a=Bl(e,i,["patch",String(n.length||"0")],r);n.push(...a)}}async function f0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qe(i,"No route found in manifest");let s={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";Ya(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!ek.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,jt({},e(i),{lazy:void 0}))}function Nk(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Dk(t,e,n,r,i,s,a,u){let c=r.reduce((g,A)=>g.add(A.route.id),new Set),f=new Set,p=await t({matches:i.map(g=>{let A=c.has(g.route.id);return jt({},g,{shouldLoad:A,resolve:F=>(f.add(g.route.id),A?Fk(e,n,g,s,a,F,u):Promise.resolve({type:wt.data,result:void 0}))})}),request:n,params:i[0].params,context:u});return i.forEach(g=>qe(f.has(g.route.id),'`match.resolve()` was not called for route id "'+g.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),p.filter((g,A)=>c.has(i[A].route.id))}async function Fk(t,e,n,r,i,s,a){let u,c,f=p=>{let g,A=new Promise((L,M)=>g=M);c=()=>g(),e.signal.addEventListener("abort",c);let b=L=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:a},...L!==void 0?[L]:[]),F;return s?F=s(L=>b(L)):F=(async()=>{try{return{type:"data",result:await b()}}catch(L){return{type:"error",result:L}}})(),Promise.race([F,A])};try{let p=n.route[t];if(n.route.lazy)if(p){let g,[A]=await Promise.all([f(p).catch(b=>{g=b}),f0(n.route,i,r)]);if(g!==void 0)throw g;u=A}else if(await f0(n.route,i,r),p=n.route[t],p)u=await f(p);else if(t==="action"){let g=new URL(e.url),A=g.pathname+g.search;throw nr(405,{method:e.method,pathname:A,routeId:n.route.id})}else return{type:wt.data,result:void 0};else if(p)u=await f(p);else{let g=new URL(e.url),A=g.pathname+g.search;throw nr(404,{pathname:A})}qe(u.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:wt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function Lk(t){let{result:e,type:n}=t;if(Nw(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:wt.error,error:p}}return n===wt.error?{type:wt.error,error:new Gh(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:wt.data,data:f,statusCode:e.status,headers:e.headers}}if(n===wt.error){if(E0(e)){var r;if(e.data instanceof Error){var i;return{type:wt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Gh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:wt.error,error:e,statusCode:Bf(e)?e.status:void 0}}if(Uk(e)){var s,a;return{type:wt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(E0(e)){var u,c;return{type:wt.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:wt.data,data:e}}function Vk(t,e,n,r,i,s){let a=t.headers.get("Location");if(qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sg.test(a)){let u=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=em(new URL(e.url),u,i,!0,a,s),t.headers.set("Location",a)}return t}function d0(t,e,n){if(Sg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=vu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ao(t,e,n,r){let i=t.createURL(Rw(e)).toString(),s={signal:n};if(r&&Ei(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=tm(r.formData):s.body=r.formData}return new Request(i,s)}function tm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function p0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Ok(t,e,n,r,i,s){let a={},u=null,c,f=!1,p={},g=r&&Pr(r[1])?r[1].error:void 0;return n.forEach((A,b)=>{let F=e[b].route.id;if(qe(!Ma(A),"Cannot handle redirect results in processLoaderData"),Pr(A)){let L=A.error;g!==void 0&&(L=g,g=void 0),u=u||{};{let M=Bo(t,F);u[M.route.id]==null&&(u[M.route.id]=L)}a[F]=void 0,f||(f=!0,c=Bf(A.error)?A.error.status:500),A.headers&&(p[F]=A.headers)}else Ba(A)?(i.set(F,A.deferredData),a[F]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[F]=A.headers)):(a[F]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[F]=A.headers))}),g!==void 0&&r&&(u={[r[0]]:g},a[r[0]]=void 0),{loaderData:a,errors:u,statusCode:c||200,loaderHeaders:p}}function m0(t,e,n,r,i,s,a,u){let{loaderData:c,errors:f}=Ok(e,n,r,i,u);for(let p=0;p<s.length;p++){let{key:g,match:A,controller:b}=s[p];qe(a!==void 0&&a[p]!==void 0,"Did not find corresponding fetcher result");let F=a[p];if(!(b&&b.signal.aborted))if(Pr(F)){let L=Bo(t.matches,A==null?void 0:A.route.id);f&&f[L.route.id]||(f=jt({},f,{[L.route.id]:F.error})),t.fetchers.delete(g)}else if(Ma(F))qe(!1,"Unhandled fetcher revalidation redirect");else if(Ba(F))qe(!1,"Unhandled fetcher deferred data");else{let L=$s(F.data);t.fetchers.set(g,L)}}return{loaderData:c,errors:f}}function g0(t,e,n,r){let i=jt({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function v0(t){return t?Pr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Bo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function y0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function nr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,u="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(u="Bad Request",s==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+a):i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(u="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(u="Not Found",c='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new Gh(t||500,u,new Error(c),!0)}function _0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ma(n))return{result:n,idx:e}}}function Rw(t){let e=typeof t=="string"?Ns(t):t;return Xa(jt({},e,{hash:""}))}function Bk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Mk(t){return typeof t=="object"&&t!=null&&"then"in t}function jk(t){return Nw(t.result)&&xk.has(t.result.status)}function Ba(t){return t.type===wt.deferred}function Pr(t){return t.type===wt.error}function Ma(t){return(t&&t.type)===wt.redirect}function E0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Uk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Nw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zk(t){return Ak.has(t.toLowerCase())}function Ei(t){return Ek.has(t.toLowerCase())}async function w0(t,e,n,r,i,s){for(let a=0;a<n.length;a++){let u=n[a],c=e[a];if(!c)continue;let f=t.find(g=>g.route.id===c.route.id),p=f!=null&&!bw(f,c)&&(s&&s[c.route.id])!==void 0;if(Ba(u)&&(i||p)){let g=r[a];qe(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await Dw(u,g,i).then(A=>{A&&(n[a]=A||n[a])})}}}async function Dw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:wt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:wt.error,error:i}}return{type:wt.data,data:t.deferredData.data}}}function Ig(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ju(t,e){let n=typeof e=="string"?Ns(e).search:e.search;if(t[t.length-1].route.index&&Ig(n||""))return t[t.length-1];let r=Iw(t);return r[r.length-1]}function A0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function zd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $k(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $s(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hk(t,e){try{let n=t.sessionStorage.getItem(kw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Wk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(kw,JSON.stringify(n))}catch(r){Ya(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}const Mf=W.createContext(null),Fw=W.createContext(null),Ca=W.createContext(null),Tg=W.createContext(null),Yi=W.createContext({outlet:null,matches:[],isDataRoute:!1}),Lw=W.createContext(null);function Gk(t,e){let{relative:n}=e===void 0?{}:e;yu()||qe(!1);let{basename:r,navigator:i}=W.useContext(Ca),{hash:s,pathname:a,search:u}=Ow(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ys([r,a])),i.createHref({pathname:c,search:u,hash:s})}function yu(){return W.useContext(Tg)!=null}function Xi(){return yu()||qe(!1),W.useContext(Tg).location}function Vw(t){W.useContext(Ca).static||W.useLayoutEffect(t)}function Nn(){let{isDataRoute:t}=W.useContext(Yi);return t?o2():Kk()}function Kk(){yu()||qe(!1);let t=W.useContext(Mf),{basename:e,future:n,navigator:r}=W.useContext(Ca),{matches:i}=W.useContext(Yi),{pathname:s}=Xi(),a=JSON.stringify(Vf(i,n.v7_relativeSplatPath)),u=W.useRef(!1);return Vw(()=>{u.current=!0}),W.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=Of(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ys([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,a,s,t])}const Qk=W.createContext(null);function Yk(t){let e=W.useContext(Yi).outlet;return e&&W.createElement(Qk.Provider,{value:t},e)}function Ji(){let{matches:t}=W.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function Ow(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(Ca),{matches:i}=W.useContext(Yi),{pathname:s}=Xi(),a=JSON.stringify(Vf(i,r.v7_relativeSplatPath));return W.useMemo(()=>Of(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Xk(t,e,n,r){yu()||qe(!1);let{navigator:i}=W.useContext(Ca),{matches:s}=W.useContext(Yi),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=Xi(),p;p=f;let g=p.pathname||"/",A=g;if(c!=="/"){let L=c.replace(/^\//,"").split("/");A="/"+g.replace(/^\//,"").split("/").slice(L.length).join("/")}let b=Fa(t,{pathname:A});return n2(b&&b.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:ys([c,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?c:ys([c,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r)}function Jk(){let t=a2(),e=Bf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,null)}const Zk=W.createElement(Jk,null);class e2 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(Yi.Provider,{value:this.props.routeContext},W.createElement(Lw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t2(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(Mf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Yi.Provider,{value:e},r)}function n2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||qe(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:A,errors:b}=n,F=g.route.loader&&A[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||F){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,A)=>{let b,F=!1,L=null,M=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,L=g.route.errorElement||Zk,c&&(f<0&&A===0?(F=!0,M=null):f===A&&(F=!0,M=g.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,A+1)),k=()=>{let P;return b?P=L:F?P=M:g.route.Component?P=W.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,W.createElement(t2,{match:g,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||A===0)?W.createElement(e2,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var Bw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Bw||{}),Qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qh||{});function r2(t){let e=W.useContext(Mf);return e||qe(!1),e}function i2(t){let e=W.useContext(Fw);return e||qe(!1),e}function s2(t){let e=W.useContext(Yi);return e||qe(!1),e}function Mw(t){let e=s2(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function a2(){var t;let e=W.useContext(Lw),n=i2(Qh.UseRouteError),r=Mw(Qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o2(){let{router:t}=r2(Bw.UseNavigateStable),e=Mw(Qh.UseNavigateStable),n=W.useRef(!1);return Vw(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},s)))},[t,e])}function x0(t){let{to:e,replace:n,state:r,relative:i}=t;yu()||qe(!1);let{future:s,static:a}=W.useContext(Ca),{matches:u}=W.useContext(Yi),{pathname:c}=Xi(),f=Nn(),p=Of(e,Vf(u,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(p);return W.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:i}),[f,g,i,n,r]),null}function u2(t){return Yk(t.context)}function Qt(t){qe(!1)}function l2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tn.Pop,navigator:s,static:a=!1,future:u}=t;yu()&&qe(!1);let c=e.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:c,navigator:s,static:a,future:Kh({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Ns(r));let{pathname:p="/",search:g="",hash:A="",state:b=null,key:F="default"}=r,L=W.useMemo(()=>{let M=vu(p,c);return M==null?null:{location:{pathname:M,search:g,hash:A,state:b,key:F},navigationType:i}},[c,p,g,A,b,F,i]);return L==null?null:W.createElement(Ca.Provider,{value:f},W.createElement(Tg.Provider,{children:n,value:L}))}new Promise(()=>{});function nm(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,nm(r.props.children,s));return}r.type!==Qt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=nm(r.props.children,s)),n.push(a)}),n}function c2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:W.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:W.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:W.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function h2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d2(t,e){return t.button===0&&(!e||e==="_self")&&!f2(t)}const p2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],m2="6";try{window.__reactRouterVersion=m2}catch{}function g2(t,e){return Tk({basename:void 0,future:Ml({},void 0,{v7_prependBasename:!0}),history:XT({window:void 0}),hydrationData:v2(),routes:t,mapRouteProperties:c2,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function v2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ml({},e,{errors:y2(e.errors)})),e}function y2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Gh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const _2=W.createContext({isTransitioning:!1}),E2=W.createContext(new Map),w2="startTransition",C0=BS[w2],A2="flushSync",S0=YT[A2];function x2(t){C0?C0(t):t()}function Wu(t){S0?S0(t):t()}let C2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function S2(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=W.useState(n.state),[a,u]=W.useState(),[c,f]=W.useState({isTransitioning:!1}),[p,g]=W.useState(),[A,b]=W.useState(),[F,L]=W.useState(),M=W.useRef(new Map),{v7_startTransition:R}=r||{},k=W.useCallback(x=>{R?x2(x):x()},[R]),P=W.useCallback((x,S)=>{let{deletedFetchers:D,unstable_flushSync:B,unstable_viewTransitionOpts:U}=S;D.forEach(He=>M.current.delete(He)),x.fetchers.forEach((He,Pt)=>{He.data!==void 0&&M.current.set(Pt,He.data)});let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!U||V){B?Wu(()=>s(x)):k(()=>s(x));return}if(B){Wu(()=>{A&&(p&&p.resolve(),A.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let He=n.window.document.startViewTransition(()=>{Wu(()=>s(x))});He.finished.finally(()=>{Wu(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})})}),Wu(()=>b(He));return}A?(p&&p.resolve(),A.skipTransition(),L({state:x,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(x),f({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,A,p,M,k]);W.useLayoutEffect(()=>n.subscribe(P),[n,P]),W.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new C2)},[c]),W.useEffect(()=>{if(p&&a&&n.window){let x=a,S=p.promise,D=n.window.document.startViewTransition(async()=>{k(()=>s(x)),await S});D.finished.finally(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})}),b(D)}},[k,a,p,n.window]),W.useEffect(()=>{p&&a&&i.location.key===a.location.key&&p.resolve()},[p,A,i.location,a]),W.useEffect(()=>{!c.isTransitioning&&F&&(u(F.state),f({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}),L(void 0))},[c.isTransitioning,F]),W.useEffect(()=>{},[]);let q=W.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,S,D)=>n.navigate(x,{state:S,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(x,S,D)=>n.navigate(x,{replace:!0,state:S,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),G=n.basename||"/",d=W.useMemo(()=>({router:n,navigator:q,static:!1,basename:G}),[n,q,G]),I=W.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return W.createElement(W.Fragment,null,W.createElement(Mf.Provider,{value:d},W.createElement(Fw.Provider,{value:i},W.createElement(E2.Provider,{value:M.current},W.createElement(_2.Provider,{value:c},W.createElement(l2,{basename:G,location:i.location,navigationType:i.historyAction,navigator:q,future:I},i.initialized||n.future.v7_partialHydration?W.createElement(I2,{routes:n.routes,future:n.future,state:i}):e))))),null)}const I2=W.memo(T2);function T2(t){let{routes:e,future:n,state:r}=t;return Xk(e,void 0,r,n)}const k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ga=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:c,to:f,preventScrollReset:p,unstable_viewTransition:g}=e,A=h2(e,p2),{basename:b}=W.useContext(Ca),F,L=!1;if(typeof f=="string"&&b2.test(f)&&(F=f,k2))try{let P=new URL(window.location.href),q=f.startsWith("//")?new URL(P.protocol+f):new URL(f),G=vu(q.pathname,b);q.origin===P.origin&&G!=null?f=G+q.search+q.hash:L=!0}catch{}let M=Gk(f,{relative:i}),R=P2(f,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,unstable_viewTransition:g});function k(P){r&&r(P),P.defaultPrevented||R(P)}return W.createElement("a",Ml({},A,{href:F||M,onClick:L||s?r:k,ref:n,target:c}))});var I0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(I0||(I0={}));var T0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T0||(T0={}));function P2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,c=Nn(),f=Xi(),p=Ow(t,{relative:a});return W.useCallback(g=>{if(d2(g,n)){g.preventDefault();let A=r!==void 0?r:Xa(f)===Xa(p);c(t,{replace:A,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u})}},[f,c,p,r,i,n,t,s,a,u])}const R2=()=>_.jsxs("header",{className:"header text-center border-bottom py-3",children:[_.jsx("h1",{className:"fw-bold",children:_.jsx(ga,{to:"/",className:"text-dark",children:"منصة طلاب دار العلوم"})}),_.jsx("p",{className:"text-danger fw-bold m-0",children:"[المنصة غير تابعة لإدارة الكلية]"})]}),N2=()=>_.jsx("div",{className:"subheader bg-dark text-light fs-6",style:{padding:"11px 0"},children:_.jsxs("div",{className:"container-xl text-center",children:["إعلامات وتحديثات المنصة: ",_.jsx("a",{href:"https://t.me/darelom_students",children:"قناة التليجرام."})]})}),D2=()=>_.jsx("footer",{className:"footer bg-black py-4",children:_.jsxs("div",{className:"container text-center text-light",children:[_.jsxs("div",{className:"d-flex flex-wrap gap-4 gap-sm-5",children:[_.jsxs(k0,{title:"تنبيهات هامة",children:[_.jsx(Us,{children:"إدارة الكلية غير مسئولة عن هذه المنصة."}),_.jsxs(Us,{children:[_.jsx("span",{children:"للإبلاغ عن خطأ: "}),_.jsx(ga,{to:"/send_problem",children:"أبلغنا من هنا"}),"."]}),_.jsxs(Us,{children:[_.jsx("span",{children:"لاقتراح تعديلات: "}),_.jsx(ga,{to:"/send_suggestion",children:"اقترح من هنا"}),"."]}),_.jsxs(Us,{children:[_.jsx("span",{children:"إعلامات المنصة: "}),_.jsx("a",{href:"https://t.me/darelom_students",children:"قناة التليجرام"}),"."]})]}),_.jsxs(k0,{title:"روابط شخصية",children:[_.jsx(Us,{children:_.jsx("a",{href:"https://github.com/iabdwahab/darelom-students",children:"ملفات المشروع على GitHub."})}),_.jsx(Us,{children:_.jsx("a",{href:"https://iabdwahab.me",children:"معرض الأعمال."})}),_.jsx(Us,{children:_.jsx("a",{href:"https://www.linkedin.com/in/iabdwahab/",children:"LinkedIn."})}),_.jsx(Us,{children:_.jsx("a",{href:"https://github.com/iabdwahab",children:"GitHub."})})]})]}),_.jsx("hr",{}),_.jsxs("p",{className:"m-0",children:[_.jsx("span",{children:"تم إنشاء المنصة بواسطة: "}),_.jsx("span",{className:"text-warning",children:"إبراهيم عبد الوهاب."})]})]})});function k0({title:t,children:e}){return _.jsxs("div",{className:"text-end",children:[_.jsxs("h4",{className:"mb-3",children:[t,":"]}),e]})}function Us({children:t}){return _.jsxs("p",{className:"m-0",children:["- ",t]})}const F2=()=>{const{pathname:t}=Xi();W.useEffect(()=>{window.scrollTo(0,0)},[t])};var b0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let A=(u&15)<<2|f>>6,b=f&63;c||(b=64,a||(A=64)),r.push(n[p],n[g],n[A],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new V2;const A=s<<2|u>>4;if(r.push(A),f!==64){const b=u<<4&240|f>>2;if(r.push(b),g!==64){const F=f<<6&192|g;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(t){const e=jw(t);return Uw.encodeByteArray(e,!0)},Yh=function(t){return O2(t).replace(/\./g,"")},zw=function(t){try{return Uw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=()=>B2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof b0>"u")return;const t=b0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zw(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return M2()||j2()||U2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$w=t=>{var e,n;return(n=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z2=t=>{const e=$w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qw=()=>{var t;return(t=jf())===null||t===void 0?void 0:t.config},Hw=t=>{var e;return(e=jf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yh(JSON.stringify(n)),Yh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function W2(){var t;const e=(t=jf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K2(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q2(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Kw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Y2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X2,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?J2(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new bi(i,u,r)}}function J2(t,e){return t.replace(Z2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Z2=/\{\$([^}]+)}/g;function eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(P0(s)&&P0(a)){if(!jl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function el(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tb(t,e){const n=new nb(t,e);return n.subscribe.bind(n)}class nb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$d),i.error===void 0&&(i.error=$d),i.complete===void 0&&(i.complete=$d);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1e3,sb=2,ab=4*60*60*1e3,ob=.5;function R0(t,e=ib,n=sb){const r=e*Math.pow(n,t),i=Math.round(ob*r*(Math.random()-.5)*2);return Math.min(ab,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(t){return t===Da?void 0:t}function cb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ub(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const fb={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},db=rt.INFO,pb={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},mb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uf{constructor(e){this.name=e,this._logLevel=db,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const gb=(t,e)=>e.some(n=>t instanceof n);let N0,D0;function vb(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,rm=new WeakMap,Yw=new WeakMap,qd=new WeakMap,kg=new WeakMap;function _b(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ha(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Qw.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function Eb(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});rm.set(t,e)}let im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wb(t){im=t(im)}function Ab(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hd(this),e,...n);return Yw.set(r,e.sort?e.sort():[e]),ha(r)}:yb().includes(t)?function(...e){return t.apply(Hd(this),e),ha(Qw.get(this))}:function(...e){return ha(t.apply(Hd(this),e))}}function xb(t){return typeof t=="function"?Ab(t):(t instanceof IDBTransaction&&Eb(t),gb(t,vb())?new Proxy(t,im):t)}function ha(t){if(t instanceof IDBRequest)return _b(t);if(qd.has(t))return qd.get(t);const e=xb(t);return e!==t&&(qd.set(t,e),kg.set(e,t)),e}const Hd=t=>kg.get(t);function Xw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=ha(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ha(a.result),c.oldVersion,c.newVersion,ha(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Cb=["get","getKey","getAll","getAllKeys","count"],Sb=["put","add","delete","clear"],Wd=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Cb.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Wd.set(e,s),s}wb(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",L0="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Uf("@firebase/app"),kb="@firebase/app-compat",bb="@firebase/analytics-compat",Pb="@firebase/analytics",Rb="@firebase/app-check-compat",Nb="@firebase/app-check",Db="@firebase/auth",Fb="@firebase/auth-compat",Lb="@firebase/database",Vb="@firebase/database-compat",Ob="@firebase/functions",Bb="@firebase/functions-compat",Mb="@firebase/installations",jb="@firebase/installations-compat",Ub="@firebase/messaging",zb="@firebase/messaging-compat",$b="@firebase/performance",qb="@firebase/performance-compat",Hb="@firebase/remote-config",Wb="@firebase/remote-config-compat",Gb="@firebase/storage",Kb="@firebase/storage-compat",Qb="@firebase/firestore",Yb="@firebase/vertexai-preview",Xb="@firebase/firestore-compat",Jb="firebase",Zb="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",eP={[sm]:"fire-core",[kb]:"fire-core-compat",[Pb]:"fire-analytics",[bb]:"fire-analytics-compat",[Nb]:"fire-app-check",[Rb]:"fire-app-check-compat",[Db]:"fire-auth",[Fb]:"fire-auth-compat",[Lb]:"fire-rtdb",[Vb]:"fire-rtdb-compat",[Ob]:"fire-fn",[Bb]:"fire-fn-compat",[Mb]:"fire-iid",[jb]:"fire-iid-compat",[Ub]:"fire-fcm",[zb]:"fire-fcm-compat",[$b]:"fire-perf",[qb]:"fire-perf-compat",[Hb]:"fire-rc",[Wb]:"fire-rc-compat",[Gb]:"fire-gcs",[Kb]:"fire-gcs-compat",[Qb]:"fire-fst",[Xb]:"fire-fst-compat",[Yb]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,tP=new Map,om=new Map;function V0(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(om.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of Xh.values())V0(n,t);for(const n of tP.values())V0(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new oo("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=Zb;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fa.create("bad-app-name",{appName:String(i)});if(n||(n=qw()),!n)throw fa.create("no-options");const s=Xh.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw fa.create("duplicate-app",{appName:i})}const a=new hb(i);for(const c of om.values())a.addComponent(c);const u=new rP(n,r,a);return Xh.set(i,u),u}function bg(t=am){const e=Xh.get(t);if(!e&&t===am&&qw())return Jw();if(!e)throw fa.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let i=(r=eP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(u.join(" "));return}Ki(new Ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",sP=1,Ul="firebase-heartbeat-store";let Gd=null;function Zw(){return Gd||(Gd=Xw(iP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),Gd}async function aP(t){try{const n=(await Zw()).transaction(Ul),r=await n.objectStore(Ul).get(eA(t));return await n.done,r}catch(e){if(e instanceof bi)Cs.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function O0(t,e){try{const r=(await Zw()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,eA(t)),await r.done}catch(n){if(n instanceof bi)Cs.warn(n.message);else{const r=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(r.message)}}}function eA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1024,uP=30*24*60*60*1e3;class lP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=uP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B0(),{heartbeatsToSend:r,unsentEntries:i}=cP(this._heartbeatsCache.heartbeats),s=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cs.warn(n),""}}}function B0(){return new Date().toISOString().substring(0,10)}function cP(t,e=oP){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),M0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M0(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){Ki(new Ii("platform-logger",e=>new Ib(e),"PRIVATE")),Ki(new Ii("heartbeat",e=>new lP(e),"PRIVATE")),ni(sm,L0,t),ni(sm,L0,"esm2017"),ni("fire-js","")}fP("");var dP="firebase",pP="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(dP,pP,"app");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,tA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function S(){}S.prototype=x.prototype,I.D=x.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(D,B,U){for(var V=Array(arguments.length-2),He=2;He<arguments.length;He++)V[He-2]=arguments[He];return x.prototype[B].apply(D,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,S){S||(S=0);var D=Array(16);if(typeof x=="string")for(var B=0;16>B;++B)D[B]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(B=0;16>B;++B)D[B]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=I.g[0],S=I.g[1],B=I.g[2];var U=I.g[3],V=x+(U^S&(B^U))+D[0]+3614090360&4294967295;x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[1]+3905402710&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[2]+606105819&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[3]+3250441966&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[4]+4118548399&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[5]+1200080426&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[6]+2821735955&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[7]+4249261313&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[8]+1770035416&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[9]+2336552879&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[10]+4294925233&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[11]+2304563134&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[12]+1804603682&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[13]+4254626195&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[14]+2792965006&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[15]+1236535329&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(B^U&(S^B))+D[1]+4129170786&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[6]+3225465664&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[11]+643717713&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[0]+3921069994&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[5]+3593408605&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[10]+38016083&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[15]+3634488961&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[4]+3889429448&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[9]+568446438&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[14]+3275163606&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[3]+4107603335&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[8]+1163531501&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[13]+2850285829&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[2]+4243563512&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[7]+1735328473&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[12]+2368359562&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(S^B^U)+D[5]+4294588738&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[8]+2272392833&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[11]+1839030562&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[14]+4259657740&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[1]+2763975236&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[4]+1272893353&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[7]+4139469664&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[10]+3200236656&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[13]+681279174&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[0]+3936430074&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[3]+3572445317&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[6]+76029189&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[9]+3654602809&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[12]+3873151461&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[15]+530742520&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[2]+3299628645&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(B^(S|~U))+D[0]+4096336452&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[7]+1126891415&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[14]+2878612391&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[5]+4237533241&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[12]+1700485571&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[3]+2399980690&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[10]+4293915773&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[1]+2240044497&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[8]+1873313359&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[15]+4264355552&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[6]+2734768916&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[13]+1309151649&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[4]+4149444226&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[11]+3174756917&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[2]+718787259&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var S=x-this.blockSize,D=this.B,B=this.h,U=0;U<x;){if(B==0)for(;U<=S;)i(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<x;)if(D[B++]=I.charCodeAt(U++),B==this.blockSize){i(this,D),B=0;break}}else for(;U<x;)if(D[B++]=I[U++],B==this.blockSize){i(this,D),B=0;break}}this.h=B,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var S=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=S&255,S/=256;for(this.u(I),I=Array(16),x=S=0;4>x;++x)for(var D=0;32>D;D+=8)I[S++]=this.g[x]>>>D&255;return I};function s(I,x){var S=u;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=x(I)}function a(I,x){this.h=x;for(var S=[],D=!0,B=I.length-1;0<=B;B--){var U=I[B]|0;D&&U==x||(S[B]=U,D=!1)}this.g=S}var u={};function c(I){return-128<=I&&128>I?s(I,function(x){return new a([x|0],0>x?-1:0)}):new a([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return M(f(-I));for(var x=[],S=1,D=0;I>=S;D++)x[D]=I/S|0,S*=4294967296;return new a(x,0)}function p(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return M(p(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=f(Math.pow(x,8)),D=g,B=0;B<I.length;B+=8){var U=Math.min(8,I.length-B),V=parseInt(I.substring(B,B+U),x);8>U?(U=f(Math.pow(x,U)),D=D.j(U).add(f(V))):(D=D.j(S),D=D.add(f(V)))}return D}var g=c(0),A=c(1),b=c(16777216);t=a.prototype,t.m=function(){if(L(this))return-M(this).m();for(var I=0,x=1,S=0;S<this.g.length;S++){var D=this.i(S);I+=(0<=D?D:4294967296+D)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(L(this))return"-"+M(this).toString(I);for(var x=f(Math.pow(I,6)),S=this,D="";;){var B=q(S,x).g;S=R(S,B.j(x));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=B,F(S))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=R(this,I),L(I)?-1:F(I)?0:1};function M(I){for(var x=I.g.length,S=[],D=0;D<x;D++)S[D]=~I.g[D];return new a(S,~I.h).add(A)}t.abs=function(){return L(this)?M(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0,B=0;B<=x;B++){var U=D+(this.i(B)&65535)+(I.i(B)&65535),V=(U>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);D=V>>>16,U&=65535,V&=65535,S[B]=V<<16|U}return new a(S,S[S.length-1]&-2147483648?-1:0)};function R(I,x){return I.add(M(x))}t.j=function(I){if(F(this)||F(I))return g;if(L(this))return L(I)?M(this).j(M(I)):M(M(this).j(I));if(L(I))return M(this.j(M(I)));if(0>this.l(b)&&0>I.l(b))return f(this.m()*I.m());for(var x=this.g.length+I.g.length,S=[],D=0;D<2*x;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var B=0;B<I.g.length;B++){var U=this.i(D)>>>16,V=this.i(D)&65535,He=I.i(B)>>>16,Pt=I.i(B)&65535;S[2*D+2*B]+=V*Pt,k(S,2*D+2*B),S[2*D+2*B+1]+=U*Pt,k(S,2*D+2*B+1),S[2*D+2*B+1]+=V*He,k(S,2*D+2*B+1),S[2*D+2*B+2]+=U*He,k(S,2*D+2*B+2)}for(D=0;D<x;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=x;D<2*x;D++)S[D]=0;return new a(S,0)};function k(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function P(I,x){this.g=I,this.h=x}function q(I,x){if(F(x))throw Error("division by zero");if(F(I))return new P(g,g);if(L(I))return x=q(M(I),x),new P(M(x.g),M(x.h));if(L(x))return x=q(I,M(x)),new P(M(x.g),x.h);if(30<I.g.length){if(L(I)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var S=A,D=x;0>=D.l(I);)S=G(S),D=G(D);var B=d(S,1),U=d(D,1);for(D=d(D,2),S=d(S,2);!F(D);){var V=U.add(D);0>=V.l(I)&&(B=B.add(S),U=V),D=d(D,1),S=d(S,1)}return x=R(I,B.j(x)),new P(B,x)}for(B=g;0<=I.l(x);){for(S=Math.max(1,Math.floor(I.m()/x.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=f(S),V=U.j(x);L(V)||0<V.l(I);)S-=D,U=f(S),V=U.j(x);F(U)&&(U=A),B=B.add(U),I=R(I,V)}return new P(B,I)}t.A=function(I){return q(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)&I.i(D);return new a(S,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)|I.i(D);return new a(S,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)^I.i(D);return new a(S,this.h^I.h)};function G(I){for(var x=I.g.length+1,S=[],D=0;D<x;D++)S[D]=I.i(D)<<1|I.i(D-1)>>>31;return new a(S,I.h)}function d(I,x){var S=x>>5;x%=32;for(var D=I.g.length-S,B=[],U=0;U<D;U++)B[U]=0<x?I.i(U+S)>>>x|I.i(U+S+1)<<32-x:I.i(U+S);return new a(B,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,qa=a}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nA,rA,tl,iA,ph,um,sA,aA,oA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,y){return l==Array.prototype||l==Object.prototype||(l[m]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<l.length;++m){var y=l[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var y=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var H=l[T];if(!(H in y))break e;y=y[H]}l=l[l.length-1],T=y[l],m=m(T),m!=T&&m!=null&&e(y,l,{configurable:!0,writable:!0,value:m})}}function s(l,m){l instanceof String&&(l+="");var y=0,T=!1,H={next:function(){if(!T&&y<l.length){var X=y++;return{value:m(X,l[X]),done:!1}}return T=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(l){return l||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function f(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function p(l,m,y){return l.call.apply(l.bind,arguments)}function g(l,m,y){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,T),l.apply(m,H)}}return function(){return l.apply(m,arguments)}}function A(l,m,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,A.apply(null,arguments)}function b(l,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function F(l,m){function y(){}y.prototype=m.prototype,l.aa=m.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(T,H,X){for(var le=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)le[Ct-2]=arguments[Ct];return m.prototype[H].apply(T,le)}}function L(l){const m=l.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=l[T];return y}return[]}function M(l,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(c(T)){const H=l.length||0,X=T.length||0;l.length=H+X;for(let le=0;le<X;le++)l[H+le]=T[le]}else l.push(T)}}class R{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(l){return/^[\s\xa0]*$/.test(l)}function P(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function q(l){return q[" "](l),l}q[" "]=function(){};var G=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function d(l,m,y){for(const T in l)m.call(y,l[T],T,l)}function I(l,m){for(const y in l)m.call(void 0,l[y],y,l)}function x(l){const m={};for(const y in l)m[y]=l[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,m){let y,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(y in T)l[y]=T[y];for(let X=0;X<S.length;X++)y=S[X],Object.prototype.hasOwnProperty.call(T,y)&&(l[y]=T[y])}}function B(l){var m=1;l=l.split(":");const y=[];for(;0<m&&l.length;)y.push(l.shift()),m--;return l.length&&y.push(l.join(":")),y}function U(l){u.setTimeout(()=>{throw l},0)}function V(){var l=ve;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,y){const T=Pt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Pt=new R(()=>new Bt,l=>l.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ae=!1,ve=new He,we=()=>{const l=u.Promise.resolve(void 0);de=()=>{l.then(Ge)}};var Ge=()=>{for(var l;l=V();){try{l.h.call(l.g)}catch(y){U(y)}var m=Pt;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}ae=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};u.addEventListener("test",y,m),u.removeEventListener("test",y,m)}catch{}return l}();function St(l,m){if(Qe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(G){e:{try{q(m.nodeName);var H=!0;break e}catch{}H=!1}H||(m=null)}}else y=="mouseover"?m=l.fromElement:y=="mouseout"&&(m=l.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ht[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&St.aa.h.call(this)}}F(St,Qe);var Ht={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),Ri=0;function wr(l,m,y,T,H){this.listener=l,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=H,this.key=++Ri,this.da=this.fa=!1}function An(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function jr(l){this.src=l,this.g={},this.h=0}jr.prototype.add=function(l,m,y,T,H){var X=l.toString();l=this.g[X],l||(l=this.g[X]=[],this.h++);var le=dn(l,m,T,H);return-1<le?(m=l[le],y||(m.fa=!1)):(m=new wr(m,this.src,X,!!T,H),m.fa=y,l.push(m)),m};function Lt(l,m){var y=m.type;if(y in l.g){var T=l.g[y],H=Array.prototype.indexOf.call(T,m,void 0),X;(X=0<=H)&&Array.prototype.splice.call(T,H,1),X&&(An(m),l.g[y].length==0&&(delete l.g[y],l.h--))}}function dn(l,m,y,T){for(var H=0;H<l.length;++H){var X=l[H];if(!X.da&&X.listener==m&&X.capture==!!y&&X.ha==T)return H}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),li={};function Dn(l,m,y,T,H){if(Array.isArray(m)){for(var X=0;X<m.length;X++)Dn(l,m[X],y,T,H);return null}return y=Xn(y),l&&l[wn]?l.K(m,y,f(T)?!!T.capture:!!T,H):ur(l,m,y,!1,T,H)}function ur(l,m,y,T,H,X){if(!m)throw Error("Invalid event type");var le=f(H)?!!H.capture:!!H,Ct=ci(l);if(Ct||(l[ui]=Ct=new jr(l)),y=Ct.add(m,y,T,le,X),y.proxy)return y;if(T=ts(),y.proxy=T,T.src=l,T.listener=y,l.addEventListener)dt||(H=le),H===void 0&&(H=!1),l.addEventListener(m.toString(),T,H);else if(l.attachEvent)l.attachEvent(lr(m.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ts(){function l(y){return m.call(l.src,l.listener,y)}const m=Fn;return l}function Ur(l,m,y,T,H){if(Array.isArray(m))for(var X=0;X<m.length;X++)Ur(l,m[X],y,T,H);else T=f(T)?!!T.capture:!!T,y=Xn(y),l&&l[wn]?(l=l.i,m=String(m).toString(),m in l.g&&(X=l.g[m],y=dn(X,y,T,H),-1<y&&(An(X[y]),Array.prototype.splice.call(X,y,1),X.length==0&&(delete l.g[m],l.h--)))):l&&(l=ci(l))&&(m=l.g[m.toString()],l=-1,m&&(l=dn(m,y,T,H)),(y=-1<l?m[l]:null)&&sn(y))}function sn(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[wn])Lt(m.i,l);else{var y=l.type,T=l.proxy;m.removeEventListener?m.removeEventListener(y,T,l.capture):m.detachEvent?m.detachEvent(lr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ci(m))?(Lt(y,l),y.h==0&&(y.src=null,m[ui]=null)):An(l)}}}function lr(l){return l in li?li[l]:li[l]="on"+l}function Fn(l,m){if(l.da)l=!0;else{m=new St(m,this);var y=l.listener,T=l.ha||l.src;l.fa&&sn(l),l=y.call(T,m)}return l}function ci(l){return l=l[ui],l instanceof jr?l:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(l){return typeof l=="function"?l:(l[Yn]||(l[Yn]=function(m){return l.handleEvent(m)}),l[Yn])}function je(){Ne.call(this),this.i=new jr(this),this.M=this,this.F=null}F(je,Ne),je.prototype[wn]=!0,je.prototype.removeEventListener=function(l,m,y,T){Ur(this,l,m,y,T)};function st(l,m){var y,T=l.F;if(T)for(y=[];T;T=T.F)y.push(T);if(l=l.M,T=m.type||m,typeof m=="string")m=new Qe(m,l);else if(m instanceof Qe)m.target=m.target||l;else{var H=m;m=new Qe(T,l),D(m,H)}if(H=!0,y)for(var X=y.length-1;0<=X;X--){var le=m.g=y[X];H=pt(le,T,!0,m)&&H}if(le=m.g=l,H=pt(le,T,!0,m)&&H,H=pt(le,T,!1,m)&&H,y)for(X=0;X<y.length;X++)le=m.g=y[X],H=pt(le,T,!1,m)&&H}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var y=l.g[m],T=0;T<y.length;T++)An(y[T]);delete l.g[m],l.h--}}this.F=null},je.prototype.K=function(l,m,y,T){return this.i.add(String(l),m,!1,y,T)},je.prototype.L=function(l,m,y,T){return this.i.add(String(l),m,!0,y,T)};function pt(l,m,y,T){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,X=0;X<m.length;++X){var le=m[X];if(le&&!le.da&&le.capture==y){var Ct=le.listener,Cn=le.ha||le.src;le.fa&&Lt(l.i,le),H=Ct.call(Cn,T)!==!1&&H}}return H&&!T.defaultPrevented}function Ln(l,m,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:u.setTimeout(l,m||0)}function zr(l){l.g=Ln(()=>{l.g=null,l.i&&(l.i=!1,zr(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class fe extends Ne{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(l){Ne.call(this),this.h=l,this.g={}}F(Ar,Ne);var Jn=[];function ns(l){d(l.g,function(m,y){this.g.hasOwnProperty(y)&&sn(m)},l),l.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),ns(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=u.JSON.stringify,hi=u.JSON.parse,Ls=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Ni(){}Ni.prototype.h=null;function Zn(l){return l.h||(l.h=l.i())}function Jt(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ke(){Qe.call(this,"d")}F(Ke,Qe);function on(){Qe.call(this,"c")}F(on,Qe);var Ae={},Di=null;function $r(){return Di=Di||new je}Ae.La="serverreachability";function rs(l){Qe.call(this,Ae.La,l)}F(rs,Qe);function xn(l){const m=$r();st(m,new rs(m))}Ae.STAT_EVENT="statevent";function pn(l,m){Qe.call(this,Ae.STAT_EVENT,l),this.stat=m}F(pn,Qe);function Nt(l){const m=$r();st(m,new pn(m,l))}Ae.Ma="timingevent";function cr(l,m){Qe.call(this,Ae.Ma,l),this.size=m}F(cr,Qe);function j(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},m)}function z(){this.g=!0}z.prototype.xa=function(){this.g=!1};function K(l,m,y,T,H,X){l.info(function(){if(l.g)if(X)for(var le="",Ct=X.split("&"),Cn=0;Cn<Ct.length;Cn++){var ht=Ct[Cn].split("=");if(1<ht.length){var jn=ht[0];ht=ht[1];var Un=jn.split("_");le=2<=Un.length&&Un[1]=="type"?le+(jn+"="+ht+"&"):le+(jn+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+m+`
`+y+`
`+le})}function Z(l,m,y,T,H,X,le){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+m+`
`+y+`
`+X+" "+le})}function oe(l,m,y,T){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Te(l,y)+(T?" "+T:"")})}function ge(l,m){l.info(function(){return"TIMEOUT: "+m})}z.prototype.info=function(){};function Te(l,m){if(!l.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var T=y[l];if(!(2>T.length)){var H=T[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return an(y)}catch{return m}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function Ce(){}F(Ce,Ni),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},xe=new Ce;function $e(l,m,y,T){this.j=l,this.i=m,this.l=y,this.R=T||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var tt={},We={};function It(l,m,y){l.L=1,l.v=Hr(Mn(m)),l.m=y,l.P=!0,Et(l,null)}function Et(l,m){l.F=Date.now(),Vn(l),l.A=Mn(l.v);var y=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),v(y.i,"t",T),l.C=0,y=l.j.J,l.h=new Ye,l.g=Hv(l.j,y?m:null,!l.m),0<l.O&&(l.M=new fe(A(l.Y,l,l.g),l.O)),m=l.U,y=l.g,T=l.ca;var H="readystatechange";Array.isArray(H)||(H&&(Jn[0]=H.toString()),H=Jn);for(var X=0;X<H.length;X++){var le=Dn(y,H[X],T||m.handleEvent,!1,m.h||m);if(!le)break;m.g[le.key]=le}m=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),xn(),K(l.i,l.u,l.A,l.l,l.R,l.m)}$e.prototype.ca=function(l){l=l.target;const m=this.M;m&&O(l)==3?m.j():this.Y(l)},$e.prototype.Y=function(l){try{if(l==this.g)e:{const Un=O(this.g);var m=this.g.Ba();const _o=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Y(this.g)))){this.J||Un!=4||m==7||(m==8||0>=_o?xn(3):xn(2)),On(this);var y=this.g.Z();this.X=y;t:if(qr(this)){var T=Y(this.g);l="";var H=T.length,X=O(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Kt(this);var le="";break t}this.h.i=new u.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,l+=this.h.i.decode(T[m],{stream:!(X&&m==H-1)});T.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,Z(this.i,this.u,this.A,this.l,this.R,Un,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Cn=this.g;if((Ct=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ct)){var ht=Ct;break t}}ht=null}if(y=ht)oe(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ce(this,y);else{this.o=!1,this.s=3,Nt(12),Bn(this),Kt(this);break e}}if(this.P){y=!0;let mi;for(;!this.J&&this.C<le.length;)if(mi=hr(this,le),mi==We){Un==4&&(this.s=4,Nt(14),y=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==tt){this.s=4,Nt(15),oe(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else oe(this.i,this.l,mi,null),ce(this,mi);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||le.length!=0||this.h.h||(this.s=1,Nt(16),y=!1),this.o=this.o&&y,!y)oe(this.i,this.l,le,"[Invalid Chunked Response]"),Bn(this),Kt(this);else if(0<le.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Pa(jn),jn.M=!0,Nt(11))}}else oe(this.i,this.l,le,null),ce(this,le);Un==4&&Bn(this),this.o&&!this.J&&(Un==4?Lu(this.j,this):(this.o=!1,Vn(this)))}else J(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Bn(this),Kt(this)}}}catch{}finally{}};function qr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function hr(l,m){var y=l.C,T=m.indexOf(`
`,y);return T==-1?We:(y=Number(m.substring(y,T)),isNaN(y)?tt:(T+=1,T+y>m.length?We:(m=m.slice(T,T+y),l.C=T+y,m)))}$e.prototype.cancel=function(){this.J=!0,Bn(this)};function Vn(l){l.S=Date.now()+l.I,xr(l,l.I)}function xr(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=j(A(l.ba,l),m)}function On(l){l.B&&(u.clearTimeout(l.B),l.B=null)}$e.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ge(this.i,this.A),this.L!=2&&(xn(),Nt(17)),Bn(this),this.s=2,Kt(this)):xr(this,this.S-l)};function Kt(l){l.j.G==0||l.J||Lu(l.j,l)}function Bn(l){On(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,ns(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ce(l,m){try{var y=l.j;if(y.G!=0&&(y.g==l||at(y.h,l))){if(!l.K&&at(y.h,l)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)vo(y),Fe(y);else break e;Ms(y),Nt(18)}}else y.za=H[1],0<y.za-y.T&&37500>H[2]&&y.F&&y.v==0&&!y.C&&(y.C=j(A(y.Za,y),6e3));if(1>=Wt(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Li(y,11)}else if((l.K||y.g==l)&&vo(y),!k(m))for(H=y.Da.g.parse(m),m=0;m<H.length;m++){let ht=H[m];if(y.T=ht[0],ht=ht[1],y.G==2)if(ht[0]=="c"){y.K=ht[1],y.ia=ht[2];const jn=ht[3];jn!=null&&(y.la=jn,y.j.info("VER="+y.la));const Un=ht[4];Un!=null&&(y.Aa=Un,y.j.info("SVER="+y.Aa));const _o=ht[5];_o!=null&&typeof _o=="number"&&0<_o&&(T=1.5*_o,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const mi=l.g;if(mi){const bc=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var X=T.h;X.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(mn(X,X.h),X.h=null))}if(T.D){const dd=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;dd&&(T.ya=dd,gt(T.I,T.D,dd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var le=l;if(T.qa=qv(T,T.J?T.ia:null,T.W),le.K){fi(T.h,le);var Ct=le,Cn=T.L;Cn&&(Ct.I=Cn),Ct.B&&(On(Ct),Vn(Ct)),T.g=le}else Zt(T);0<y.i.length&&ct(y)}else ht[0]!="stop"&&ht[0]!="close"||Li(y,7);else y.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Li(y,7):pe(y):ht[0]!="noop"&&y.l&&y.l.ta(ht),y.v=0)}}xn(4)}catch{}}var fr=class{constructor(l,m){this.g=l,this.map=m}};function Se(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wt(l){return l.h?1:l.g?l.g.size:0}function at(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function mn(l,m){l.g?l.g.add(m):l.h=m}function fi(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Se.prototype.cancel=function(){if(this.i=is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function is(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const y of l.g.values())m=m.concat(y.D);return m}return L(l.i)}function po(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],y=l.length,T=0;T<y;T++)m.push(l[T]);return m}m=[],y=0;for(T in l)m[y++]=l[T];return m}function Cr(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var y=0;y<l;y++)m.push(y);return m}m=[],y=0;for(const T in l)m[y++]=T;return m}}}function un(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var y=Cr(l),T=po(l),H=T.length,X=0;X<H;X++)m.call(void 0,T[X],y&&y[X],l)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(l,m){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var T=l[y].indexOf("="),H=null;if(0<=T){var X=l[y].substring(0,T);H=l[y].substring(T+1)}else X=l[y];m(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Sr){this.h=l.h,Os(this,l.j),this.o=l.o,this.g=l.g,as(this,l.s),this.l=l.l;var m=l.i,y=new us;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),os(this,y),this.m=l.m}else l&&(m=String(l).match(Vs))?(this.h=!1,Os(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),as(this,m[4]),this.l=di(m[5]||"",!0),os(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Sr.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Ir(m,mo,!0),":");var y=this.g;return(y||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Ir(m,mo,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ir(y,y.charAt(0)=="/"?Bs:pi,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ir(y,Ru)),l.join("")};function Mn(l){return new Sr(l)}function Os(l,m,y){l.j=y?di(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function as(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function os(l,m,y){m instanceof us?(l.i=m,N(l.i,l.h)):(y||(m=Ir(m,ba)),l.i=new us(m,l.h))}function gt(l,m,y){l.i.set(m,y)}function Hr(l){return gt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function di(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ir(l,m,y){return typeof l=="string"?(l=encodeURI(l).replace(m,ze),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ze(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mo=/[#\/\?@]/g,pi=/[#\?:]/g,Bs=/[#\?]/g,ba=/[#\?@]/g,Ru=/#/g;function us(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&ss(l.i,function(m,y){l.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=us.prototype,t.add=function(l,m){Tr(this),this.i=null,l=w(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(m),this.h+=1,this};function o(l,m){Tr(l),m=w(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function h(l,m){return Tr(l),m=w(l,m),l.g.has(m)}t.forEach=function(l,m){Tr(this),this.g.forEach(function(y,T){y.forEach(function(H){l.call(m,H,T,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const H=l[T];for(let X=0;X<H.length;X++)y.push(m[T])}return y},t.V=function(l){Tr(this);let m=[];if(typeof l=="string")h(this,l)&&(m=m.concat(this.g.get(w(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)m=m.concat(l[y])}return m},t.set=function(l,m){return Tr(this),this.i=null,l=w(this,l),h(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function v(l,m,y){o(l,m),0<y.length&&(l.i=null,l.g.set(w(l,m),L(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const X=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var H=X;le[T]!==""&&(H+="="+encodeURIComponent(String(le[T]))),l.push(H)}}return this.i=l.join("&")};function w(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function N(l,m){m&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(y,T){var H=T.toLowerCase();T!=H&&(o(this,T),v(this,H,y))},l)),l.j=m}function $(l,m){const y=new z;if(u.Image){const T=new Image;T.onload=b(ne,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(ne,y,"TestLoadImage: error",!1,m,T),T.onabort=b(ne,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(ne,y,"TestLoadImage: timeout",!1,m,T),u.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else m(!1)}function Q(l,m){const y=new z,T=new AbortController,H=setTimeout(()=>{T.abort(),ne(y,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:T.signal}).then(X=>{clearTimeout(H),X.ok?ne(y,"TestPingServer: ok",!0,m):ne(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),ne(y,"TestPingServer: error",!1,m)})}function ne(l,m,y,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(y)}catch{}}function ue(){this.g=new Ls}function Ve(l,m,y){const T=y||"";try{un(l,function(H,X){let le=H;f(H)&&(le=an(H)),m.push(T+X+"="+encodeURIComponent(le))})}catch(H){throw m.push(T+"type="+encodeURIComponent("_badmap")),H}}function Pe(l){this.l=l.Ub||null,this.j=l.eb||!1}F(Pe,Ni),Pe.prototype.g=function(){return new vt(this.l,this.j)},Pe.prototype.i=function(l){return function(){return l}}({});function vt(l,m){je.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(vt,je),t=vt.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,er(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||u).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gn(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wr(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wr(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?gn(this):er(this),this.readyState==3&&Wr(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,gn(this))},t.Qa=function(l){this.g&&(this.response=l,gn(this))},t.ga=function(){this.g&&gn(this)};function gn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,er(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=m.next();return l.join(`\r
`)};function er(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(vt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Fi(l){let m="";return d(l,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function tr(l,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Fi(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):gt(l,m,y))}function ot(l){je.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ot,je);var Nu=/^https?$/i,Du=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?Zn(this.o):Zn(xe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(X){xc(this,X);return}if(l=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)y.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())y.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Du,m,void 0))||T||H||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of y)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E(this),this.u=!0,this.g.send(l),this.u=!1}catch(X){xc(this,X)}};function xc(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Cc(l),go(l)}function Cc(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,st(this,"complete"),st(this,"abort"),go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sc(this):this.bb())},t.bb=function(){Sc(this)};function Sc(l){if(l.h&&typeof a<"u"&&(!l.v[1]||O(l)!=4||l.Z()!=2)){if(l.u&&O(l)==4)Ln(l.Ea,0,l);else if(st(l,"readystatechange"),O(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=le===0){var H=String(l.D).match(Vs)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),T=!Nu.test(H?H.toLowerCase():"")}y=T}if(y)st(l,"complete"),st(l,"success");else{l.m=6;try{var X=2<O(l)?l.g.statusText:""}catch{X=""}l.l=X+" ["+l.Z()+"]",Cc(l)}}finally{go(l)}}}}function go(l,m){if(l.g){E(l);const y=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||st(l,"ready");try{y.onreadystatechange=T}catch{}}}function E(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function O(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<O(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),hi(m)}};function Y(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function J(l){const m={};l=(l.g&&2<=O(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(k(l[T]))continue;var y=B(l[T]);const H=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const X=m[H]||[];m[H]=X,X.push(y)}I(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ie(l,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||m}function Re(l){this.Aa=0,this.i=[],this.j=new z,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ie("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ie("baseRetryDelayMs",5e3,l),this.cb=ie("retryDelaySeedMs",1e4,l),this.Wa=ie("forwardChannelMaxRetries",2,l),this.wa=ie("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Se(l&&l.concurrentRequestLimit),this.Da=new ue,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Re.prototype,t.la=8,t.G=1,t.connect=function(l,m,y,T){Nt(0),this.W=l,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=qv(this,null,this.W),ct(this)};function pe(l){if(Xe(l),l.G==3){var m=l.U++,y=Mn(l.I);if(gt(y,"SID",l.K),gt(y,"RID",m),gt(y,"TYPE","terminate"),yt(l,y),m=new $e(l,l.j,m),m.L=2,m.v=Hr(Mn(y)),y=!1,u.navigator&&u.navigator.sendBeacon)try{y=u.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&u.Image&&(new Image().src=m.v,y=!0),y||(m.g=Hv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vn(m)}Tc(l)}function Fe(l){l.g&&(Pa(l),l.g.cancel(),l.g=null)}function Xe(l){Fe(l),l.u&&(u.clearTimeout(l.u),l.u=null),vo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function ct(l){if(!mt(l.h)&&!l.s){l.s=!0;var m=l.Ga;de||we(),ae||(de(),ae=!0),ve.add(m,l),l.B=0}}function Tt(l,m){return Wt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=j(A(l.Ga,l,m),Ic(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const H=new $e(this,this.j,l);let X=this.o;if(this.S&&(X?(X=x(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Mt(this,H,m),y=Mn(this.I),gt(y,"RID",l),gt(y,"CVER",22),this.D&&gt(y,"X-HTTP-Session-Id",this.D),yt(this,y),X&&(this.O?m="headers="+encodeURIComponent(String(Fi(X)))+"&"+m:this.m&&tr(y,this.m,X)),mn(this.h,H),this.Ua&&gt(y,"TYPE","init"),this.P?(gt(y,"$req",m),gt(y,"SID","null"),H.T=!0,It(H,y,null)):It(H,y,m),this.G=2}}else this.G==3&&(l?xt(this,l):this.i.length==0||mt(this.h)||xt(this))};function xt(l,m){var y;m?y=m.l:y=l.U++;const T=Mn(l.I);gt(T,"SID",l.K),gt(T,"RID",y),gt(T,"AID",l.T),yt(l,T),l.m&&l.o&&tr(T,l.m,l.o),y=new $e(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Mt(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mn(l.h,y),It(y,T,m)}function yt(l,m){l.H&&d(l.H,function(y,T){gt(m,T,y)}),l.l&&un({},function(y,T){gt(m,T,y)})}function Mt(l,m,y){y=Math.min(l.i.length,y);var T=l.l?A(l.l.Na,l.l,l):null;e:{var H=l.i;let X=-1;for(;;){const le=["count="+y];X==-1?0<y?(X=H[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ct=!0;for(let Cn=0;Cn<y;Cn++){let ht=H[Cn].g;const jn=H[Cn].map;if(ht-=X,0>ht)X=Math.max(0,H[Cn].g-100),Ct=!1;else try{Ve(jn,le,"req"+ht+"_")}catch{T&&T(jn)}}if(Ct){T=le.join("&");break e}}}return l=l.i.splice(0,y),m.D=l,T}function Zt(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;de||we(),ae||(de(),ae=!0),ve.add(m,l),l.v=0}}function Ms(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=j(A(l.Fa,l),Ic(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=j(A(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Fe(this),Fu(this))};function Pa(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function Fu(l){l.g=new $e(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Mn(l.qa);gt(m,"RID","rpc"),gt(m,"SID",l.K),gt(m,"AID",l.T),gt(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&gt(m,"TO",l.ja),gt(m,"TYPE","xmlhttp"),yt(l,m),l.m&&l.o&&tr(m,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Hr(Mn(m)),y.m=null,y.P=!0,Et(y,l)}t.Za=function(){this.C!=null&&(this.C=null,Fe(this),Ms(this),Nt(19))};function vo(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function Lu(l,m){var y=null;if(l.g==m){vo(l),Pa(l),l.g=null;var T=2}else if(at(l.h,m))y=m.D,fi(l.h,m),T=1;else return;if(l.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var H=l.B;T=$r(),st(T,new cr(T,y)),ct(l)}else Zt(l);else if(H=m.s,H==3||H==0&&0<m.X||!(T==1&&Tt(l,m)||T==2&&Ms(l)))switch(y&&0<y.length&&(m=l.h,m.i=m.i.concat(y)),H){case 1:Li(l,5);break;case 4:Li(l,10);break;case 3:Li(l,6);break;default:Li(l,2)}}}function Ic(l,m){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*m}function Li(l,m){if(l.j.info("Error code "+m),m==2){var y=A(l.fb,l),T=l.Xa;const H=!T;T=new Sr(T||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Os(T,"https"),Hr(T),H?$(T.toString(),y):Q(T.toString(),y)}else Nt(2);l.G=0,l.l&&l.l.sa(m),Tc(l),Xe(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Tc(l){if(l.G=0,l.ka=[],l.l){const m=is(l.h);(m.length!=0||l.i.length!=0)&&(M(l.ka,m),M(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function qv(l,m,y){var T=y instanceof Sr?Mn(y):new Sr(y);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.s);else{var H=u.location;T=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var X=new Sr(null);T&&Os(X,T),m&&(X.g=m),H&&as(X,H),y&&(X.l=y),T=X}return y=l.D,m=l.ya,y&&m&&gt(T,y,m),gt(T,"VER",l.la),yt(l,T),T}function Hv(l,m,y){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new ot(new Pe({eb:y})):new ot(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wv(){}t=Wv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kc(){}kc.prototype.g=function(l,m){return new kr(l,m)};function kr(l,m){je.call(this),this.g=new Re(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!k(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new yo(this)}F(kr,je),kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){pe(this.g)},kr.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=an(l),l=y);m.i.push(new fr(m.Ya++,l)),m.G==3&&ct(m)},kr.prototype.N=function(){this.g.l=null,delete this.j,pe(this.g),delete this.g,kr.aa.N.call(this)};function Gv(l){Ke.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const y in m){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}F(Gv,Ke);function Kv(){on.call(this),this.status=1}F(Kv,on);function yo(l){this.g=l}F(yo,Wv),yo.prototype.ua=function(){st(this.g,"a")},yo.prototype.ta=function(l){st(this.g,new Gv(l))},yo.prototype.sa=function(l){st(this.g,new Kv)},yo.prototype.ra=function(){st(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,oA=function(){return new kc},aA=function(){return $r()},sA=Ae,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,ph=se,_e.COMPLETE="complete",iA=_e,Jt.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",je.prototype.listen=je.prototype.K,tl=Jt,rA=Pe,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,nA=ot}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Uf("@firebase/firestore");function Gu(){return Ja.logLevel}function Ee(t,...e){if(Ja.logLevel<=rt.DEBUG){const n=e.map(Pg);Ja.debug(`Firestore (${Eu}): ${t}`,...n)}}function Ss(t,...e){if(Ja.logLevel<=rt.ERROR){const n=e.map(Pg);Ja.error(`Firestore (${Eu}): ${t}`,...n)}}function su(t,...e){if(Ja.logLevel<=rt.WARN){const n=e.map(Pg);Ja.warn(`Firestore (${Eu}): ${t}`,...n)}}function Pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+t;throw Ss(e),new Error(e)}function At(t,e){t||Oe()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class gP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vP{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new uA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Hn(e)}}class yP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _P{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new EP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new hn(0,0))}static max(){return new Ue(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends zl{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const xP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends zl{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return xP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(kt.fromString(e))}static fromName(e){return new be(kt.fromString(e).popFirst(5))}static empty(){return new be(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new kt(e.slice()))}}function CP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new va(i,be.empty(),e)}function SP(t){return new va(t.readTime,t.key,-1)}class va{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new va(Ue.min(),be.empty(),-1)}static max(){return new va(Ue.max(),be.empty(),-1)}}function IP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==TP)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(p=>{a[f]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rg.oe=-1;function zf(t){return t==null}function Jh(t){return t===0&&1/t==-1/0}function PP(t){return typeof t=="number"&&Number.isInteger(t)&&!Jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RP(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=s??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new In(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new bn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hA("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const NP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(At(!!t),typeof t=="string"){let e=0;const n=NP.exec(t);if(At(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Za(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ng(t){const e=t.mapValue.fields.__previous_value__;return $f(e)?Ng(e):e}function $l(t){const e=ya(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,i,s,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$f(t)?4:LP(t)?9007199254740991:FP(t)?10:11:Oe()}function Qi(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ya(i.timestampValue),u=ya(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Za(i.bytesValue).isEqual(Za(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Yt(i.doubleValue),u=Yt(s.doubleValue);return a===u?Jh(a)===Jh(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(z0(a)!==z0(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Qi(a[c],u[c])))return!1;return!0}(t,e);default:return Oe()}}function Hl(t,e){return(t.values||[]).find(n=>Qi(n,e))!==void 0}function ou(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Yt(s.integerValue||s.doubleValue),c=Yt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return q0(t.timestampValue,e.timestampValue);case 4:return q0($l(t),$l(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(s,a){const u=Za(s),c=Za(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=ft(u[f],c[f]);if(p!==0)return p}return ft(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=ft(Yt(s.latitude),Yt(a.latitude));return u!==0?u:ft(Yt(s.longitude),Yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H0(t.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,f,p;const g=s.fields||{},A=a.fields||{},b=(u=g.value)===null||u===void 0?void 0:u.arrayValue,F=(c=A.value)===null||c===void 0?void 0:c.arrayValue,L=ft(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=F==null?void 0:F.values)===null||p===void 0?void 0:p.length)||0);return L!==0?L:H0(b,F)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Yc.mapValue&&a===Yc.mapValue)return 0;if(s===Yc.mapValue)return 1;if(a===Yc.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=a.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const A=ft(c[g],p[g]);if(A!==0)return A;const b=ou(u[c[g]],f[p[g]]);if(b!==0)return b}return ft(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function q0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=ya(t),r=ya(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function H0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ou(n[i],r[i]);if(s)return s}return ft(n.length,r.length)}function uu(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${lm(n.fields[a])}`;return i+"}"}(t.mapValue):Oe()}function Zh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cm(t){return!!t&&"integerValue"in t}function Dg(t){return!!t&&"arrayValue"in t}function W0(t){return!!t&&"nullValue"in t}function G0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function FP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=Tn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=pl(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(pl(this.value))}}function fA(t){const e=[];return wu(t.fields,(n,r)=>{const i=new Tn([n]);if(mh(r)){const s=fA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Gn(e,0,Ue.min(),Ue.min(),Ue.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,Ue.min(),Ue.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Ue.min(),Ue.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.position=e,this.inclusive=n}}function K0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=ou(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class rn extends dA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BP(e,n,r):n==="array-contains"?new UP(e,r):n==="in"?new zP(e,r):n==="not-in"?new $P(e,r):n==="array-contains-any"?new qP(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MP(e,r):new jP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ou(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends dA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ti(e,n)}matches(e){return pA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pA(t){return t.op==="and"}function mA(t){return OP(t)&&pA(t)}function OP(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function hm(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(mA(t))return t.filters.map(e=>hm(e)).join(",");{const e=t.filters.map(n=>hm(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(t,e):t instanceof Ti?function(r,i){return i instanceof Ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&gA(a,i.filters[u]),!0):!1}(t,e):void Oe()}function vA(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(vA).join(" ,")+"}"}(t):"Filter"}class BP extends rn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class MP extends rn{constructor(e,n){super(e,"in",n),this.keys=yA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jP extends rn{constructor(e,n){super(e,"not-in",n),this.keys=yA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class UP extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dg(n)&&Hl(n.arrayValue,this.value)}}class zP extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class $P extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class qP extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function Y0(t,e=null,n=[],r=[],i=null,s=null,a=null){return new HP(t,e,n,r,i,s,a)}function Fg(t){const e=Be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ue=n}return e.ue}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q0(t.startAt,e.startAt)&&Q0(t.endAt,e.endAt)}function fm(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WP(t,e,n,r,i,s,a,u){return new lo(t,e,n,r,i,s,a,u)}function Vg(t){return new lo(t)}function X0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Og(t){return t.collectionGroup!==null}function Wo(t){const e=Be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new bn(Tn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wl(s,r))}),n.has(Tn.keyField().canonicalString())||e.ce.push(new Wl(Tn.keyField(),r))}return e.ce}function $i(t){const e=Be(t);return e.le||(e.le=_A(e,Wo(t))),e.le}function GP(t){const e=Be(t);return e.he||(e.he=_A(e,t.explicitOrderBy)),e.he}function _A(t,e){if(t.limitType==="F")return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wl(i.field,s)});const n=t.endAt?new lu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lu(t.startAt.position,t.startAt.inclusive):null;return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dm(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ef(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return Lg($i(t),$i(e))&&t.limitType===e.limitType}function EA(t){return`${Fg($i(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vA(i)).join(", ")}]`),zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uu(i)).join(",")),`Target(${r})`}($i(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const f=K0(a,u,c);return a.inclusive?f<=0:f<0}(r.startAt,Wo(r),i)||r.endAt&&!function(a,u,c){const f=K0(a,u,c);return a.inclusive?f>=0:f>0}(r.endAt,Wo(r),i))}(t,e)}function KP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wA(t){return(e,n)=>{let r=!1;for(const i of Wo(t)){const s=QP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QP(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),f=u.data.field(s);return c!==null&&f!==null?ou(c,f):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new qt(be.comparator);function Is(){return YP}const AA=new qt(be.comparator);function nl(...t){let e=AA;for(const n of t)e=e.insert(n.key,n);return e}function xA(t){let e=AA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ja(){return ml()}function CA(){return ml()}function ml(){return new Au(t=>t.toString(),(t,e)=>t.isEqual(e))}const XP=new qt(be.comparator),JP=new bn(be.comparator);function Ze(...t){let e=JP;for(const n of t)e=e.add(n);return e}const ZP=new bn(ft);function eR(){return ZP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function tR(t,e){return PP(e)?SA(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function nR(t,e,n){return t instanceof tf?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$f(s)&&(s=Ng(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Gl?TA(t,e):t instanceof Kl?kA(t,e):function(i,s){const a=IA(i,s),u=J0(a)+J0(i.Pe);return cm(a)&&cm(i.Pe)?SA(u):Bg(i.serializer,u)}(t,e)}function rR(t,e,n){return t instanceof Gl?TA(t,e):t instanceof Kl?kA(t,e):n}function IA(t,e){return t instanceof nf?function(r){return cm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class tf extends Wf{}class Gl extends Wf{constructor(e){super(),this.elements=e}}function TA(t,e){const n=bA(e);for(const r of t.elements)n.some(i=>Qi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Wf{constructor(e){super(),this.elements=e}}function kA(t,e){let n=bA(e);for(const r of t.elements)n=n.filter(i=>!Qi(i,r));return{arrayValue:{values:n}}}class nf extends Wf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function J0(t){return Yt(t.integerValue||t.doubleValue)}function bA(t){return Dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gl&&i instanceof Gl||r instanceof Kl&&i instanceof Kl?au(r.elements,i.elements,Qi):r instanceof nf&&i instanceof nf?Qi(r.Pe,i.Pe):r instanceof tf&&i instanceof tf}(t.transform,e.transform)}class sR{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gf{}function PA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NA(t.key,qi.none()):new uc(t.key,t.data,qi.none());{const n=t.data,r=Jr.empty();let i=new bn(Tn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new co(t.key,r,new Ai(i.toArray()),qi.none())}}function aR(t,e,n){t instanceof uc?function(i,s,a){const u=i.value.clone(),c=e_(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=e_(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(RA(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gl(t,e,n,r){return t instanceof uc?function(s,a,u,c){if(!gh(s.precondition,a))return u;const f=s.value.clone(),p=t_(s.fieldTransforms,c,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,a,u,c){if(!gh(s.precondition,a))return u;const f=t_(s.fieldTransforms,c,a),p=a.data;return p.setAll(RA(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function oR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IA(r.transform,i||null);s!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,s))}return n||null}function Z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&au(r,i,(s,a)=>iR(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends Gf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Gf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function e_(t,e,n){const r=new Map;At(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,rR(a,u,n[i]))}return r}function t_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,nR(s,a,e))}return r}class NA extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CA();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=PA(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,r)=>Z0(n,r))&&au(this.baseMutations,e.baseMutations,(n,r)=>Z0(n,r))}}class Mg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length);let i=function(){return XP}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Mg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,it;function dR(t){switch(t){default:return Oe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function DA(t){if(t===void 0)return Ss("GRPC error has no .code"),ee.UNKNOWN;switch(t){case en.OK:return ee.OK;case en.CANCELLED:return ee.CANCELLED;case en.UNKNOWN:return ee.UNKNOWN;case en.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case en.INTERNAL:return ee.INTERNAL;case en.UNAVAILABLE:return ee.UNAVAILABLE;case en.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case en.NOT_FOUND:return ee.NOT_FOUND;case en.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case en.ABORTED:return ee.ABORTED;case en.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case en.DATA_LOSS:return ee.DATA_LOSS;default:return Oe()}}(it=en||(en={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new qa([4294967295,4294967295],0);function n_(t){const e=pR().encode(t),n=new tA;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([n,r],0),new qa([i,s],0)]}class jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qa.fromNumber(r)));return i.compare(mR)===1&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=n_(e),[r,i]=r_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new jg(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=n_(e),[r,i]=r_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kf(Ue.min(),i,new qt(ft),Is(),Ze())}}class lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lc(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FA{constructor(e,n){this.targetId=e,this.me=n}}class LA{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i_{constructor(){this.fe=0,this.ge=a_(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new lc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Is(),this.qe=s_(),this.Qe=new qt(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fm(s))if(r===0){const a=new be(s.path);this.Ue(n,a,Gn.newNoDocument(a,Ue.min()))}else At(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=Za(r).toUint8Array()}catch(c){if(c instanceof hA)return su("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new jg(a,i,s)}catch(c){return su(c instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&fm(u.target)){const c=new be(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Gn.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ze();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Kf(e,n,this.Qe,this.ke,r);return this.ke=Is(),this.qe=s_(),this.Qe=new qt(ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new i_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bn(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new i_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s_(){return new qt(be.comparator)}function a_(){return new qt(be.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},yR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_R={and:"AND",or:"OR"};class ER{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wR(t,e){return rf(t,e.toTimestamp())}function Hi(t){return At(!!t),Ue.fromTimestamp(function(n){const r=ya(n);return new hn(r.seconds,r.nanos)}(t))}function Ug(t,e){return mm(t,e).canonicalString()}function mm(t,e){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OA(t){const e=kt.fromString(t);return At($A(e)),e}function gm(t,e){return Ug(t.databaseId,e.path)}function Kd(t,e){const n=OA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(MA(n))}function BA(t,e){return Ug(t.databaseId,e)}function AR(t){const e=OA(t);return e.length===4?kt.emptyPath():MA(e)}function vm(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MA(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o_(t,e,n){return{name:gm(t,e),fields:n.value.mapValue.fields}}function xR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(At(p===void 0||typeof p=="string"),Rn.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Rn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const p=f.code===void 0?ee.UNKNOWN:DA(f.code);return new he(p,f.message||"")}(a);n=new LA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kd(t,r.document.name),s=Hi(r.document.updateTime),a=r.document.createTime?Hi(r.document.createTime):Ue.min(),u=new Jr({mapValue:{fields:r.document.fields}}),c=Gn.newFoundDocument(i,s,a,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new vh(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kd(t,r.document),s=r.readTime?Hi(r.readTime):Ue.min(),a=Gn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new vh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kd(t,r.document),s=r.removedTargetIds||[];n=new vh([],s,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new fR(i,s),u=r.targetId;n=new FA(u,a)}}return n}function CR(t,e){let n;if(e instanceof uc)n={update:o_(t,e.key,e.value)};else if(e instanceof NA)n={delete:gm(t,e.key)};else if(e instanceof co)n={update:o_(t,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof uR))return Oe();n={verify:gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof tf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nf)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe()}(t,e.precondition)),n}function SR(t,e){return t&&t.length>0?(At(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Hi(i.updateTime):Hi(s);return a.isEqual(Ue.min())&&(a=Hi(s)),new sR(a,i.transformResults||[])}(n,e))):[]}function IR(t,e){return{documents:[BA(t,e.path)]}}function jA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BA(t,i);const s=function(f){if(f.length!==0)return zA(Ti.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(A){return{field:Ks(A.field),direction:PR(A.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=pm(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function TR(t,e,n,r){const{_t:i,parent:s}=jA(t,e),a={},u=[];let c=0;return n.forEach(f=>{const p="aggregate_"+c++;a[p]=f.alias,f.aggregateType==="count"?u.push({alias:p,count:{}}):f.aggregateType==="avg"?u.push({alias:p,avg:{field:Ks(f.fieldPath)}}):f.aggregateType==="sum"&&u.push({alias:p,sum:{field:Ks(f.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function kR(t){let e=AR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const A=UA(g);return A instanceof Ti&&mA(A)?A.getFilters():[A]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(A=>function(F){return new Wl(So(F.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(A))}(n.orderBy));let u=null;n.limit&&(u=function(g){let A;return A=typeof g=="object"?g.value:g,zf(A)?null:A}(n.limit));let c=null;n.startAt&&(c=function(g){const A=!!g.before,b=g.values||[];return new lu(b,A)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const A=!g.before,b=g.values||[];return new lu(b,A)}(n.endAt)),WP(e,i,a,s,u,"F",c,f)}function bR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=So(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return rn.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>UA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function PR(t){return vR[t]}function RR(t){return yR[t]}function NR(t){return _R[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function So(t){return Tn.fromServerFormat(t.fieldPath)}function zA(t){return t instanceof rn?function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:RR(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(i=>zA(i));return r.length===1?r[0]:{compositeFilter:{op:NR(n.op),filters:r}}}(t):Oe()}function DR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r,i,s=Ue.min(),a=Ue.min(),u=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.ct=e}}function LR(t){const e=kR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.un=new OR}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(va.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class OR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bn(kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new cu(0)}static kn(){return new cu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changes=new Au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gl(r.mutation,i,Ai.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=ja();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=nl();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=Is();const a=ml(),u=function(){return ml()}();return n.forEach((c,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof co)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),gl(p.mutation,f,p.mutation.getFieldMask(),hn.now())):a.set(f.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var g;return u.set(f,new MR(p,(g=a.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=ml();let i=new qt((a,u)=>a-u),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let p=r.get(c)||Ai.empty();p=u.applyToLocalView(f,p),r.set(c,p);const g=(i.get(u.batchId)||Ze()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,g=CA();p.forEach(A=>{if(!s.has(A)){const b=PA(n.get(A),r.get(A));b!==null&&g.set(A,b),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Og(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(ja());let u=-1,c=s;return a.next(f=>te.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?te.resolve():this.remoteDocumentCache.getEntry(e,p).next(A=>{c=c.insert(p,A)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,Ze())).next(p=>({batchId:u,changes:xA(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=nl();return this.indexManager.getCollectionParents(e,s).next(u=>te.forEach(u,c=>{const f=function(g,A){return new lo(A,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((g,A)=>{a=a.insert(g,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,Gn.newInvalidDocument(p)))});let u=nl();return a.forEach((c,f)=>{const p=s.get(c);p!==void 0&&gl(p.mutation,f,Ai.empty(),hn.now()),Hf(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:LR(i.bundledQuery),readTime:Hi(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.overlays=new qt(be.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ja();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ja(),s=n.length+1,a=new be(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=ja(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=ja(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return te.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.Tr=new bn(vn.Er),this.dr=new bn(vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new kt([])),r=new vn(n,e),i=new vn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new kt([])),r=new vn(n,e),i=new vn(n,e+1);let s=Ze();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new vn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bn(vn.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lR(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new vn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const u=this.Dr(a.wr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(ft);return n.forEach(i=>{const s=new vn(i,0),a=new vn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;be.isDocumentKey(s)||(s=s.child(""));const a=new vn(new be(s),0);let u=new bn(ft);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},a),te.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){At(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const s=new vn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vn(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.Mr=e,this.docs=function(){return new qt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Is();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Is();const a=n.path,u=new be(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||IP(SP(p),r)<=0||(i.has(p.key)||Hf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Oe()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WR(this)}getSize(e){return te.resolve(this.size)}}class WR extends BR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.persistence=e,this.Nr=new Au(n=>Fg(n),Lg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zg,this.targetCount=0,this.kr=cu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rg(0),this.Kr=!1,this.Kr=!0,this.$r=new $R,this.referenceDelegate=e(this),this.Ur=new GR(this),this.indexManager=new VR,this.remoteDocumentCache=function(i){return new HR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new FR(n),this.Gr=new UR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new qR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new QR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class QR extends kP{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Jr=new zg,this.Yr=null}static Zr(e){return new $g(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Q2()?8:bP(Qn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new YR;return this.Xi(e,n,a).next(u=>{if(s.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gu()<=rt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Gu()<=rt.DEBUG&&Ee("QueryEngine","Query:",Co(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gu()<=rt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):te.resolve())}Yi(e,n){if(X0(n))return te.resolve(null);let r=$i(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ef(n,null,"F"),r=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ze(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,u);return this.ns(n,f,a,c.readTime)?this.Yi(e,ef(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return X0(n)||i.isEqual(Ue.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?te.resolve(null):(Gu()<=rt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Co(n)),this.rs(e,a,n,CP(i,-1)).next(u=>u))})}ts(e,n){let r=new bn(wA(e));return n.forEach((i,s)=>{Hf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Gu()<=rt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Co(n)),this.Ji.getDocumentsMatchingQuery(e,n,va.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qt(ft),this._s=new Au(s=>Fg(s),Lg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZR(t,e,n,r){return new JR(t,e,n,r)}async function qA(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=Ze();for(const f of i){a.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function eN(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,p){const g=f.batch,A=g.keys();let b=te.resolve();return A.forEach(F=>{b=b.next(()=>p.getEntry(c,F)).next(L=>{const M=f.docVersions.get(F);At(M!==null),L.version.compareTo(M)<0&&(g.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),p.addEntry(L)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HA(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tN(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((p,g)=>{const A=i.get(g);if(!A)return;u.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let b=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Rn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),function(L,M,R){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(A,b,p)&&u.push(n.Ur.updateTargetData(s,b))});let c=Is(),f=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(nN(s,a,e.documentUpdates).next(p=>{c=p.Ps,f=p.Is})),!r.isEqual(Ue.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return te.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.os=i,s))}function nN(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Is();return n.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ee("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function rN(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iN(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new ta(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ym(t,e,n){const r=Be(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!oc(a))throw a;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function u_(t,e,n){const r=Be(t);let i=Ue.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,p){const g=Be(c),A=g._s.get(p);return A!==void 0?te.resolve(g.os.get(A)):g.Ur.getTargetData(f,p)}(r,a,$i(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ue.min(),n?s:Ze())).next(u=>(sN(r,KP(e),u),{documents:u,Ts:s})))}function sN(t,e,n){let r=t.us.get(e)||Ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class l_{constructor(){this.activeTargetIds=eR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aN{constructor(){this.so=new l_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new l_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Qd(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class cN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const u=Qd(),c=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,c,f,i).then(p=>(Ee("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw su("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(n,r,i,s,a,u){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=uN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Qd();return new Promise((a,u)=>{const c=new nA;c.setWithCredentials(!0),c.listenOnce(iA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ph.NO_ERROR:const p=c.getResponseJson();Ee(qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ph.TIMEOUT:Ee(qn,`RPC '${e}' ${s} timed out`),u(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const g=c.getStatus();if(Ee(qn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let A=c.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const F=function(M){const R=M.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(R)>=0?R:ee.UNKNOWN}(b.status);u(new he(F,b.message))}else u(new he(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(qn,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Ee(qn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=Qd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oA(),u=aA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.xmlHttpFactory=new rA({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");Ee(qn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);let A=!1,b=!1;const F=new lN({Io:M=>{b?Ee(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(A||(Ee(qn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),A=!0),Ee(qn,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),L=(M,R,k)=>{M.listen(R,P=>{try{k(P)}catch(q){setTimeout(()=>{throw q},0)}})};return L(g,tl.EventType.OPEN,()=>{b||(Ee(qn,`RPC '${e}' stream ${i} transport opened.`),F.yo())}),L(g,tl.EventType.CLOSE,()=>{b||(b=!0,Ee(qn,`RPC '${e}' stream ${i} transport closed`),F.So())}),L(g,tl.EventType.ERROR,M=>{b||(b=!0,su(qn,`RPC '${e}' stream ${i} transport errored:`,M),F.So(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),L(g,tl.EventType.MESSAGE,M=>{var R;if(!b){const k=M.data[0];At(!!k);const P=k,q=P.error||((R=P[0])===null||R===void 0?void 0:R.error);if(q){Ee(qn,`RPC '${e}' stream ${i} received error:`,q);const G=q.status;let d=function(S){const D=en[S];if(D!==void 0)return DA(D)}(G),I=q.message;d===void 0&&(d=ee.INTERNAL,I="Unknown error status: "+G+" with message "+q.message),b=!0,F.So(new he(d,I)),g.close()}else Ee(qn,`RPC '${e}' stream ${i} received:`,k),F.bo(k)}}),L(u,sA.STAT_EVENT,M=>{M.stat===um.PROXY?Ee(qn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===um.NOPROXY&&Ee(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new ER(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends GA{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xR(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ue.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?Hi(a.readTime):Ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vm(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=fm(c)?{documents:IR(s,c)}:{query:jA(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=VA(s,a.resumeToken);const f=pm(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ue.min())>0){u.readTime=rf(s,a.snapshotVersion.toTimestamp());const f=pm(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=bR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vm(this.serializer),n.removeTarget=e,this.a_(n)}}class fN extends GA{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SR(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,mm(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ee.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,mm(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ee.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ss(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{ho(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Be(c);f.L_.add(4),await cc(f),f.q_.set("Unknown"),f.L_.delete(4),await Yf(f)}(this))})}),this.q_=new pN(r,i)}}async function Yf(t){if(ho(t))for(const e of t.B_)await e(!0)}async function cc(t){for(const e of t.B_)await e(!1)}function KA(t,e){const n=Be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kg(n)?Gg(n):xu(n).r_()&&Wg(n,e))}function Hg(t,e){const n=Be(t),r=xu(n);n.N_.delete(e),r.r_()&&QA(n,e),n.N_.size===0&&(r.r_()?r.o_():ho(n)&&n.q_.set("Unknown"))}function Wg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(t).A_(e)}function QA(t,e){t.Q_.xe(e),xu(t).R_(e)}function Gg(t){t.Q_=new gR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xu(t).start(),t.q_.v_()}function Kg(t){return ho(t)&&!xu(t).n_()&&t.N_.size>0}function ho(t){return Be(t).L_.size===0}function YA(t){t.Q_=void 0}async function gN(t){t.q_.set("Online")}async function vN(t){t.N_.forEach((e,n)=>{Wg(t,e)})}async function yN(t,e){YA(t),Kg(t)?(t.q_.M_(e),Gg(t)):t.q_.set("Unknown")}async function _N(t,e,n){if(t.q_.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(t,r)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof FA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const r=await HA(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,f)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(Rn.EMPTY_BYTE_STRING,p.snapshotVersion)),QA(s,c);const g=new ta(p.target,c,f,p.sequenceNumber);Wg(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await sf(t,r)}}async function sf(t,e,n){if(!oc(e))throw e;t.L_.add(1),await cc(t),t.q_.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yf(t)})}function XA(t,e){return e().catch(n=>sf(t,n,e))}async function Xf(t){const e=Be(t),n=_a(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EN(e);)try{const i=await rN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,wN(e,i)}catch(i){await sf(e,i)}JA(e)&&ZA(e)}function EN(t){return ho(t)&&t.O_.length<10}function wN(t,e){t.O_.push(e);const n=_a(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JA(t){return ho(t)&&!_a(t).n_()&&t.O_.length>0}function ZA(t){_a(t).start()}async function AN(t){_a(t).p_()}async function xN(t){const e=_a(t);for(const n of t.O_)e.m_(n.mutations)}async function CN(t,e,n){const r=t.O_.shift(),i=Mg.from(r,e,n);await XA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xf(t)}async function SN(t,e){e&&_a(t).V_&&await async function(r,i){if(function(a){return dR(a)&&a!==ee.ABORTED}(i.code)){const s=r.O_.shift();_a(r).s_(),await XA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xf(r)}}(t,e),JA(t)&&ZA(t)}async function h_(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=ho(n);n.L_.add(3),await cc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yf(n)}async function IN(t,e){const n=Be(t);e?(n.L_.delete(2),await Yf(n)):e||(n.L_.add(2),await cc(n),n.q_.set("Unknown"))}function xu(t){return t.K_||(t.K_=function(n,r,i){const s=Be(n);return s.w_(),new hN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gN.bind(null,t),Ro:vN.bind(null,t),mo:yN.bind(null,t),d_:_N.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Kg(t)?Gg(t):t.q_.set("Unknown")):(await t.K_.stop(),YA(t))})),t.K_}function _a(t){return t.U_||(t.U_=function(n,r,i){const s=Be(n);return s.w_(),new fN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:AN.bind(null,t),mo:SN.bind(null,t),f_:xN.bind(null,t),g_:CN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xf(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new Qg(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),oc(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=nl(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.W_=new qt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new hu(e,n,Go.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kN{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Be(n),s=i.queries;i.queries=d_(),s.forEach((a,u)=>{for(const c of u.j_)c.onError(r)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function d_(){return new Au(t=>EA(t),qf)}async function ex(t,e){const n=Be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new TN,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Yg(a,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Xg(n)}async function tx(t,e){const n=Be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bN(t,e){const n=Be(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Xg(n)}function PN(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Xg(t){t.Y_.forEach(e=>{e.next()})}var _m,p_;(p_=_m||(_m={})).ea="default",p_.Cache="cache";class nx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.key=e}}class ix{constructor(e){this.key=e}}class RN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=wA(e),this.Ra=new Go(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new f_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const A=i.get(p),b=Hf(this.query,g)?g:null,F=!!A&&this.mutatedKeys.has(A.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;A&&b?A.data.isEqual(b.data)?F!==L&&(r.track({type:3,doc:b}),M=!0):this.ga(A,b)||(r.track({type:2,doc:b}),M=!0,(c&&this.Aa(b,c)>0||f&&this.Aa(b,f)<0)&&(u=!0)):!A&&b?(r.track({type:0,doc:b}),M=!0):A&&!b&&(r.track({type:1,doc:A}),M=!0,(c||f)&&(u=!0)),M&&(b?(a=a.add(b),s=L?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,g)=>function(b,F){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return L(b)-L(F)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new hu(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ix(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DN{constructor(e){this.key=e,this.va=!1}}class FN{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Au(u=>EA(u),qf),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(be.comparator),this.Na=new Map,this.La=new zg,this.Ba={},this.ka=new Map,this.qa=cu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LN(t,e,n=!0){const r=cx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await sx(r,e,n,!0),i}async function VN(t,e){const n=cx(t);await sx(n,e,!0,!1)}async function sx(t,e,n,r){const i=await iN(t.localStore,$i(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await ON(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&KA(t.remoteStore,i),u}async function ON(t,e,n,r,i){t.Ka=(g,A,b)=>async function(L,M,R,k){let P=M.view.ma(R);P.ns&&(P=await u_(L.localStore,M.query,!1).then(({documents:I})=>M.view.ma(I,P)));const q=k&&k.targetChanges.get(M.targetId),G=k&&k.targetMismatches.get(M.targetId)!=null,d=M.view.applyChanges(P,L.isPrimaryClient,q,G);return g_(L,M.targetId,d.wa),d.snapshot}(t,g,A,b);const s=await u_(t.localStore,e,!0),a=new RN(e,s.Ts),u=a.ma(s.documents),c=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);g_(t,n,f.wa);const p=new NN(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function BN(t,e,n){const r=Be(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!qf(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ym(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hg(r.remoteStore,i.targetId),Em(r,i.targetId)}).catch(ac)):(Em(r,i.targetId),await ym(r.localStore,i.targetId,!0))}async function MN(t,e){const n=Be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hg(n.remoteStore,r.targetId))}async function jN(t,e,n){const r=GN(t);try{const i=await function(a,u){const c=Be(a),f=hn.now(),p=u.reduce((b,F)=>b.add(F.key),Ze());let g,A;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let F=Is(),L=Ze();return c.cs.getEntries(b,p).next(M=>{F=M,F.forEach((R,k)=>{k.isValidDocument()||(L=L.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,F)).next(M=>{g=M;const R=[];for(const k of u){const P=oR(k,g.get(k.key).overlayedDocument);P!=null&&R.push(new co(k.key,P,fA(P.value.mapValue),qi.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,R,u)}).next(M=>{A=M;const R=M.applyToLocalDocumentSet(g,L);return c.documentOverlayCache.saveOverlays(b,M.batchId,R)})}).then(()=>({batchId:A.batchId,changes:xA(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new qt(ft)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,n),await hc(r,i.changes),await Xf(r.remoteStore)}catch(i){const s=Yg(i,"Failed to persist write");n.reject(s)}}async function ax(t,e){const n=Be(t);try{const r=await tN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?At(a.va):i.removedDocuments.size>0&&(At(a.va),a.va=!1))}),await hc(n,r,e)}catch(r){await ac(r)}}function m_(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Be(a);c.onlineState=u;let f=!1;c.queries.forEach((p,g)=>{for(const A of g.j_)A.Z_(u)&&(f=!0)}),f&&Xg(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UN(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new qt(be.comparator);a=a.insert(s,Gn.newNoDocument(s,Ue.min()));const u=Ze().add(s),c=new Kf(Ue.min(),new Map,new qt(ft),a,u);await ax(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Jg(r)}else await ym(r.localStore,e,!1).then(()=>Em(r,e,n)).catch(ac)}async function zN(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await eN(n.localStore,e);ux(n,r,null),ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,i)}catch(i){await ac(i)}}async function $N(t,e,n){const r=Be(t);try{const i=await function(a,u){const c=Be(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next(g=>(At(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(r.localStore,e);ux(r,e,n),ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hc(r,i)}catch(i){await ac(i)}}function ox(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ux(t,e,n){const r=Be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Em(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lx(t,r)})}function lx(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Hg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jg(t))}function g_(t,e,n){for(const r of n)r instanceof rx?(t.La.addReference(r.key,e),qN(t,r)):r instanceof ix?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lx(t,r.key)):Oe()}function qN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Jg(t))}function Jg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(kt.fromString(e)),r=t.qa.next();t.Na.set(r,new DN(n)),t.Oa=t.Oa.insert(n,r),KA(t.remoteStore,new ta($i(Vg(n.path)),r,"TargetPurposeLimboResolution",Rg.oe))}}async function hc(t,e,n){const r=Be(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{a.push(r.Ka(c,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){i.push(f);const g=qg.Wi(c.targetId,f);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,f){const p=Be(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(f,A=>te.forEach(A.$i,b=>p.persistence.referenceDelegate.addReference(g,A.targetId,b)).next(()=>te.forEach(A.Ui,b=>p.persistence.referenceDelegate.removeReference(g,A.targetId,b)))))}catch(g){if(!oc(g))throw g;Ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const A=g.targetId;if(!g.fromCache){const b=p.os.get(A),F=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(F);p.os=p.os.insert(A,L)}}}(r.localStore,s))}async function HN(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await qA(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new he(ee.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(n,r.hs)}}function WN(t,e){const n=Be(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let i=Ze();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const u=n.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function cx(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.Ca.d_=bN.bind(null,e.eventManager),e.Ca.$a=PN.bind(null,e.eventManager),e}function GN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$N.bind(null,e),e}class v_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZR(this.persistence,new XR,e.initialUser,this.serializer)}createPersistence(e){return new KR($g.Zr,this.serializer)}createSharedClientState(e){return new aN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kN}()}createDatastore(e){const n=Qf(e.databaseInfo.databaseId),r=function(s){return new cN(s)}(e.databaseInfo);return function(s,a,u,c){return new dN(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new mN(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>m_(this.syncEngine,n,0),function(){return c_.D()?new c_:new oN}())}createSyncEngine(e,n){return function(i,s,a,u,c,f,p){const g=new FN(i,s,a,u,c,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Be(i);Ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await cc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=lA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XN(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>h_(e.remoteStore,i)),t._onlineComponents=e}function YN(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YN(n))throw n;su("Error using user provided cache. Falling back to memory cache: "+n),await Xd(t,new v_)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Xd(t,new v_);return t._offlineComponents}async function Zg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await y_(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await y_(t,new KN))),t._onlineComponents}function JN(t){return Zg(t).then(e=>e.syncEngine)}function ZN(t){return Zg(t).then(e=>e.datastore)}async function fx(t){const e=await Zg(t),n=e.eventManager;return n.onListen=LN.bind(null,e.syncEngine),n.onUnlisten=BN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),n}function eD(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const p=new hx({next:A=>{a.enqueueAndForget(()=>tx(s,g));const b=A.docs.has(u);!b&&A.fromCache?f.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&c&&c.source==="server"?f.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(A)},error:A=>f.reject(A)}),g=new nx(Vg(u.path),p,{includeMetadataChanges:!0,_a:!0});return ex(s,g)}(await fx(t),t.asyncQueue,e,n,r)),r.promise}function tD(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const p=new hx({next:A=>{a.enqueueAndForget(()=>tx(s,g)),A.fromCache&&c.source==="server"?f.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(A)},error:A=>f.reject(A)}),g=new nx(u,p,{includeMetadataChanges:!0,_a:!0});return ex(s,g)}(await fx(t),t.asyncQueue,e,n,r)),r.promise}function nD(t,e,n){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await ZN(t);r.resolve(async function(a,u,c){var f;const p=Be(a),{request:g,ut:A,parent:b}=TR(p.serializer,GP(u),c);p.connection.Fo||delete g.parent;const F=(await p.Lo("RunAggregationQuery",p.serializer.databaseId,b,g,1)).filter(M=>!!M.result);At(F.length===1);const L=(f=F[0].result)===null||f===void 0?void 0:f.aggregateFields;return Object.keys(L).reduce((M,R)=>(M[A[R]]=L[R],M),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rD(t,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E_(t){if(!be.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(be.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iD(t,e){if(e<=0)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mP;switch(r.type){case"firstParty":return new _P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=__.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),__.delete(n),r.terminate())}(this),Promise.resolve()}}function sD(t,e,n,r={}){var i;const s=(t=Ts(t,Zf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Hn.MOCK_USER;else{u=q2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Hn(f)}t._authCredentials=new gP(new uA(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class da extends Ds{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new be(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Cu(t,e,...n){if(t=En(t),px("collection","path",e),t instanceof Zf){const r=kt.fromString(e,...n);return w_(r),new da(t,null,r)}{if(!(t instanceof _r||t instanceof da))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return w_(r),new da(t.firestore,null,r)}}function Sa(t,e,...n){if(t=En(t),arguments.length===1&&(e=lA.newId()),px("doc","path",e),t instanceof Zf){const r=kt.fromString(e,...n);return E_(r),new _r(t,null,new be(r))}{if(!(t instanceof _r||t instanceof da))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return E_(r),new _r(t.firestore,t instanceof da?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new WA(this,"async_queue_retry"),this.Eu=()=>{const n=Yd();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Yd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new zi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!oc(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Ss("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Qg.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Oe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Su extends Zf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mx(this),this._firestoreClient.terminate()}}function oD(t,e){const n=bg(),r="(default)",i=uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=z2("firestore");s&&sD(i,...s)}return i}function ed(t){return t._firestoreClient||mx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mx(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,f,p){return new DP(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,dx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QN(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class lD{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Rn.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^__.*__$/;class hD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}function vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class rv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return af(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(vx(this.wu)&&cD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class fD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qf(e)}Nu(e,n,r,i=!1){return new rv({wu:e,methodName:n,Ou:r,path:Tn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function td(t){const e=t._freezeSettings(),n=Qf(t._databaseId);return new fD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yx(t,e,n,r,i,s={}){const a=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Ax("Data must be an object, but it was:",a,r);const u=Ex(r,a);let c,f;if(s.merge)c=new Ai(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const A=dD(e,g,n);if(!a.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mD(p,A)||p.push(A)}c=new Ai(p),f=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=a.fieldTransforms;return new hD(new Jr(u),c,f)}function _x(t,e,n,r=!1){return iv(n,t.Nu(r?4:3,e))}function iv(t,e){if(wx(t=En(t)))return Ax("Unsupported field value:",e,t),Ex(t,e);if(t instanceof gx)return function(r,i){if(!vx(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=iv(u,i.Fu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=hn.fromDate(r);return{timestampValue:rf(i.serializer,s)}}if(r instanceof hn){const s=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rf(i.serializer,s)}}if(r instanceof tv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:VA(i.serializer,r._byteString)};if(r instanceof _r){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ug(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nv)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Mu("VectorValues must only contain numeric values.");return Bg(u.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Jf(r)}`)}(t,e)}function Ex(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wu(t,(r,i)=>{const s=iv(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof tv||t instanceof fu||t instanceof _r||t instanceof gx||t instanceof nv)}function Ax(t,e,n){if(!wx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function dD(t,e,n){if((e=En(e))instanceof ev)return e._internalPath;if(typeof e=="string")return xx(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function xx(t,e,n){if(e.search(pD)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ev(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new he(ee.INVALID_ARGUMENT,u+t+c)}function mD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends sv{data(){return super.data()}}function av(t,e){return typeof e=="string"?xx(t,e):e instanceof ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class nd extends ov{}function uv(t,e,...n){let r=[];e instanceof ov&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof cv).length,u=s.filter(c=>c instanceof lv).length;if(a>1||a>0&&u>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lv extends nd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lv(e,n,r)}_apply(e){const n=this._parse(e);return Cx(e._query,n),new Ds(e.firestore,e.converter,dm(e._query,n))}_parse(e){const n=td(e.firestore);return function(s,a,u,c,f,p,g){let A;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){C_(g,p);const b=[];for(const F of g)b.push(x_(c,s,F));A={arrayValue:{values:b}}}else A=x_(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||C_(g,p),A=_x(u,a,g,p==="in"||p==="not-in");return rn.create(f,p,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cv extends ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)Cx(a,c),a=dm(a,c)}(e._query,n),new Ds(e.firestore,e.converter,dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends nd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hv(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(s,a)}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new lo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fv(t,e="asc"){const n=e,r=av("orderBy",t);return hv._create(r,n)}class dv extends nd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dv(e,n,r)}_apply(e){return new Ds(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function pv(t){return iD("limit",t),dv._create("limit",t,"F")}class mv extends nd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=_D(e,this.type,this._docOrFields,this._inclusive);return new Ds(e.firestore,e.converter,function(i,s){return new lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yD(...t){return mv._create("startAfter",t,!1)}function _D(t,e,n,r){if(n[0]=En(n[0]),n[0]instanceof sv)return function(s,a,u,c,f){if(!c)throw new he(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const p=[];for(const g of Wo(s))if(g.field.isKeyField())p.push(Zh(a,c.key));else{const A=c.data.field(g.field);if($f(A))throw new he(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const b=g.field.canonicalString();throw new he(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(A)}return new lu(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=td(t.firestore);return function(a,u,c,f,p,g){const A=a.explicitOrderBy;if(p.length>A.length)throw new he(ee.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let F=0;F<p.length;F++){const L=p[F];if(A[F].field.isKeyField()){if(typeof L!="string")throw new he(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof L}`);if(!Og(a)&&L.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${L}' contains a slash.`);const M=a.path.child(kt.fromString(L));if(!be.isDocumentKey(M))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const R=new be(M);b.push(Zh(u,R))}else{const M=_x(c,f,L);b.push(M)}}return new lu(b,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function x_(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Og(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!be.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zh(t,new be(r))}if(n instanceof _r)return Zh(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cx(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ED{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yt(a.doubleValue));return new nv(s)}convertGeoPoint(e){return new tv(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ng(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=ya(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);At($A(r));const i=new ql(r.get(1),r.get(3)),s=new be(r.popFirst(5));return i.isEqual(n)||Ss(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function wD(){return new uD("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ix extends sv{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(av("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends Ix{data(e={}){return super.data(e)}}class AD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new il(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new il(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:xD(u.type),doc:c,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){t=Ts(t,_r);const e=Ts(t.firestore,Su);return eD(ed(e),t._key).then(n=>SD(e,t,n))}class gv extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function vv(t){t=Ts(t,Ds);const e=Ts(t.firestore,Su),n=ed(e),r=new gv(e);return vD(t._query),tD(n,t._query).then(i=>new AD(e,r,t,i))}function CD(t,e,n){t=Ts(t,_r);const r=Ts(t.firestore,Su),i=Sx(t.converter,e);return Tx(r,[yx(td(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qi.none())])}function yv(t,e){const n=Ts(t.firestore,Su),r=Sa(t),i=Sx(t.converter,e);return Tx(n,[yx(td(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function Tx(t,e){return function(r,i){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>jN(await JN(r),i,s)),s.promise}(ed(t),e)}function SD(t,e,n){const r=n.docs.get(e._key),i=new gv(t);return new Ix(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return TD(t,{count:wD()})}function TD(t,e){const n=Ts(t.firestore,Su),r=ed(n),i=RP(e,(s,a)=>new hR(a,s.aggregateType,s._internalFieldPath));return nD(r,t._query,i).then(s=>function(u,c,f){const p=new gv(u);return new lD(c,p,f)}(n,t,s))}(function(e,n=!0){(function(i){Eu=i})(_u),Ki(new Ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Su(new vP(r.getProvider("auth-internal")),new wP(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(f.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ni(U0,"4.7.1",e),ni(U0,"4.7.1","esm2017")})();function _v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kD=kx,bx=new oo("auth","Firebase",kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Uf("@firebase/auth");function bD(t,...e){of.logLevel<=rt.WARN&&of.warn(`Auth (${_u}): ${t}`,...e)}function _h(t,...e){of.logLevel<=rt.ERROR&&of.error(`Auth (${_u}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw Ev(t,...e)}function Wi(t,...e){return Ev(t,...e)}function Px(t,e,n){const r=Object.assign(Object.assign({},kD()),{[e]:n});return new oo("auth","Firebase",r).create(e,{appName:t.name})}function _s(t){return Px(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bx.create(t,...e)}function Le(t,e,...n){if(!t)throw Ev(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _h(e),new Error(e)}function ks(t,e){t||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PD(){return S_()==="http:"||S_()==="https:"}function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PD()||Ww()||"connection"in navigator)?navigator.onLine:!0}function ND(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=H2()||G2()}get(){return RD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new fc(3e4,6e4);function Ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ta(t,e,n,r,i={}){return Nx(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=sc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Rx.fetch()(Dx(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function Nx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DD),e);try{const i=new VD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Jc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Jc(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Px(t,p,f);ki(t,p)}}catch(i){if(i instanceof bi)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function dc(t,e,n,r,i={}){const s=await Ta(t,e,n,r,i);return"mfaPendingCredential"in s&&ki(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Dx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wv(t.config,i):`${t.config.apiScheme}://${i}`}function LD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),FD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}function I_(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BD(t,e){return Ta(t,"GET","/v2/recaptchaConfig",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return Ta(t,"POST","/v1/accounts:delete",e)}async function Fx(t,e){return Ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(t,e=!1){const n=En(t),r=await n.getIdToken(e),i=Av(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(Jd(i.auth_time)),issuedAtTime:vl(Jd(i.iat)),expirationTime:vl(Jd(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jd(t){return Number(t)*1e3}function Av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const i=zw(n);return i?JSON.parse(i):(_h("Failed to decode base64 JWT payload"),null)}catch(i){return _h("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function T_(t){const e=Av(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bi&&UD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ql(t,Fx(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lx(s.providerUserInfo):[],u=qD(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Am(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function $D(t){const e=En(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lx(t){return t.map(e=>{var{providerId:n}=e,r=_v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){const n=await Nx(t,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Dx(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(t,e){return Ta(t,"POST","/v2/accounts:revokeToken",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=T_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ko;return r&&(Le(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Le(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Am(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Ql(this,MD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,A=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,F=(a=n.photoURL)!==null&&a!==void 0?a:void 0,L=(u=n.tenantId)!==null&&u!==void 0?u:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:q,isAnonymous:G,providerData:d,stsTokenManager:I}=n;Le(P&&I,e,"internal-error");const x=Ko.fromJSON(this.name,I);Le(typeof P=="string",e,"internal-error"),zs(g,e.name),zs(A,e.name),Le(typeof q=="boolean",e,"internal-error"),Le(typeof G=="boolean",e,"internal-error"),zs(b,e.name),zs(F,e.name),zs(L,e.name),zs(M,e.name),zs(R,e.name),zs(k,e.name);const S=new ps({uid:P,auth:e,email:A,emailVerified:q,displayName:g,isAnonymous:G,photoURL:F,phoneNumber:b,tenantId:L,stsTokenManager:x,createdAt:R,lastLoginAt:k});return d&&Array.isArray(d)&&(S.providerData=d.map(D=>Object.assign({},D))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ko;i.updateFromServerResponse(n);const s=new ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Lx(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ko;u.updateFromIdToken(r);const c=new ps({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Am(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function ms(t){ks(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vx.type="NONE";const b_=Vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(ms(b_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ms(b_);const a=Eh(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(a);if(p){const g=ps._fromJSON(e,p);f!==s&&(u=g),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Qo(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if($x(e))return"Webos";if(Bx(e))return"Safari";if((e.includes("chrome/")||Mx(e))&&!e.includes("edge/"))return"Chrome";if(Ux(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ox(t=Qn()){return/firefox\//i.test(t)}function Bx(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mx(t=Qn()){return/crios\//i.test(t)}function jx(t=Qn()){return/iemobile/i.test(t)}function Ux(t=Qn()){return/android/i.test(t)}function zx(t=Qn()){return/blackberry/i.test(t)}function $x(t=Qn()){return/webos/i.test(t)}function xv(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=Qn()){var e;return xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KD(){return K2()&&document.documentMode===10}function qx(t=Qn()){return xv(t)||Ux(t)||$x(t)||zx(t)||/windows phone/i.test(t)||jx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e=[]){let n;switch(t){case"Browser":n=P_(Qn());break;case"Worker":n=`${P_(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_u}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e={}){return Ta(t,"GET","/v2/passwordPolicy",Ia(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class JD{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fx(this,{idToken:e}),r=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ND()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(_s(this));const n=e?En(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),n=new JD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ms(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fo(t){return En(t)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=tb(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eF(t){rd=t}function Wx(t){return rd.loadJS(t)}function tF(){return rd.recaptchaEnterpriseScript}function nF(){return rd.gapiScript}function rF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iF="recaptcha-enterprise",sF="NO_RECAPTCHA";class aF{constructor(e){this.type=iF,this.auth=fo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{BD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new OD(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;I_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(sF)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&I_(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tF();c.length!==0&&(c+=u),Wx(c).then(()=>{i(u,s,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function N_(t,e,n,r=!1){const i=new aF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await N_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await N_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){const n=uo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function uF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lF(t,e,n){const r=fo(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Gx(e),{host:a,port:u}=cF(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hF()}function Gx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cF(t){const e=Gx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:D_(a)}}}function D_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function fF(t,e){return Ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){return dc(t,"POST","/v1/accounts:signInWithPassword",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}async function mF(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Cv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,n,"signInWithPassword",dF);case"emailLink":return pF(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,r,"signUpPassword",fF);case"emailLink":return mF(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return dc(t,"POST","/v1/accounts:signInWithIdp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="http://localhost";class to extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_v(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new to(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:gF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yF(t){const e=Zu(el(t)).link,n=e?Zu(el(e)).deep_link_id:null,r=Zu(el(t)).deep_link_id;return(r?Zu(el(r)).link:null)||r||n||e||t}class Sv{constructor(e){var n,r,i,s,a,u;const c=Zu(el(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=vF((i=c.mode)!==null&&i!==void 0?i:null);Le(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=yF(e);try{return new Sv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.providerId=Tu.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sv.parseLink(n);return Le(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Tu.PROVIDER_ID="password";Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends pc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends pc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends pc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return dc(t,"POST","/v1/accounts:signUp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ps._fromIdTokenResponse(e,r,i),a=F_(r);return new no({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F_(r);return new no({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lf(e,n,r,i)}}function Qx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(t,s,e,r):s})}async function EF(t,e,n=!1){const r=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,n=!1){const{auth:r}=t;if(Mi(r.app))return Promise.reject(_s(r));const i="reauthenticate";try{const s=await Ql(t,Qx(r,i,e,t),n);Le(s.idToken,r,"internal-error");const a=Av(s.idToken);Le(a,r,"internal-error");const{sub:u}=a;return Le(t.uid===u,r,"user-mismatch"),no._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ki(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e,n=!1){if(Mi(t.app))return Promise.reject(_s(t));const r="signIn",i=await Qx(t,r,e),s=await no._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AF(t,e){return Yx(fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xF(t,e,n){if(Mi(t.app))return Promise.reject(_s(t));const r=fo(t),a=await xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_F).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Xx(t),c}),u=await no._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function CF(t,e,n){return Mi(t.app)?Promise.reject(_s(t)):AF(En(t),Tu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xx(t),r})}function SF(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function IF(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function Jx(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function TF(t){return En(t).signOut()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1e3,bF=10;class eC extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);KD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const PF=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tC.type="SESSION";const nC=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,s)),c=await RF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const f=Iv("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const A=g;if(A.data.eventId===f)switch(A.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function DF(t){Gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function FF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VF(){return rC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",OF=1,hf="firebaseLocalStorage",sC="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function BF(){const t=indexedDB.deleteDatabase(iC);return new mc(t).toPromise()}function Cm(){const t=indexedDB.open(iC,OF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hf,{keyPath:sC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await BF(),e(await Cm()))})})}async function L_(t,e,n){const r=sd(t,!0).put({[sC]:e,value:n});return new mc(r).toPromise()}async function MF(t,e){const n=sd(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function V_(t,e){const n=sd(t,!0).delete(e);return new mc(n).toPromise()}const jF=800,UF=3;class aC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(VF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FF(),!this.activeServiceWorker)return;this.sender=new NF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await L_(e,cf,"1"),await V_(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sd(i,!1).getAll();return new mc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aC.type="LOCAL";const zF=aC;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e){return e?ms(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qF(t){return Yx(t.auth,new Tv(t),t.bypassAuthState)}function HF(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),wF(n,new Tv(t),t.bypassAuthState)}async function WF(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),EF(n,new Tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qF;case"linkViaPopup":case"linkViaRedirect":return WF;case"reauthViaPopup":case"reauthViaRedirect":return HF;default:ki(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new fc(2e3,1e4);class Mo extends oC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GF.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="pendingRedirect",wh=new Map;class QF extends oC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await YF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YF(t,e){const n=ZF(e),r=JF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XF(t,e){wh.set(t._key(),e)}function JF(t){return ms(t._redirectPersistence)}function ZF(t){return Eh(KF,t.config.apiKey,t.name)}async function eL(t,e,n=!1){if(Mi(t.app))return Promise.reject(_s(t));const r=fo(t),i=$F(r,e),a=await new QF(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=10*60*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return Ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function oL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iL(t);for(const n of e)try{if(uL(n))return}catch{}ki(t,"unauthorized-domain")}function uL(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!aL.test(n))return!1;if(sL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new fc(3e4,6e4);function B_(){const t=Gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{var r,i,s;function a(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),n(Wi(t,"network-request-failed"))},timeout:lL.get()})}if(!((i=(r=Gi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gi().gapi)===null||s===void 0)&&s.load)a();else{const u=rF("iframefcb");return Gi()[u]=()=>{gapi.load?a():n(Wi(t,"network-request-failed"))},Wx(`${nF()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function hL(t){return Ah=Ah||cL(t),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new fc(5e3,15e3),dL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wv(e,pL):`https://${t.config.authDomain}/${dL}`,r={apiKey:e.apiKey,appName:t.name,v:_u},i=gL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sc(r).slice(1)}`}async function yL(t){const e=await hL(t),n=Gi().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Wi(t,"network-request-failed"),u=Gi().setTimeout(()=>{s(a)},fL.get());function c(){Gi().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EL=500,wL=600,AL="_blank",xL="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CL(t,e,n,r=EL,i=wL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},_L),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Qn().toLowerCase();n&&(u=Mx(f)?AL:n),Ox(f)&&(e=e||xL,c.scrollbars="yes");const p=Object.entries(c).reduce((A,[b,F])=>`${A}${b}=${F},`,"");if(GD(f)&&u!=="_self")return SL(e||"",u),new M_(null);const g=window.open(e||"",u,p);Le(g,t,"popup-blocked");try{g.focus()}catch{}return new M_(g)}function SL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="__/auth/handler",TL="emulator/auth/handler",kL=encodeURIComponent("fac");async function j_(t,e,n,r,i,s){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_u,eventId:i};if(e instanceof Kx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof pc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),f=c?`#${kL}=${encodeURIComponent(c)}`:"";return`${bL(t)}?${sc(u).slice(1)}${f}`}function bL({config:t}){return t.emulator?wv(t,TL):`https://${t.authDomain}/${IL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class PL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=eL,this._overrideRedirectResult=XF}async _openPopup(e,n,r,i){var s;ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await j_(e,n,r,wm(),i);return CL(e,a,Iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await j_(e,n,r,wm(),i);return DF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yL(e),r=new nL(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zd];a!==void 0&&n(!!a),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qx()||Bx()||xv()}}const RL=PL;var U_="@firebase/auth",z_="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FL(t){Ki(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Le(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(t)},f=new ZD(r,i,s,c);return uF(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Ii("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(r=>new NL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(U_,z_,DL(t)),ni(U_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=5*60,VL=Hw("authIdTokenMaxAge")||LL;let $_=null;const OL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VL)return;const i=n==null?void 0:n.token;$_!==i&&($_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BL(t=bg()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oF(t,{popupRedirectResolver:RL,persistence:[zF,PF,nC]}),r=Hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=OL(s.toString());IF(n,a,()=>a(n.currentUser)),SF(n,u=>a(u))}}const i=$w("auth");return i&&lF(n,`http://${i}`),n}function ML(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FL("Browser");const lC="@firebase/installations",kv="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=1e4,hC=`w:${kv}`,fC="FIS_v2",jL="https://firebaseinstallations.googleapis.com/v1",UL=60*60*1e3,zL="installations",$L="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ro=new oo(zL,$L,qL);function dC(t){return t instanceof bi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC({projectId:t}){return`${jL}/projects/${t}/installations`}function mC(t){return{token:t.token,requestStatus:2,expiresIn:WL(t.expiresIn),creationTime:Date.now()}}async function gC(t,e){const r=(await e.json()).error;return ro.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HL(t,{refreshToken:e}){const n=vC(t);return n.append("Authorization",GL(e)),n}async function yC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WL(t){return Number(t.replace("s","000"))}function GL(t){return`${fC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pC(t),i=vC(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:fC,appId:t.appId,sdkVersion:hC},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await yC(()=>fetch(r,u));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:mC(f.authToken)}}else throw await gC("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^[cdef][\w-]{21}$/,Sm="";function XL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JL(t);return YL.test(n)?n:Sm}catch{return Sm}}function JL(t){return QL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;function wC(t,e){const n=ad(t);AC(n,e),ZL(n,e)}function AC(t,e){const n=EC.get(t);if(n)for(const r of n)r(e)}function ZL(t,e){const n=eV();n&&n.postMessage({key:t,fid:e}),tV()}let Ua=null;function eV(){return!Ua&&"BroadcastChannel"in self&&(Ua=new BroadcastChannel("[Firebase] FID Change"),Ua.onmessage=t=>{AC(t.data.key,t.data.fid)}),Ua}function tV(){EC.size===0&&Ua&&(Ua.close(),Ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="firebase-installations-database",rV=1,io="firebase-installations-store";let ep=null;function bv(){return ep||(ep=Xw(nV,rV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(io)}}})),ep}async function ff(t,e){const n=ad(t),i=(await bv()).transaction(io,"readwrite"),s=i.objectStore(io),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&wC(t,e.fid),e}async function xC(t){const e=ad(t),r=(await bv()).transaction(io,"readwrite");await r.objectStore(io).delete(e),await r.done}async function od(t,e){const n=ad(t),i=(await bv()).transaction(io,"readwrite"),s=i.objectStore(io),a=await s.get(n),u=e(a);return u===void 0?await s.delete(n):await s.put(u,n),await i.done,u&&(!a||a.fid!==u.fid)&&wC(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(t){let e;const n=await od(t.appConfig,r=>{const i=iV(r),s=sV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Sm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iV(t){const e=t||{fid:XL(),registrationStatus:0};return CC(e)}function sV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oV(t)}:{installationEntry:e}}async function aV(t,e){try{const n=await KL(t,e);return ff(t.appConfig,n)}catch(n){throw dC(n)&&n.customData.serverCode===409?await xC(t.appConfig):await ff(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oV(t){let e=await q_(t.appConfig);for(;e.registrationStatus===1;)await _C(100),e=await q_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Pv(t);return r||n}return e}function q_(t){return od(t,e=>{if(!e)throw ro.create("installation-not-found");return CC(e)})}function CC(t){return uV(t)?{fid:t.fid,registrationStatus:0}:t}function uV(t){return t.registrationStatus===1&&t.registrationTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV({appConfig:t,heartbeatServiceProvider:e},n){const r=cV(t,n),i=HL(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:hC,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await yC(()=>fetch(r,u));if(c.ok){const f=await c.json();return mC(f)}else throw await gC("Generate Auth Token",c)}function cV(t,{fid:e}){return`${pC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t,e=!1){let n;const r=await od(t.appConfig,s=>{if(!SC(s))throw ro.create("not-registered");const a=s.authToken;if(!e&&dV(a))return s;if(a.requestStatus===1)return n=hV(t,e),s;{if(!navigator.onLine)throw ro.create("app-offline");const u=mV(s);return n=fV(t,u),u}});return n?await n:r.authToken}async function hV(t,e){let n=await H_(t.appConfig);for(;n.authToken.requestStatus===1;)await _C(100),n=await H_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Rv(t,e):r}function H_(t){return od(t,e=>{if(!SC(e))throw ro.create("not-registered");const n=e.authToken;return gV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fV(t,e){try{const n=await lV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ff(t.appConfig,r),n}catch(n){if(dC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xC(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ff(t.appConfig,r)}throw n}}function SC(t){return t!==void 0&&t.registrationStatus===2}function dV(t){return t.requestStatus===2&&!pV(t)}function pV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UL}function mV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gV(t){return t.requestStatus===1&&t.requestTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t){const e=t,{installationEntry:n,registrationPromise:r}=await Pv(e);return r?r.catch(console.error):Rv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e=!1){const n=t;return await _V(n),(await Rv(n,e)).token}async function _V(t){const{registrationPromise:e}=await Pv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(!t||!t.options)throw tp("App Configuration");if(!t.name)throw tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tp(t){return ro.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="installations",wV="installations-internal",AV=t=>{const e=t.getProvider("app").getImmediate(),n=EV(e),r=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xV=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,IC).getImmediate();return{getId:()=>vV(n),getToken:i=>yV(n,i)}};function CV(){Ki(new Ii(IC,AV,"PUBLIC")),Ki(new Ii(wV,xV,"PRIVATE"))}CV();ni(lC,kv);ni(lC,kv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="analytics",SV="firebase_id",IV="origin",TV=60*1e3,kV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fr=new oo("analytics","Analytics",bV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){if(!t.startsWith(Nv)){const e=Fr.create("invalid-gtag-resource",{gtagURL:t});return Er.warn(e.message),""}return t}function TC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NV(t,e){const n=RV("firebase-js-sdk-policy",{createScriptURL:PV}),r=document.createElement("script"),i=`${Nv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function DV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function FV(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await TC(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(u){Er.error(u)}t("config",i,s)}async function LV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await TC(n);for(const c of a){const f=u.find(g=>g.measurementId===c),p=f&&e[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Er.error(s)}}function VV(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[u,c]=a;await LV(t,e,n,u,c)}else if(s==="config"){const[u,c]=a;await FV(t,e,n,r,u,c)}else if(s==="consent"){const[u,c]=a;t("consent",u,c)}else if(s==="get"){const[u,c,f]=a;t("get",u,c,f)}else if(s==="set"){const[u]=a;t("set",u)}else t(s,...a)}catch(u){Er.error(u)}}return i}function OV(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=VV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function BV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=30,jV=1e3;class UV{constructor(e={},n=jV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kC=new UV;function zV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $V(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:zV(r)},s=kV.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function qV(t,e=kC,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Fr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new GV;return setTimeout(async()=>{u.abort()},TV),bC({appId:r,apiKey:i,measurementId:s},a,u,e)}async function bC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kC){var s;const{appId:a,measurementId:u}=t;try{await HV(r,e)}catch(c){if(u)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await $V(t);return i.deleteThrottleMetadata(a),c}catch(c){const f=c;if(!WV(f)){if(i.deleteThrottleMetadata(a),u)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:u};throw c}const p=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?R0(n,i.intervalMillis,MV):R0(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,g),Er.debug(`Calling attemptFetch again in ${p} millis`),bC(t,g,r,i)}}function HV(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WV(t){if(!(t instanceof bi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(){if(Gw())try{await Kw()}catch(t){return Er.warn(Fr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Er.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YV(t,e,n,r,i,s,a){var u;const c=qV(t);c.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Er.error(b)),e.push(c);const f=QV().then(b=>{if(b)return r.getId()}),[p,g]=await Promise.all([c,f]);BV(s)||NV(s,p.measurementId),i("js",new Date);const A=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return A[IV]="firebase",A.update=!0,g!=null&&(A[SV]=g),i("config",p.measurementId,A),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.app=e}_delete(){return delete yl[this.app.options.appId],Promise.resolve()}}let yl={},W_=[];const G_={};let np="dataLayer",JV="gtag",K_,PC,Q_=!1;function ZV(){const t=[];if(Ww()&&t.push("This is a browser extension environment."),Y2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fr.create("invalid-analytics-context",{errorInfo:e});Er.warn(n.message)}}function e3(t,e,n){ZV();const r=t.options.appId;if(!r)throw Fr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fr.create("no-api-key");if(yl[r]!=null)throw Fr.create("already-exists",{id:r});if(!Q_){DV(np);const{wrappedGtag:s,gtagCore:a}=OV(yl,W_,G_,np,JV);PC=s,K_=a,Q_=!0}return yl[r]=YV(t,W_,G_,e,K_,np,n),new XV(t)}function t3(t=bg()){t=En(t);const e=uo(t,df);return e.isInitialized()?e.getImmediate():n3(t)}function n3(t,e={}){const n=uo(t,df);if(n.isInitialized()){const i=n.getImmediate();if(jl(e,n.getOptions()))return i;throw Fr.create("already-initialized")}return n.initialize({options:e})}function r3(t,e,n,r){t=En(t),KV(PC,yl[t.app.options.appId],e,n,r).catch(i=>Er.error(i))}const Y_="@firebase/analytics",X_="0.10.7";function i3(){Ki(new Ii(df,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return e3(r,i,n)},"PUBLIC")),Ki(new Ii("analytics-internal",t,"PRIVATE")),ni(Y_,X_),ni(Y_,X_,"esm2017");function t(e){try{const n=e.getProvider(df).getImmediate();return{logEvent:(r,i,s)=>r3(n,r,i,s)}}catch(n){throw Fr.create("interop-component-reg-failed",{reason:n})}}}i3();const s3={apiKey:"AIzaSyDR27NVCQmVwVNZfNXVGpLKSsJj8f2Filg",authDomain:"darelom-students.firebaseapp.com",projectId:"darelom-students",storageBucket:"darelom-students.appspot.com",messagingSenderId:"993473208393",appId:"1:993473208393:web:294652795108cc161c5f98",measurementId:"G-1K85RQXZQ1"},a3=Jw(s3),Mr=oD(),gc=BL();t3(a3);const o3=()=>{const t=Nn(),e=JSON.parse(localStorage.getItem("loggedinUser")),n=JSON.parse(localStorage.getItem("loggedinUserInfo"));async function r(){await TF(gc),localStorage.setItem("loggedinUser",null),localStorage.setItem("loggedinUserInfo",null)}return _.jsx("div",{className:"border-bottom",children:_.jsxs("div",{className:"container-xl py-3",children:[e&&_.jsx(_.Fragment,{children:_.jsxs("p",{className:"fs-4",children:[_.jsx("span",{children:"أهلًا، "}),_.jsxs("span",{className:"fw-bold",children:[n.name,"!"]})]})}),n?_.jsxs("div",{className:"d-flex gap-2",children:[_.jsxs("button",{className:`btn btn-primary w-100 p-2 ${!(n!=null&&n.write_permission)&&"disabled"}`,onClick:()=>t(`/${n==null?void 0:n.grade}/send_question_selector`),children:["أضف سؤالًا ",!(n!=null&&n.write_permission)&&"[تتم مراجعة حسابك]"]}),_.jsx("button",{className:"btn btn-danger w-100 p-2",onClick:r,children:"تسجيل الخروج"})]}):_.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t("signin"),children:"تسجيل الدخول"})]})})},Pi=({hasText:t=!0})=>_.jsxs("div",{className:"d-block text-center py-4",children:[_.jsx("div",{className:"spinner-border text-primary",role:"status",children:_.jsx("span",{className:"sr-only d-none",children:"..."})}),t?_.jsx("p",{className:"fw-bold fs-5 mt-2",children:"صلِّ علَى النَّبِيِّ."}):""]}),u3=()=>{const[t,e]=W.useState(!0);return W.useEffect(()=>{Jx(gc,n=>{e(!1)})},[]),_.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[_.jsx(R2,{}),_.jsx(N2,{}),_.jsx(o3,{}),_.jsx("div",{className:"container-xl flex-grow-1 py-3",children:_.jsx("div",{children:t?_.jsx(Pi,{}):_.jsx(u2,{})})}),_.jsx(D2,{}),_.jsx(F2,{})]})},si=({children:t,fontSize:e,py:n})=>_.jsx("h2",{className:`fs-${e||4} py-${n||2} fw-medium bg-dark text-center text-light`,children:t}),Dv="https://iabdwahab.me",l3=({currentStepIndex:t,setCurrentStepIndex:e,selections:n,setSelections:r})=>{function i(){t>0&&(e(t-1),r(n.slice(0,n.length-1)))}const s=t===0;return _.jsx("button",{className:`btn btn-danger ${s?"d-none":"d-block"}`,onClick:i,children:"رجوع"})},c3=({option:t,stepsList:e,currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})=>{const a=Nn();function u(){if(t.option_data==="test_yourself")return a("/test_yourself");n<e.length-1&&t.will_next?(r(n+1),s([...i,t.option_data])):a(`${i.join("/")}/${t.option_data}`)}const c=t.available,f=`${t.option_text} ${c?"":"[قريبًا]"}`,p=`btn btn-primary w-100 p-2 ${c?"":"disabled"}`;return _.jsx("button",{className:p,onClick:u,children:f})},h3=({stepsList:t})=>{var u,c;const e=Xi(),[n,r]=W.useState(((u=e.state)==null?void 0:u.initialStepIndex)||0),[i,s]=W.useState(((c=e.state)==null?void 0:c.selections)||[]),a=t[n];return _.jsxs("div",{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:a.title}),_.jsx(l3,{currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})]}),_.jsx("div",{className:"row g-2 my-2",children:a.options.map((f,p)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(c3,{option:f,stepsList:t,currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})},p))})]})},f3=()=>_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",children:"#"}),_.jsx("th",{scope:"col",children:"الاسم"}),_.jsx("th",{scope:"col",className:"text-center",children:"النسبة"})]})});async function d3(){const t=[{grade:"grade_1",grade_ar_name:"الفرقة الأولى"},{grade:"grade_2",grade_ar_name:"الفرقة الثانية"},{grade:"grade_3",grade_ar_name:"الفرقة الثالثة"},{grade:"grade_4",grade_ar_name:"الفرقة الرابعة"}];for(let e=1;e<=4;e++){const n=uv(Cu(Mr,`grade_${e}/degrees/2023_24`),fv("rank"),pv(3)),r=[];(await vv(n)).docs.forEach(s=>{r.push(s.data())}),t[e-1].list=r}return t}const p3=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(!0);return W.useEffect(()=>{async function i(){let s;s=await d3(),e(s),r(!1)}i()},[]),_.jsxs("div",{className:"top-students",children:[_.jsx(si,{children:"أوائل الفرق"}),n?_.jsx(Pi,{}):_.jsx("div",{className:"row g-2 mt-1",children:t.map((i,s)=>_.jsxs("div",{className:"border-secondary-subtle rounded-2 py-1 my-0 col-lg-6",children:[_.jsx("h3",{className:"fs-5 bg-dark text-light p-2 my-0",children:i.grade_ar_name}),_.jsxs("table",{className:"table table-striped border",children:[_.jsx(f3,{}),_.jsx(m3,{gradeDegree:i})]}),_.jsx(ga,{to:`degrees/${i.grade}/2023_24`,className:"d-block my-2 btn btn-primary fw-bold",children:"عرض القائمة كاملة"})]},s))})]})};function m3({gradeDegree:t}){return _.jsx("tbody",{children:t.list.map((e,n)=>_.jsx(g3,{student:e,grade:t.grade},n))})}function g3({student:t,grade:e}){const n=Nn();return _.jsxs("tr",{className:"degree_tr-linked",onClick:()=>n(`/degrees/${e}/2023_24/${t.id}`),children:[_.jsx("th",{scope:"row",children:t.rank}),_.jsx("td",{children:t.name}),_.jsxs("td",{className:"text-center",children:["%",t.total_percentage]})]})}const v3=[{title:"اختر الفرقة:",options:[{option_text:"الفرقة الأولى",option_data:"grade_1",will_next:!0,available:!0},{option_text:"الفرقة الثانية",option_data:"grade_2",will_next:!0,available:!0},{option_text:"الفرقة الثالثة",option_data:"grade_3",will_next:!0,available:!0},{option_text:"الفرقة الرابعة",option_data:"grade_4",will_next:!0,available:!0}]},{title:"عم تبحث؟",options:[{option_text:"جدول المحاضرات",option_data:"schedule",will_next:!1,available:!0},{option_text:"كتب دراسية",option_data:"books",will_next:!0,available:!0},{option_text:"تسجيلات محاضرات",option_data:"lectures_recordings",will_next:!0,available:!0},{option_text:"اختبر نفسك - أسئلة الطلاب",option_data:"test_yourself_students",will_next:!0,available:!0},{option_text:"اختبر نفسك [نسخة تجريبية]",option_data:"test_yourself",will_next:!1,available:!0},{option_text:"شروحات",option_data:"explanations",will_next:!1,available:!1},{option_text:"امتحانات الأعوام السابقة",option_data:"books",will_next:!0,available:!1}]},{title:"اختر الفصل الدراسي:",options:[{option_text:"الفصل الدراسي الأول",option_data:"term_1",will_next:!1,available:!0},{option_text:"الفصل الدراسي الثاني",option_data:"term_2",will_next:!1,available:!0}]}],y3=()=>_.jsxs(_.Fragment,{children:[_.jsx(h3,{stepsList:v3}),_.jsx(p3,{})]}),_3=({student:t,grade:e})=>{const{id:n,name:r,rank:i,total:s,total_percentage:a}=t,u=Nn();function c(){u(`/degrees/${e}/2023_24/${t.id}`)}return _.jsxs("tr",{className:"degree_tr-linked",onClick:c,children:[_.jsx("th",{scope:"row",className:"text-center",children:i}),_.jsx("td",{className:"text-center",children:n}),_.jsx("td",{style:{whiteSpace:"nowrap"},children:r}),_.jsx("td",{className:"text-center",children:s}),_.jsxs("td",{className:"text-center",children:["%",a]})]})},E3=()=>{const t=[{isCentered:!0,text:"#"},{isCentered:!0,text:"رقم الجلوس"},{isCentered:!1,text:"الاسم"},{isCentered:!0,text:"الإجمالي"},{isCentered:!0,text:"النسبة"}];return _.jsx("thead",{children:_.jsx("tr",{children:t.map((e,n)=>_.jsx("th",{scope:"col",className:`${e.isCentered&&"text-center"}`,children:e.text},n))})})};async function w3(t){const e=await vv(t),n=e.docs.map(i=>i.data()),r=e.docs[e.docs.length-1];return{degreesData:n,lastStudentData:r}}async function A3(t){return(await ID(t)).data().count}function Lr(t){return{grade_1:"الفرقة الأولى",grade_2:"الفرقة الثانية",grade_3:"الفرقة الثالثة",grade_4:"الفرقة الرابعة",term_1:"الفصل الدراسي الأول",term_2:"الفصل الدراسي الثاني",nahw:"النحو",sarf:"الصرف",english:"إنجليزي",elm_allugha:"علم اللغة",albalagha:"البلاغة",adab_gahily:"أدب جاهلي",falsafa:"فلسفة",seera_khoalfaa:"السيرة وتاريخ الخلفاء",quran_ebadat:"القرآن والعبادات",naqd_qadim:"نقد أدبي قديم",nsoos_gahilya:"نصوص جاهلية",farsy:"فارسي",ebry:"عبري",riyadat_aamal:"ريادة أعمال",nazm_oslobiya:"النظم والأسلوبية",quran_ahwal:"القرآن الكريم والأحوال الشخصية",adab_islamy_omawy:"أدب إسلامي وأموي",mawarith:"مواريث",maajim_aswat:"المعاجم وعلم الأصوات",nsoos_islamya_omawya:"نصوص إسلامية وأموية",tareekh_omawy_abasy:"تاريخ أموي وعباسي",aqida:"العقيدة",adab_moqaran:"أدب مقارن",adab_abasy_andalusy:"أدب عباسي وأندلسي",olom_quran:"علوم القرآن",tareekh_misr:"تاريخ مصر الحديث",tafseer:"تفسير",elm_kalam:"علم الكلام",nsoos_abasya_andalusya:"نصوص عباسية وأندلسية",ittijahat_lughawiya:"اتجاهات لغوية",adab_hadith:"أدب حديث",hadara_nozom:"حضارة ونظم",tasawof:"تصوف",osool_fiqh:"أصول فقه",horoob_salibiya:"حروب صليبيبة",nsoos_haditha:"نصوص أدبية حديثة",naqd_hadith:"نقد أدبي حديث",mojalad_tasgilat:"مجلد مجمع للمواد",groupped_channel:"قناة تجمع المواد"}[t]}const x3=({studentsCount:t})=>{const e=_.jsx("span",{className:"fw-bold",children:t||"غير محدد"});return _.jsxs("h3",{className:"py-2 fs-4",children:["عدد الطلاب: ",e,"."]})},C3=({degreesCollection:t,lastStudent:e,setDataAndHideLoaderFirestore:n})=>{function r(){const i=uv(t,fv("rank","asc"),yD(e),pv(40));n(i)}return _.jsx("button",{className:"btn btn-primary w-100",onClick:r,children:"عرض المزيد"})},S3=()=>_.jsx("h3",{className:"fw-bold text-center fs-5",children:"انتهت النتائج."}),I3=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(!0),{grade:i}=Ji(),[s,a]=W.useState(null),[u,c]=W.useState(null),[f,p]=W.useState(!1),g=Cu(Mr,`${i}/degrees/2023_24`);async function A(b){const F=await A3(g),{degreesData:L,lastStudentData:M}=await w3(b);a(F),e([...t,...L]),c(M),M.data().rank===F&&p(!0),r(!1)}return W.useEffect(()=>{A(uv(g,fv("rank","asc"),pv(40)))},[]),_.jsxs("div",{children:[_.jsxs(si,{fontSize:3,py:3,children:["ترتيب نتائج ",Lr(i)," 2023/24"]}),_.jsx(x3,{studentsCount:s}),_.jsxs("div",{className:"table-responsive border",children:[_.jsxs("table",{className:"table table-striped table-bordered",children:[_.jsx(E3,{}),_.jsx("tbody",{children:t.map(b=>_.jsx(_3,{student:b,grade:i},b.id))})]}),n&&_.jsx(Pi,{})]}),_.jsx("div",{className:"mt-3 mb-1",children:f?_.jsx(S3,{}):_.jsx(C3,{degreesCollection:g,lastStudent:u,setDataAndHideLoaderFirestore:A})})]})},T3=({subject:t,student:e,index:n})=>{const r=e.degrees[n],i=r>=50?"bg-success":"bg-danger";return _.jsxs("tr",{children:[_.jsx("th",{scope:"row",children:t.name},n),_.jsx("td",{className:`text-center text-light ${i}`,children:r})]})},k3=()=>{},b3=({title:t,value:e})=>_.jsxs("h4",{className:"mb-1",children:[_.jsxs("span",{className:"fw-bold text-primary",children:[t,": "]}),_.jsxs("span",{children:[e,"."]})]}),P3=({student:t})=>{const e=[{title:"الاسم",value:t.name},{title:"رقم الجلوس",value:t.id},{title:"الترتيب",value:t.rank},{title:"التقدير",value:t.total_grade}];return _.jsx("div",{children:e.map((n,r)=>_.jsx(b3,{title:n.title,value:n.value},r))})};async function R3(t,e){const n=Sa(Mr,`${t}/degrees/2023_24`,e);return(await Iu(n)).data()}const N3=()=>{const{grade:t,studentId:e}=Ji(),[n,r]=W.useState({}),[i,s]=W.useState([]),[a,u]=W.useState(!0);return W.useEffect(()=>{async function c(){let f;{f=await R3(t,e);const p=(await Iu(Sa(Mr,`${t}`,"degrees"))).data().subjects;s(p)}r(f),u(!1)}c()},[]),_.jsxs(_.Fragment,{children:[_.jsx(si,{fontSize:3,children:"نتائج المواد"}),a?_.jsx(Pi,{}):_.jsxs("div",{className:"mt-3",children:[_.jsx(P3,{student:n}),_.jsxs("table",{className:"table table-striped border table-bordered mt-4",children:[_.jsx(k3,{}),_.jsx("tbody",{children:i.map((c,f)=>_.jsx(T3,{subject:c,student:n,index:f},f))})]})]})]})},Zc=()=>_.jsxs("div",{className:"min-vh-100 d-flex flex-column gap-4 justify-content-center align-items-center",children:[_.jsx("h1",{children:"الصفحة غير موجودة."}),_.jsx(ga,{to:"/",className:"btn btn-primary",children:"الصفحة الرئيسية"})]}),RC=()=>{const t=Nn();function e(){t("/")}return _.jsx("button",{className:"btn btn-danger",onClick:e,children:"القائمة الرئيسية"})},NC=({grade:t,backFrom:e})=>{const n=Nn();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return _.jsx("button",{className:"btn btn-danger",onClick:r,children:"رجوع"})};function gs({text:t,color:e,widthPercentage:n,onClick:r}){return _.jsx("button",{className:`btn btn-${e||"primary"} w-${n||"100"} p-2`,onClick:r,children:t})}const D3=({book:t})=>{const e=Nn(),[n,r]=W.useState(!1);function i(){window.location.href=`https://drive.google.com/uc?export=download&id=${t.book_gdrive_id}`}function s(){e(`/book/${t.book_gdrive_id}`,{state:{book_name:t.book_name}})}return n?_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(gs,{text:"استعراض",color:"success",onClick:s}),_.jsx(gs,{text:"تحميل",onClick:i}),_.jsx(gs,{text:"إلغاء",color:"danger",onClick:()=>r(!1)})]}):_.jsx(gs,{text:t.book_name,onClick:()=>r(!0)})},F3=()=>{const{grade:t,term:e}=Ji(),[n,r]=W.useState([]),[i,s]=W.useState(!0);return W.useEffect(()=>{fetch(`${Dv}/darelom-students-data/books/2023_24/books_${t}.json`).then(a=>a.json()).then(a=>{r(a[e]),s(!1)})},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[_.jsx("h2",{children:"اختر كتابًا:"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(NC,{grade:t,backFrom:"books"}),_.jsx(RC,{})]})]}),_.jsxs(si,{children:[Lr(t)," - ",Lr(e)]}),i?_.jsx(Pi,{}):_.jsx("div",{className:"row g-2 my-2",children:n.map((a,u)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(D3,{book:a,grade:t,term:e})},u))})]})};function L3(){const t="btn btn-danger p-2 px-5 w-100",e=Nn();function n(){e(-1)}return _.jsx("button",{className:t,onClick:n,children:"رجوع"})}const V3=({bookId:t,isIframeLoading:e,setIsIframeLoading:n})=>{const r=`https://drive.google.com/file/d/${t}/preview`,i=`${e&&"d-none"} w-100`,s={height:"500px"};function a(){n(!1)}return _.jsx("iframe",{src:r,onLoad:a,className:i,style:s})},O3=({bookId:t})=>{const e="btn btn-primary p-2 px-5 w-100";function n(){window.location.href=`https://drive.google.com/uc?export=download&id=${t}`}return _.jsx("button",{className:e,onClick:n,children:"تحميل"})},J_=({children:t})=>_.jsx("div",{className:"col-md-auto col-6",children:t}),B3=()=>{var s;const{bookId:t}=Ji(),n=(s=Xi().state)==null?void 0:s.book_name,[r,i]=W.useState(!0);return _.jsxs(_.Fragment,{children:[_.jsxs(si,{children:['كتاب: "',n,'".']}),_.jsxs("div",{className:"my-2 d-flex justify-content-end row gx-2",children:[_.jsx(J_,{children:_.jsx(O3,{bookId:t})}),_.jsx(J_,{children:_.jsx(L3,{})})]}),r&&_.jsx(Pi,{}),_.jsx(V3,{bookId:t,isIframeLoading:r,setIsIframeLoading:i})]})},M3=({currentQuestionIndex:t,questionsLength:e,creatorName:n})=>{const r=t+1;return _.jsx("div",{className:"d-flex justify-content-between ",children:_.jsxs("p",{className:"mb-0",children:["السؤال",_.jsxs("span",{className:"fw-bold",children:[" ",r," "]}),"من",_.jsxs("span",{className:"fw-bold",children:[" ",e]}),"."]})})},j3=({questionText:t})=>_.jsx("h3",{className:"bg-black text-light p-2 py-3 text-center my-4 rounded-2 lh-base",children:t});function U3({currentQuestionIndex:t,setCurrentQuestionIndex:e,setIsAnswered:n,answerButtons:r}){function i(){n(!1),e(t+1),r.forEach(s=>{s.disabled=!1,s.classList.remove("btn-danger","btn-success")})}return _.jsx(gs,{text:"التالي",onClick:i})}function z3({questionsLength:t,score:e}){const n=Nn();function r(){n("/test_yourself/test_result",{state:{result:e,fullMark:t}})}return _.jsx(gs,{text:"عرض النتيجة",onClick:r})}const $3=({children:t})=>_.jsx("div",{className:"modal-header",children:_.jsx("h5",{className:"modal-title text-center w-100",children:t})}),q3=({children:t})=>_.jsx("div",{className:"modal-body pb-1",children:_.jsx("p",{className:"text-center fw-bold",children:t})}),H3=({children:t})=>_.jsx("div",{className:"modal-footer border-0 pt-0",children:t}),W3=({setIsModalOpen:t,answerReason:e})=>_.jsx("div",{className:"modal d-block bg-black bg-opacity-75",tabIndex:"-1",children:_.jsx("div",{className:"modal-dialog modal-dialog-centered",children:_.jsxs("div",{className:"modal-content",children:[_.jsx($3,{children:'"وَقُل رَّبِّ زِدْنِي عِِلْمًا"'}),_.jsx(q3,{children:e||"للأسف، لا يوجد تعليل لهذه الإجابة حاليًا."}),_.jsx(H3,{children:_.jsx(gs,{text:"إغلاق",color:"danger",onClick:()=>t(!1)})})]})})}),G3=({setIsModalOpen:t})=>_.jsx(gs,{text:"عرض التعليل",onClick:()=>t(!0)});function K3(t,e,n,r,i,s,a,u){function c(){r.current.forEach(g=>{g.disabled=!0}),p.disabled=!1}n(!0);const f=r.current[s[i].question_answer],p=t.target;e==s[i].question_answer?(p.classList.add("btn-success"),a(u+1),c()):(c(),p.classList.add("btn-danger"),f.classList.add("btn-success"))}const rp=()=>{var q,G,d,I,x,S;const{grade:t,term:e,subject:n}=Ji(),[r,i]=W.useState(!1),[s,a]=W.useState(((q=location.state)==null?void 0:q.currentQuestionIndex)||0),[u,c]=W.useState(0),[f,p]=W.useState([]),[g,A]=W.useState(!1),b=W.useRef([]),[F,L]=W.useState(!0),R=Xi().pathname;function k(D){vv(Cu(Mr,D)).then(B=>{const U=[];B.docs.forEach(V=>{U.push(V.data())}),p(U),L(!1)})}W.useEffect(()=>{R=="/test_yourself/sended_questions"?k("test_yourself/sended_questions"):R==`/${t}/${e}/${n}/test_yourself_students`?k(`${t}/test_yourself_students/questions/${e}/${n}`):fetch(`${Dv}/darelom-students-data/questions/test_questions.json`).then(D=>D.json()).then(D=>{p(D),L(!1)})},[]);const P=s>=f.length-1;return _.jsxs(_.Fragment,{children:[_.jsx(si,{fontSize:"2",children:"اختبر نفسك"}),F?_.jsx(Pi,{}):f.length?_.jsxs("div",{className:"mt-2",children:[_.jsx(M3,{currentQuestionIndex:s,questionsLength:f.length,creatorName:(d=(G=f[s])==null?void 0:G.question_creator)==null?void 0:d.name}),_.jsx(j3,{questionText:(I=f[s])==null?void 0:I.question_text}),_.jsx("div",{className:"row g-2",children:(x=f[s])==null?void 0:x.question_options.map((D,B)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100 p-2",ref:U=>b.current[B]=U,onClick:U=>K3(U,B,i,b,s,f,c,u),children:D})},B))}),_.jsx("hr",{}),_.jsxs("div",{className:"mt-3 d-flex gap-2",children:[r&&P?_.jsx(z3,{questionsLength:f.length,score:u}):r&&!P&&_.jsx(U3,{currentQuestionIndex:s,setCurrentQuestionIndex:a,setIsAnswered:i,answerButtons:b.current}),r&&_.jsx(G3,{setIsModalOpen:A})]}),g&&_.jsx(W3,{setIsModalOpen:A,answerReason:(S=f[s])==null?void 0:S.answer_reason})]}):_.jsx("p",{className:"text-center fs-2 fw-bold my-2",children:"لا أسئلة حتى الآن."})]})},Q3=()=>{const t=Xi(),{result:e,fullMark:n}=t.state;return _.jsxs(_.Fragment,{children:[_.jsx("h2",{children:"نتيجتك هي:"}),_.jsxs("p",{className:"text-center fs-1",children:[_.jsxs("span",{className:"fw-bold",children:[e," "]}),"من",_.jsxs("span",{className:"fw-bold",children:[" ",n]}),"."]})]})};var Y3=Object.create,Z_=Object.defineProperty,X3=Object.getPrototypeOf,J3=Object.getOwnPropertyNames,Z3=Object.prototype.hasOwnProperty,Fv=(t,e,n)=>{n=t!=null?Y3(X3(t)):{};const r=Z_(n,"default",{value:t,enumerable:!0});for(let i of J3(t))Z3.call(r,i)||Z_(r,i,{get:()=>t[i],enumerable:!0});return r},vc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),e1=vc((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.acorn={}))})(t,function(n){var r=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],i=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],s="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",a="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",u={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},c="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",f={5:c,"5module":c+" export import",6:c+" const class extends export import super"},p=/^in(stanceof)?$/,g=new RegExp("["+a+"]"),A=new RegExp("["+a+s+"]");function b(o,h){for(var v=65536,w=0;w<h.length;w+=2){if(v+=h[w],v>o)return!1;if(v+=h[w+1],v>=o)return!0}return!1}function F(o,h){return o<65?o===36:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&g.test(String.fromCharCode(o)):h===!1?!1:b(o,i)}function L(o,h){return o<48?o===36:o<58?!0:o<65?!1:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&A.test(String.fromCharCode(o)):h===!1?!1:b(o,i)||b(o,r)}var M=function(h,v){v===void 0&&(v={}),this.label=h,this.keyword=v.keyword,this.beforeExpr=!!v.beforeExpr,this.startsExpr=!!v.startsExpr,this.isLoop=!!v.isLoop,this.isAssign=!!v.isAssign,this.prefix=!!v.prefix,this.postfix=!!v.postfix,this.binop=v.binop||null,this.updateContext=null};function R(o,h){return new M(o,{beforeExpr:!0,binop:h})}var k={beforeExpr:!0},P={startsExpr:!0},q={};function G(o,h){return h===void 0&&(h={}),h.keyword=o,q[o]=new M(o,h)}var d={num:new M("num",P),regexp:new M("regexp",P),string:new M("string",P),name:new M("name",P),privateId:new M("privateId",P),eof:new M("eof"),bracketL:new M("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new M("]"),braceL:new M("{",{beforeExpr:!0,startsExpr:!0}),braceR:new M("}"),parenL:new M("(",{beforeExpr:!0,startsExpr:!0}),parenR:new M(")"),comma:new M(",",k),semi:new M(";",k),colon:new M(":",k),dot:new M("."),question:new M("?",k),questionDot:new M("?."),arrow:new M("=>",k),template:new M("template"),invalidTemplate:new M("invalidTemplate"),ellipsis:new M("...",k),backQuote:new M("`",P),dollarBraceL:new M("${",{beforeExpr:!0,startsExpr:!0}),eq:new M("=",{beforeExpr:!0,isAssign:!0}),assign:new M("_=",{beforeExpr:!0,isAssign:!0}),incDec:new M("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new M("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:R("||",1),logicalAND:R("&&",2),bitwiseOR:R("|",3),bitwiseXOR:R("^",4),bitwiseAND:R("&",5),equality:R("==/!=/===/!==",6),relational:R("</>/<=/>=",7),bitShift:R("<</>>/>>>",8),plusMin:new M("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:R("%",10),star:R("*",10),slash:R("/",10),starstar:new M("**",{beforeExpr:!0}),coalesce:R("??",1),_break:G("break"),_case:G("case",k),_catch:G("catch"),_continue:G("continue"),_debugger:G("debugger"),_default:G("default",k),_do:G("do",{isLoop:!0,beforeExpr:!0}),_else:G("else",k),_finally:G("finally"),_for:G("for",{isLoop:!0}),_function:G("function",P),_if:G("if"),_return:G("return",k),_switch:G("switch"),_throw:G("throw",k),_try:G("try"),_var:G("var"),_const:G("const"),_while:G("while",{isLoop:!0}),_with:G("with"),_new:G("new",{beforeExpr:!0,startsExpr:!0}),_this:G("this",P),_super:G("super",P),_class:G("class",P),_extends:G("extends",k),_export:G("export"),_import:G("import",P),_null:G("null",P),_true:G("true",P),_false:G("false",P),_in:G("in",{beforeExpr:!0,binop:7}),_instanceof:G("instanceof",{beforeExpr:!0,binop:7}),_typeof:G("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:G("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:G("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},I=/\r\n?|\n|\u2028|\u2029/,x=new RegExp(I.source,"g");function S(o){return o===10||o===13||o===8232||o===8233}function D(o,h,v){v===void 0&&(v=o.length);for(var w=h;w<v;w++){var N=o.charCodeAt(w);if(S(N))return w<v-1&&N===13&&o.charCodeAt(w+1)===10?w+2:w+1}return-1}var B=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,U=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,V=Object.prototype,He=V.hasOwnProperty,Pt=V.toString,Bt=Object.hasOwn||function(o,h){return He.call(o,h)},de=Array.isArray||function(o){return Pt.call(o)==="[object Array]"},ae=Object.create(null);function ve(o){return ae[o]||(ae[o]=new RegExp("^(?:"+o.replace(/ /g,"|")+")$"))}function we(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}var Ge=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ne=function(h,v){this.line=h,this.column=v};Ne.prototype.offset=function(h){return new Ne(this.line,this.column+h)};var Qe=function(h,v,w){this.start=v,this.end=w,h.sourceFile!==null&&(this.source=h.sourceFile)};function dt(o,h){for(var v=1,w=0;;){var N=D(o,w,h);if(N<0)return new Ne(v,h-w);++v,w=N}}var St={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ht=!1;function wn(o){var h={};for(var v in St)h[v]=o&&Bt(o,v)?o[v]:St[v];if(h.ecmaVersion==="latest"?h.ecmaVersion=1e8:h.ecmaVersion==null?(!Ht&&typeof console=="object"&&console.warn&&(Ht=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),h.ecmaVersion=11):h.ecmaVersion>=2015&&(h.ecmaVersion-=2009),h.allowReserved==null&&(h.allowReserved=h.ecmaVersion<5),(!o||o.allowHashBang==null)&&(h.allowHashBang=h.ecmaVersion>=14),de(h.onToken)){var w=h.onToken;h.onToken=function(N){return w.push(N)}}return de(h.onComment)&&(h.onComment=Ri(h,h.onComment)),h}function Ri(o,h){return function(v,w,N,$,Q,ne){var ue={type:v?"Block":"Line",value:w,start:N,end:$};o.locations&&(ue.loc=new Qe(this,Q,ne)),o.ranges&&(ue.range=[N,$]),h.push(ue)}}var wr=1,An=2,jr=4,Lt=8,dn=16,ui=32,li=64,Dn=128,ur=256,ts=wr|An|ur;function Ur(o,h){return An|(o?jr:0)|(h?Lt:0)}var sn=0,lr=1,Fn=2,ci=3,Yn=4,Xn=5,je=function(h,v,w){this.options=h=wn(h),this.sourceFile=h.sourceFile,this.keywords=ve(f[h.ecmaVersion>=6?6:h.sourceType==="module"?"5module":5]);var N="";h.allowReserved!==!0&&(N=u[h.ecmaVersion>=6?6:h.ecmaVersion===5?5:3],h.sourceType==="module"&&(N+=" await")),this.reservedWords=ve(N);var $=(N?N+" ":"")+u.strict;this.reservedWordsStrict=ve($),this.reservedWordsStrictBind=ve($+" "+u.strictBind),this.input=String(v),this.containsEsc=!1,w?(this.pos=w,this.lineStart=this.input.lastIndexOf(`
`,w-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(I).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=d.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=h.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&h.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(wr),this.regexpState=null,this.privateNameStack=[]},st={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};je.prototype.parse=function(){var h=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(h)},st.inFunction.get=function(){return(this.currentVarScope().flags&An)>0},st.inGenerator.get=function(){return(this.currentVarScope().flags&Lt)>0&&!this.currentVarScope().inClassFieldInit},st.inAsync.get=function(){return(this.currentVarScope().flags&jr)>0&&!this.currentVarScope().inClassFieldInit},st.canAwait.get=function(){for(var o=this.scopeStack.length-1;o>=0;o--){var h=this.scopeStack[o];if(h.inClassFieldInit||h.flags&ur)return!1;if(h.flags&An)return(h.flags&jr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},st.allowSuper.get=function(){var o=this.currentThisScope(),h=o.flags,v=o.inClassFieldInit;return(h&li)>0||v||this.options.allowSuperOutsideMethod},st.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Dn)>0},st.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},st.allowNewDotTarget.get=function(){var o=this.currentThisScope(),h=o.flags,v=o.inClassFieldInit;return(h&(An|ur))>0||v},st.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ur)>0},je.extend=function(){for(var h=[],v=arguments.length;v--;)h[v]=arguments[v];for(var w=this,N=0;N<h.length;N++)w=h[N](w);return w},je.parse=function(h,v){return new this(v,h).parse()},je.parseExpressionAt=function(h,v,w){var N=new this(w,h,v);return N.nextToken(),N.parseExpression()},je.tokenizer=function(h,v){return new this(v,h)},Object.defineProperties(je.prototype,st);var pt=je.prototype,Ln=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;pt.strictDirective=function(o){if(this.options.ecmaVersion<5)return!1;for(;;){U.lastIndex=o,o+=U.exec(this.input)[0].length;var h=Ln.exec(this.input.slice(o));if(!h)return!1;if((h[1]||h[2])==="use strict"){U.lastIndex=o+h[0].length;var v=U.exec(this.input),w=v.index+v[0].length,N=this.input.charAt(w);return N===";"||N==="}"||I.test(v[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(N)||N==="!"&&this.input.charAt(w+1)==="=")}o+=h[0].length,U.lastIndex=o,o+=U.exec(this.input)[0].length,this.input[o]===";"&&o++}},pt.eat=function(o){return this.type===o?(this.next(),!0):!1},pt.isContextual=function(o){return this.type===d.name&&this.value===o&&!this.containsEsc},pt.eatContextual=function(o){return this.isContextual(o)?(this.next(),!0):!1},pt.expectContextual=function(o){this.eatContextual(o)||this.unexpected()},pt.canInsertSemicolon=function(){return this.type===d.eof||this.type===d.braceR||I.test(this.input.slice(this.lastTokEnd,this.start))},pt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pt.semicolon=function(){!this.eat(d.semi)&&!this.insertSemicolon()&&this.unexpected()},pt.afterTrailingComma=function(o,h){if(this.type===o)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),h||this.next(),!0},pt.expect=function(o){this.eat(o)||this.unexpected()},pt.unexpected=function(o){this.raise(o??this.start,"Unexpected token")};var zr=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pt.checkPatternErrors=function(o,h){if(o){o.trailingComma>-1&&this.raiseRecoverable(o.trailingComma,"Comma is not permitted after the rest element");var v=h?o.parenthesizedAssign:o.parenthesizedBind;v>-1&&this.raiseRecoverable(v,h?"Assigning to rvalue":"Parenthesized pattern")}},pt.checkExpressionErrors=function(o,h){if(!o)return!1;var v=o.shorthandAssign,w=o.doubleProto;if(!h)return v>=0||w>=0;v>=0&&this.raise(v,"Shorthand property assignments are valid only in destructuring patterns"),w>=0&&this.raiseRecoverable(w,"Redefinition of __proto__ property")},pt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pt.isSimpleAssignTarget=function(o){return o.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(o.expression):o.type==="Identifier"||o.type==="MemberExpression"};var fe=je.prototype;fe.parseTopLevel=function(o){var h=Object.create(null);for(o.body||(o.body=[]);this.type!==d.eof;){var v=this.parseStatement(null,!0,h);o.body.push(v)}if(this.inModule)for(var w=0,N=Object.keys(this.undefinedExports);w<N.length;w+=1){var $=N[w];this.raiseRecoverable(this.undefinedExports[$].start,"Export '"+$+"' is not defined")}return this.adaptDirectivePrologue(o.body),this.next(),o.sourceType=this.options.sourceType,this.finishNode(o,"Program")};var Ar={kind:"loop"},Jn={kind:"switch"};fe.isLet=function(o){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;U.lastIndex=this.pos;var h=U.exec(this.input),v=this.pos+h[0].length,w=this.input.charCodeAt(v);if(w===91||w===92)return!0;if(o)return!1;if(w===123||w>55295&&w<56320)return!0;if(F(w,!0)){for(var N=v+1;L(w=this.input.charCodeAt(N),!0);)++N;if(w===92||w>55295&&w<56320)return!0;var $=this.input.slice(v,N);if(!p.test($))return!0}return!1},fe.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;U.lastIndex=this.pos;var o=U.exec(this.input),h=this.pos+o[0].length,v;return!I.test(this.input.slice(this.pos,h))&&this.input.slice(h,h+8)==="function"&&(h+8===this.input.length||!(L(v=this.input.charCodeAt(h+8))||v>55295&&v<56320))},fe.parseStatement=function(o,h,v){var w=this.type,N=this.startNode(),$;switch(this.isLet(o)&&(w=d._var,$="let"),w){case d._break:case d._continue:return this.parseBreakContinueStatement(N,w.keyword);case d._debugger:return this.parseDebuggerStatement(N);case d._do:return this.parseDoStatement(N);case d._for:return this.parseForStatement(N);case d._function:return o&&(this.strict||o!=="if"&&o!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(N,!1,!o);case d._class:return o&&this.unexpected(),this.parseClass(N,!0);case d._if:return this.parseIfStatement(N);case d._return:return this.parseReturnStatement(N);case d._switch:return this.parseSwitchStatement(N);case d._throw:return this.parseThrowStatement(N);case d._try:return this.parseTryStatement(N);case d._const:case d._var:return $=$||this.value,o&&$!=="var"&&this.unexpected(),this.parseVarStatement(N,$);case d._while:return this.parseWhileStatement(N);case d._with:return this.parseWithStatement(N);case d.braceL:return this.parseBlock(!0,N);case d.semi:return this.parseEmptyStatement(N);case d._export:case d._import:if(this.options.ecmaVersion>10&&w===d._import){U.lastIndex=this.pos;var Q=U.exec(this.input),ne=this.pos+Q[0].length,ue=this.input.charCodeAt(ne);if(ue===40||ue===46)return this.parseExpressionStatement(N,this.parseExpression())}return this.options.allowImportExportEverywhere||(h||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),w===d._import?this.parseImport(N):this.parseExport(N,v);default:if(this.isAsyncFunction())return o&&this.unexpected(),this.next(),this.parseFunctionStatement(N,!0,!o);var Ve=this.value,Pe=this.parseExpression();return w===d.name&&Pe.type==="Identifier"&&this.eat(d.colon)?this.parseLabeledStatement(N,Ve,Pe,o):this.parseExpressionStatement(N,Pe)}},fe.parseBreakContinueStatement=function(o,h){var v=h==="break";this.next(),this.eat(d.semi)||this.insertSemicolon()?o.label=null:this.type!==d.name?this.unexpected():(o.label=this.parseIdent(),this.semicolon());for(var w=0;w<this.labels.length;++w){var N=this.labels[w];if((o.label==null||N.name===o.label.name)&&(N.kind!=null&&(v||N.kind==="loop")||o.label&&v))break}return w===this.labels.length&&this.raise(o.start,"Unsyntactic "+h),this.finishNode(o,v?"BreakStatement":"ContinueStatement")},fe.parseDebuggerStatement=function(o){return this.next(),this.semicolon(),this.finishNode(o,"DebuggerStatement")},fe.parseDoStatement=function(o){return this.next(),this.labels.push(Ar),o.body=this.parseStatement("do"),this.labels.pop(),this.expect(d._while),o.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.semi):this.semicolon(),this.finishNode(o,"DoWhileStatement")},fe.parseForStatement=function(o){this.next();var h=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ar),this.enterScope(0),this.expect(d.parenL),this.type===d.semi)return h>-1&&this.unexpected(h),this.parseFor(o,null);var v=this.isLet();if(this.type===d._var||this.type===d._const||v){var w=this.startNode(),N=v?"let":this.value;return this.next(),this.parseVar(w,!0,N),this.finishNode(w,"VariableDeclaration"),(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&w.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===d._in?h>-1&&this.unexpected(h):o.await=h>-1),this.parseForIn(o,w)):(h>-1&&this.unexpected(h),this.parseFor(o,w))}var $=this.isContextual("let"),Q=!1,ne=this.containsEsc,ue=new zr,Ve=this.start,Pe=h>-1?this.parseExprSubscripts(ue,"await"):this.parseExpression(!0,ue);return this.type===d._in||(Q=this.options.ecmaVersion>=6&&this.isContextual("of"))?(h>-1?(this.type===d._in&&this.unexpected(h),o.await=!0):Q&&this.options.ecmaVersion>=8&&(Pe.start===Ve&&!ne&&Pe.type==="Identifier"&&Pe.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(o.await=!1)),$&&Q&&this.raise(Pe.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Pe,!1,ue),this.checkLValPattern(Pe),this.parseForIn(o,Pe)):(this.checkExpressionErrors(ue,!0),h>-1&&this.unexpected(h),this.parseFor(o,Pe))},fe.parseFunctionStatement=function(o,h,v){return this.next(),this.parseFunction(o,an|(v?0:hi),!1,h)},fe.parseIfStatement=function(o){return this.next(),o.test=this.parseParenExpression(),o.consequent=this.parseStatement("if"),o.alternate=this.eat(d._else)?this.parseStatement("if"):null,this.finishNode(o,"IfStatement")},fe.parseReturnStatement=function(o){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.semi)||this.insertSemicolon()?o.argument=null:(o.argument=this.parseExpression(),this.semicolon()),this.finishNode(o,"ReturnStatement")},fe.parseSwitchStatement=function(o){this.next(),o.discriminant=this.parseParenExpression(),o.cases=[],this.expect(d.braceL),this.labels.push(Jn),this.enterScope(0);for(var h,v=!1;this.type!==d.braceR;)if(this.type===d._case||this.type===d._default){var w=this.type===d._case;h&&this.finishNode(h,"SwitchCase"),o.cases.push(h=this.startNode()),h.consequent=[],this.next(),w?h.test=this.parseExpression():(v&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),v=!0,h.test=null),this.expect(d.colon)}else h||this.unexpected(),h.consequent.push(this.parseStatement(null));return this.exitScope(),h&&this.finishNode(h,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(o,"SwitchStatement")},fe.parseThrowStatement=function(o){return this.next(),I.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),o.argument=this.parseExpression(),this.semicolon(),this.finishNode(o,"ThrowStatement")};var ns=[];fe.parseCatchClauseParam=function(){var o=this.parseBindingAtom(),h=o.type==="Identifier";return this.enterScope(h?ui:0),this.checkLValPattern(o,h?Yn:Fn),this.expect(d.parenR),o},fe.parseTryStatement=function(o){if(this.next(),o.block=this.parseBlock(),o.handler=null,this.type===d._catch){var h=this.startNode();this.next(),this.eat(d.parenL)?h.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),h.param=null,this.enterScope(0)),h.body=this.parseBlock(!1),this.exitScope(),o.handler=this.finishNode(h,"CatchClause")}return o.finalizer=this.eat(d._finally)?this.parseBlock():null,!o.handler&&!o.finalizer&&this.raise(o.start,"Missing catch or finally clause"),this.finishNode(o,"TryStatement")},fe.parseVarStatement=function(o,h,v){return this.next(),this.parseVar(o,!1,h,v),this.semicolon(),this.finishNode(o,"VariableDeclaration")},fe.parseWhileStatement=function(o){return this.next(),o.test=this.parseParenExpression(),this.labels.push(Ar),o.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(o,"WhileStatement")},fe.parseWithStatement=function(o){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),o.object=this.parseParenExpression(),o.body=this.parseStatement("with"),this.finishNode(o,"WithStatement")},fe.parseEmptyStatement=function(o){return this.next(),this.finishNode(o,"EmptyStatement")},fe.parseLabeledStatement=function(o,h,v,w){for(var N=0,$=this.labels;N<$.length;N+=1){var Q=$[N];Q.name===h&&this.raise(v.start,"Label '"+h+"' is already declared")}for(var ne=this.type.isLoop?"loop":this.type===d._switch?"switch":null,ue=this.labels.length-1;ue>=0;ue--){var Ve=this.labels[ue];if(Ve.statementStart===o.start)Ve.statementStart=this.start,Ve.kind=ne;else break}return this.labels.push({name:h,kind:ne,statementStart:this.start}),o.body=this.parseStatement(w?w.indexOf("label")===-1?w+"label":w:"label"),this.labels.pop(),o.label=v,this.finishNode(o,"LabeledStatement")},fe.parseExpressionStatement=function(o,h){return o.expression=h,this.semicolon(),this.finishNode(o,"ExpressionStatement")},fe.parseBlock=function(o,h,v){for(o===void 0&&(o=!0),h===void 0&&(h=this.startNode()),h.body=[],this.expect(d.braceL),o&&this.enterScope(0);this.type!==d.braceR;){var w=this.parseStatement(null);h.body.push(w)}return v&&(this.strict=!1),this.next(),o&&this.exitScope(),this.finishNode(h,"BlockStatement")},fe.parseFor=function(o,h){return o.init=h,this.expect(d.semi),o.test=this.type===d.semi?null:this.parseExpression(),this.expect(d.semi),o.update=this.type===d.parenR?null:this.parseExpression(),this.expect(d.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,"ForStatement")},fe.parseForIn=function(o,h){var v=this.type===d._in;return this.next(),h.type==="VariableDeclaration"&&h.declarations[0].init!=null&&(!v||this.options.ecmaVersion<8||this.strict||h.kind!=="var"||h.declarations[0].id.type!=="Identifier")&&this.raise(h.start,(v?"for-in":"for-of")+" loop variable declaration may not have an initializer"),o.left=h,o.right=v?this.parseExpression():this.parseMaybeAssign(),this.expect(d.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,v?"ForInStatement":"ForOfStatement")},fe.parseVar=function(o,h,v,w){for(o.declarations=[],o.kind=v;;){var N=this.startNode();if(this.parseVarId(N,v),this.eat(d.eq)?N.init=this.parseMaybeAssign(h):!w&&v==="const"&&!(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!w&&N.id.type!=="Identifier"&&!(h&&(this.type===d._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):N.init=null,o.declarations.push(this.finishNode(N,"VariableDeclarator")),!this.eat(d.comma))break}return o},fe.parseVarId=function(o,h){o.id=this.parseBindingAtom(),this.checkLValPattern(o.id,h==="var"?lr:Fn,!1)};var an=1,hi=2,Ls=4;fe.parseFunction=function(o,h,v,w,N){this.initFunction(o),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!w)&&(this.type===d.star&&h&hi&&this.unexpected(),o.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(o.async=!!w),h&an&&(o.id=h&Ls&&this.type!==d.name?null:this.parseIdent(),o.id&&!(h&hi)&&this.checkLValSimple(o.id,this.strict||o.generator||o.async?this.treatFunctionsAsVar?lr:Fn:ci));var $=this.yieldPos,Q=this.awaitPos,ne=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ur(o.async,o.generator)),h&an||(o.id=this.type===d.name?this.parseIdent():null),this.parseFunctionParams(o),this.parseFunctionBody(o,v,!1,N),this.yieldPos=$,this.awaitPos=Q,this.awaitIdentPos=ne,this.finishNode(o,h&an?"FunctionDeclaration":"FunctionExpression")},fe.parseFunctionParams=function(o){this.expect(d.parenL),o.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},fe.parseClass=function(o,h){this.next();var v=this.strict;this.strict=!0,this.parseClassId(o,h),this.parseClassSuper(o);var w=this.enterClassBody(),N=this.startNode(),$=!1;for(N.body=[],this.expect(d.braceL);this.type!==d.braceR;){var Q=this.parseClassElement(o.superClass!==null);Q&&(N.body.push(Q),Q.type==="MethodDefinition"&&Q.kind==="constructor"?($&&this.raiseRecoverable(Q.start,"Duplicate constructor in the same class"),$=!0):Q.key&&Q.key.type==="PrivateIdentifier"&&Ni(w,Q)&&this.raiseRecoverable(Q.key.start,"Identifier '#"+Q.key.name+"' has already been declared"))}return this.strict=v,this.next(),o.body=this.finishNode(N,"ClassBody"),this.exitClassBody(),this.finishNode(o,h?"ClassDeclaration":"ClassExpression")},fe.parseClassElement=function(o){if(this.eat(d.semi))return null;var h=this.options.ecmaVersion,v=this.startNode(),w="",N=!1,$=!1,Q="method",ne=!1;if(this.eatContextual("static")){if(h>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(v),v;this.isClassElementNameStart()||this.type===d.star?ne=!0:w="static"}if(v.static=ne,!w&&h>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===d.star)&&!this.canInsertSemicolon()?$=!0:w="async"),!w&&(h>=9||!$)&&this.eat(d.star)&&(N=!0),!w&&!$&&!N){var ue=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Q=ue:w=ue)}if(w?(v.computed=!1,v.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),v.key.name=w,this.finishNode(v.key,"Identifier")):this.parseClassElementName(v),h<13||this.type===d.parenL||Q!=="method"||N||$){var Ve=!v.static&&Zn(v,"constructor"),Pe=Ve&&o;Ve&&Q!=="method"&&this.raise(v.key.start,"Constructor can't have get/set modifier"),v.kind=Ve?"constructor":Q,this.parseClassMethod(v,N,$,Pe)}else this.parseClassField(v);return v},fe.isClassElementNameStart=function(){return this.type===d.name||this.type===d.privateId||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword},fe.parseClassElementName=function(o){this.type===d.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),o.computed=!1,o.key=this.parsePrivateIdent()):this.parsePropertyName(o)},fe.parseClassMethod=function(o,h,v,w){var N=o.key;o.kind==="constructor"?(h&&this.raise(N.start,"Constructor can't be a generator"),v&&this.raise(N.start,"Constructor can't be an async method")):o.static&&Zn(o,"prototype")&&this.raise(N.start,"Classes may not have a static property named prototype");var $=o.value=this.parseMethod(h,v,w);return o.kind==="get"&&$.params.length!==0&&this.raiseRecoverable($.start,"getter should have no params"),o.kind==="set"&&$.params.length!==1&&this.raiseRecoverable($.start,"setter should have exactly one param"),o.kind==="set"&&$.params[0].type==="RestElement"&&this.raiseRecoverable($.params[0].start,"Setter cannot use rest params"),this.finishNode(o,"MethodDefinition")},fe.parseClassField=function(o){if(Zn(o,"constructor")?this.raise(o.key.start,"Classes can't have a field named 'constructor'"):o.static&&Zn(o,"prototype")&&this.raise(o.key.start,"Classes can't have a static field named 'prototype'"),this.eat(d.eq)){var h=this.currentThisScope(),v=h.inClassFieldInit;h.inClassFieldInit=!0,o.value=this.parseMaybeAssign(),h.inClassFieldInit=v}else o.value=null;return this.semicolon(),this.finishNode(o,"PropertyDefinition")},fe.parseClassStaticBlock=function(o){o.body=[];var h=this.labels;for(this.labels=[],this.enterScope(ur|li);this.type!==d.braceR;){var v=this.parseStatement(null);o.body.push(v)}return this.next(),this.exitScope(),this.labels=h,this.finishNode(o,"StaticBlock")},fe.parseClassId=function(o,h){this.type===d.name?(o.id=this.parseIdent(),h&&this.checkLValSimple(o.id,Fn,!1)):(h===!0&&this.unexpected(),o.id=null)},fe.parseClassSuper=function(o){o.superClass=this.eat(d._extends)?this.parseExprSubscripts(null,!1):null},fe.enterClassBody=function(){var o={declared:Object.create(null),used:[]};return this.privateNameStack.push(o),o.declared},fe.exitClassBody=function(){var o=this.privateNameStack.pop(),h=o.declared,v=o.used;if(this.options.checkPrivateFields)for(var w=this.privateNameStack.length,N=w===0?null:this.privateNameStack[w-1],$=0;$<v.length;++$){var Q=v[$];Bt(h,Q.name)||(N?N.used.push(Q):this.raiseRecoverable(Q.start,"Private field '#"+Q.name+"' must be declared in an enclosing class"))}};function Ni(o,h){var v=h.key.name,w=o[v],N="true";return h.type==="MethodDefinition"&&(h.kind==="get"||h.kind==="set")&&(N=(h.static?"s":"i")+h.kind),w==="iget"&&N==="iset"||w==="iset"&&N==="iget"||w==="sget"&&N==="sset"||w==="sset"&&N==="sget"?(o[v]="true",!1):w?!0:(o[v]=N,!1)}function Zn(o,h){var v=o.computed,w=o.key;return!v&&(w.type==="Identifier"&&w.name===h||w.type==="Literal"&&w.value===h)}fe.parseExportAllDeclaration=function(o,h){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(o.exported=this.parseModuleExportName(),this.checkExport(h,o.exported,this.lastTokStart)):o.exported=null),this.expectContextual("from"),this.type!==d.string&&this.unexpected(),o.source=this.parseExprAtom(),this.semicolon(),this.finishNode(o,"ExportAllDeclaration")},fe.parseExport=function(o,h){if(this.next(),this.eat(d.star))return this.parseExportAllDeclaration(o,h);if(this.eat(d._default))return this.checkExport(h,"default",this.lastTokStart),o.declaration=this.parseExportDefaultDeclaration(),this.finishNode(o,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())o.declaration=this.parseExportDeclaration(o),o.declaration.type==="VariableDeclaration"?this.checkVariableExport(h,o.declaration.declarations):this.checkExport(h,o.declaration.id,o.declaration.id.start),o.specifiers=[],o.source=null;else{if(o.declaration=null,o.specifiers=this.parseExportSpecifiers(h),this.eatContextual("from"))this.type!==d.string&&this.unexpected(),o.source=this.parseExprAtom();else{for(var v=0,w=o.specifiers;v<w.length;v+=1){var N=w[v];this.checkUnreserved(N.local),this.checkLocalExport(N.local),N.local.type==="Literal"&&this.raise(N.local.start,"A string literal cannot be used as an exported binding without `from`.")}o.source=null}this.semicolon()}return this.finishNode(o,"ExportNamedDeclaration")},fe.parseExportDeclaration=function(o){return this.parseStatement(null)},fe.parseExportDefaultDeclaration=function(){var o;if(this.type===d._function||(o=this.isAsyncFunction())){var h=this.startNode();return this.next(),o&&this.next(),this.parseFunction(h,an|Ls,!1,o)}else if(this.type===d._class){var v=this.startNode();return this.parseClass(v,"nullableID")}else{var w=this.parseMaybeAssign();return this.semicolon(),w}},fe.checkExport=function(o,h,v){o&&(typeof h!="string"&&(h=h.type==="Identifier"?h.name:h.value),Bt(o,h)&&this.raiseRecoverable(v,"Duplicate export '"+h+"'"),o[h]=!0)},fe.checkPatternExport=function(o,h){var v=h.type;if(v==="Identifier")this.checkExport(o,h,h.start);else if(v==="ObjectPattern")for(var w=0,N=h.properties;w<N.length;w+=1){var $=N[w];this.checkPatternExport(o,$)}else if(v==="ArrayPattern")for(var Q=0,ne=h.elements;Q<ne.length;Q+=1){var ue=ne[Q];ue&&this.checkPatternExport(o,ue)}else v==="Property"?this.checkPatternExport(o,h.value):v==="AssignmentPattern"?this.checkPatternExport(o,h.left):v==="RestElement"&&this.checkPatternExport(o,h.argument)},fe.checkVariableExport=function(o,h){if(o)for(var v=0,w=h;v<w.length;v+=1){var N=w[v];this.checkPatternExport(o,N.id)}},fe.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},fe.parseExportSpecifier=function(o){var h=this.startNode();return h.local=this.parseModuleExportName(),h.exported=this.eatContextual("as")?this.parseModuleExportName():h.local,this.checkExport(o,h.exported,h.exported.start),this.finishNode(h,"ExportSpecifier")},fe.parseExportSpecifiers=function(o){var h=[],v=!0;for(this.expect(d.braceL);!this.eat(d.braceR);){if(v)v=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;h.push(this.parseExportSpecifier(o))}return h},fe.parseImport=function(o){return this.next(),this.type===d.string?(o.specifiers=ns,o.source=this.parseExprAtom()):(o.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),o.source=this.type===d.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(o,"ImportDeclaration")},fe.parseImportSpecifier=function(){var o=this.startNode();return o.imported=this.parseModuleExportName(),this.eatContextual("as")?o.local=this.parseIdent():(this.checkUnreserved(o.imported),o.local=o.imported),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportSpecifier")},fe.parseImportDefaultSpecifier=function(){var o=this.startNode();return o.local=this.parseIdent(),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportDefaultSpecifier")},fe.parseImportNamespaceSpecifier=function(){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportNamespaceSpecifier")},fe.parseImportSpecifiers=function(){var o=[],h=!0;if(this.type===d.name&&(o.push(this.parseImportDefaultSpecifier()),!this.eat(d.comma)))return o;if(this.type===d.star)return o.push(this.parseImportNamespaceSpecifier()),o;for(this.expect(d.braceL);!this.eat(d.braceR);){if(h)h=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;o.push(this.parseImportSpecifier())}return o},fe.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===d.string){var o=this.parseLiteral(this.value);return Ge.test(o.value)&&this.raise(o.start,"An export name cannot include a lone surrogate."),o}return this.parseIdent(!0)},fe.adaptDirectivePrologue=function(o){for(var h=0;h<o.length&&this.isDirectiveCandidate(o[h]);++h)o[h].directive=o[h].expression.raw.slice(1,-1)},fe.isDirectiveCandidate=function(o){return this.options.ecmaVersion>=5&&o.type==="ExpressionStatement"&&o.expression.type==="Literal"&&typeof o.expression.value=="string"&&(this.input[o.start]==='"'||this.input[o.start]==="'")};var Jt=je.prototype;Jt.toAssignable=function(o,h,v){if(this.options.ecmaVersion>=6&&o)switch(o.type){case"Identifier":this.inAsync&&o.name==="await"&&this.raise(o.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":o.type="ObjectPattern",v&&this.checkPatternErrors(v,!0);for(var w=0,N=o.properties;w<N.length;w+=1){var $=N[w];this.toAssignable($,h),$.type==="RestElement"&&($.argument.type==="ArrayPattern"||$.argument.type==="ObjectPattern")&&this.raise($.argument.start,"Unexpected token")}break;case"Property":o.kind!=="init"&&this.raise(o.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(o.value,h);break;case"ArrayExpression":o.type="ArrayPattern",v&&this.checkPatternErrors(v,!0),this.toAssignableList(o.elements,h);break;case"SpreadElement":o.type="RestElement",this.toAssignable(o.argument,h),o.argument.type==="AssignmentPattern"&&this.raise(o.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":o.operator!=="="&&this.raise(o.left.end,"Only '=' operator can be used for specifying default value."),o.type="AssignmentPattern",delete o.operator,this.toAssignable(o.left,h);break;case"ParenthesizedExpression":this.toAssignable(o.expression,h,v);break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!h)break;default:this.raise(o.start,"Assigning to rvalue")}else v&&this.checkPatternErrors(v,!0);return o},Jt.toAssignableList=function(o,h){for(var v=o.length,w=0;w<v;w++){var N=o[w];N&&this.toAssignable(N,h)}if(v){var $=o[v-1];this.options.ecmaVersion===6&&h&&$&&$.type==="RestElement"&&$.argument.type!=="Identifier"&&this.unexpected($.argument.start)}return o},Jt.parseSpread=function(o){var h=this.startNode();return this.next(),h.argument=this.parseMaybeAssign(!1,o),this.finishNode(h,"SpreadElement")},Jt.parseRestBinding=function(){var o=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==d.name&&this.unexpected(),o.argument=this.parseBindingAtom(),this.finishNode(o,"RestElement")},Jt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case d.bracketL:var o=this.startNode();return this.next(),o.elements=this.parseBindingList(d.bracketR,!0,!0),this.finishNode(o,"ArrayPattern");case d.braceL:return this.parseObj(!0)}return this.parseIdent()},Jt.parseBindingList=function(o,h,v,w){for(var N=[],$=!0;!this.eat(o);)if($?$=!1:this.expect(d.comma),h&&this.type===d.comma)N.push(null);else{if(v&&this.afterTrailingComma(o))break;if(this.type===d.ellipsis){var Q=this.parseRestBinding();this.parseBindingListItem(Q),N.push(Q),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(o);break}else N.push(this.parseAssignableListItem(w))}return N},Jt.parseAssignableListItem=function(o){var h=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(h),h},Jt.parseBindingListItem=function(o){return o},Jt.parseMaybeDefault=function(o,h,v){if(v=v||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.eq))return v;var w=this.startNodeAt(o,h);return w.left=v,w.right=this.parseMaybeAssign(),this.finishNode(w,"AssignmentPattern")},Jt.checkLValSimple=function(o,h,v){h===void 0&&(h=sn);var w=h!==sn;switch(o.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(o.name)&&this.raiseRecoverable(o.start,(w?"Binding ":"Assigning to ")+o.name+" in strict mode"),w&&(h===Fn&&o.name==="let"&&this.raiseRecoverable(o.start,"let is disallowed as a lexically bound name"),v&&(Bt(v,o.name)&&this.raiseRecoverable(o.start,"Argument name clash"),v[o.name]=!0),h!==Xn&&this.declareName(o.name,h,o.start));break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":w&&this.raiseRecoverable(o.start,"Binding member expression");break;case"ParenthesizedExpression":return w&&this.raiseRecoverable(o.start,"Binding parenthesized expression"),this.checkLValSimple(o.expression,h,v);default:this.raise(o.start,(w?"Binding":"Assigning to")+" rvalue")}},Jt.checkLValPattern=function(o,h,v){switch(h===void 0&&(h=sn),o.type){case"ObjectPattern":for(var w=0,N=o.properties;w<N.length;w+=1){var $=N[w];this.checkLValInnerPattern($,h,v)}break;case"ArrayPattern":for(var Q=0,ne=o.elements;Q<ne.length;Q+=1){var ue=ne[Q];ue&&this.checkLValInnerPattern(ue,h,v)}break;default:this.checkLValSimple(o,h,v)}},Jt.checkLValInnerPattern=function(o,h,v){switch(h===void 0&&(h=sn),o.type){case"Property":this.checkLValInnerPattern(o.value,h,v);break;case"AssignmentPattern":this.checkLValPattern(o.left,h,v);break;case"RestElement":this.checkLValPattern(o.argument,h,v);break;default:this.checkLValPattern(o,h,v)}};var Rt=function(h,v,w,N,$){this.token=h,this.isExpr=!!v,this.preserveSpace=!!w,this.override=N,this.generator=!!$},Ke={b_stat:new Rt("{",!1),b_expr:new Rt("{",!0),b_tmpl:new Rt("${",!1),p_stat:new Rt("(",!1),p_expr:new Rt("(",!0),q_tmpl:new Rt("`",!0,!0,function(o){return o.tryReadTemplateToken()}),f_stat:new Rt("function",!1),f_expr:new Rt("function",!0),f_expr_gen:new Rt("function",!0,!1,null,!0),f_gen:new Rt("function",!1,!1,null,!0)},on=je.prototype;on.initialContext=function(){return[Ke.b_stat]},on.curContext=function(){return this.context[this.context.length-1]},on.braceIsBlock=function(o){var h=this.curContext();return h===Ke.f_expr||h===Ke.f_stat?!0:o===d.colon&&(h===Ke.b_stat||h===Ke.b_expr)?!h.isExpr:o===d._return||o===d.name&&this.exprAllowed?I.test(this.input.slice(this.lastTokEnd,this.start)):o===d._else||o===d.semi||o===d.eof||o===d.parenR||o===d.arrow?!0:o===d.braceL?h===Ke.b_stat:o===d._var||o===d._const||o===d.name?!1:!this.exprAllowed},on.inGeneratorContext=function(){for(var o=this.context.length-1;o>=1;o--){var h=this.context[o];if(h.token==="function")return h.generator}return!1},on.updateContext=function(o){var h,v=this.type;v.keyword&&o===d.dot?this.exprAllowed=!1:(h=v.updateContext)?h.call(this,o):this.exprAllowed=v.beforeExpr},on.overrideContext=function(o){this.curContext()!==o&&(this.context[this.context.length-1]=o)},d.parenR.updateContext=d.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var o=this.context.pop();o===Ke.b_stat&&this.curContext().token==="function"&&(o=this.context.pop()),this.exprAllowed=!o.isExpr},d.braceL.updateContext=function(o){this.context.push(this.braceIsBlock(o)?Ke.b_stat:Ke.b_expr),this.exprAllowed=!0},d.dollarBraceL.updateContext=function(){this.context.push(Ke.b_tmpl),this.exprAllowed=!0},d.parenL.updateContext=function(o){var h=o===d._if||o===d._for||o===d._with||o===d._while;this.context.push(h?Ke.p_stat:Ke.p_expr),this.exprAllowed=!0},d.incDec.updateContext=function(){},d._function.updateContext=d._class.updateContext=function(o){o.beforeExpr&&o!==d._else&&!(o===d.semi&&this.curContext()!==Ke.p_stat)&&!(o===d._return&&I.test(this.input.slice(this.lastTokEnd,this.start)))&&!((o===d.colon||o===d.braceL)&&this.curContext()===Ke.b_stat)?this.context.push(Ke.f_expr):this.context.push(Ke.f_stat),this.exprAllowed=!1},d.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},d.backQuote.updateContext=function(){this.curContext()===Ke.q_tmpl?this.context.pop():this.context.push(Ke.q_tmpl),this.exprAllowed=!1},d.star.updateContext=function(o){if(o===d._function){var h=this.context.length-1;this.context[h]===Ke.f_expr?this.context[h]=Ke.f_expr_gen:this.context[h]=Ke.f_gen}this.exprAllowed=!0},d.name.updateContext=function(o){var h=!1;this.options.ecmaVersion>=6&&o!==d.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(h=!0),this.exprAllowed=h};var Ae=je.prototype;Ae.checkPropClash=function(o,h,v){if(!(this.options.ecmaVersion>=9&&o.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(o.computed||o.method||o.shorthand))){var w=o.key,N;switch(w.type){case"Identifier":N=w.name;break;case"Literal":N=String(w.value);break;default:return}var $=o.kind;if(this.options.ecmaVersion>=6){N==="__proto__"&&$==="init"&&(h.proto&&(v?v.doubleProto<0&&(v.doubleProto=w.start):this.raiseRecoverable(w.start,"Redefinition of __proto__ property")),h.proto=!0);return}N="$"+N;var Q=h[N];if(Q){var ne;$==="init"?ne=this.strict&&Q.init||Q.get||Q.set:ne=Q.init||Q[$],ne&&this.raiseRecoverable(w.start,"Redefinition of property")}else Q=h[N]={init:!1,get:!1,set:!1};Q[$]=!0}},Ae.parseExpression=function(o,h){var v=this.start,w=this.startLoc,N=this.parseMaybeAssign(o,h);if(this.type===d.comma){var $=this.startNodeAt(v,w);for($.expressions=[N];this.eat(d.comma);)$.expressions.push(this.parseMaybeAssign(o,h));return this.finishNode($,"SequenceExpression")}return N},Ae.parseMaybeAssign=function(o,h,v){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(o);this.exprAllowed=!1}var w=!1,N=-1,$=-1,Q=-1;h?(N=h.parenthesizedAssign,$=h.trailingComma,Q=h.doubleProto,h.parenthesizedAssign=h.trailingComma=-1):(h=new zr,w=!0);var ne=this.start,ue=this.startLoc;(this.type===d.parenL||this.type===d.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=o==="await");var Ve=this.parseMaybeConditional(o,h);if(v&&(Ve=v.call(this,Ve,ne,ue)),this.type.isAssign){var Pe=this.startNodeAt(ne,ue);return Pe.operator=this.value,this.type===d.eq&&(Ve=this.toAssignable(Ve,!1,h)),w||(h.parenthesizedAssign=h.trailingComma=h.doubleProto=-1),h.shorthandAssign>=Ve.start&&(h.shorthandAssign=-1),this.type===d.eq?this.checkLValPattern(Ve):this.checkLValSimple(Ve),Pe.left=Ve,this.next(),Pe.right=this.parseMaybeAssign(o),Q>-1&&(h.doubleProto=Q),this.finishNode(Pe,"AssignmentExpression")}else w&&this.checkExpressionErrors(h,!0);return N>-1&&(h.parenthesizedAssign=N),$>-1&&(h.trailingComma=$),Ve},Ae.parseMaybeConditional=function(o,h){var v=this.start,w=this.startLoc,N=this.parseExprOps(o,h);if(this.checkExpressionErrors(h))return N;if(this.eat(d.question)){var $=this.startNodeAt(v,w);return $.test=N,$.consequent=this.parseMaybeAssign(),this.expect(d.colon),$.alternate=this.parseMaybeAssign(o),this.finishNode($,"ConditionalExpression")}return N},Ae.parseExprOps=function(o,h){var v=this.start,w=this.startLoc,N=this.parseMaybeUnary(h,!1,!1,o);return this.checkExpressionErrors(h)||N.start===v&&N.type==="ArrowFunctionExpression"?N:this.parseExprOp(N,v,w,-1,o)},Ae.parseExprOp=function(o,h,v,w,N){var $=this.type.binop;if($!=null&&(!N||this.type!==d._in)&&$>w){var Q=this.type===d.logicalOR||this.type===d.logicalAND,ne=this.type===d.coalesce;ne&&($=d.logicalAND.binop);var ue=this.value;this.next();var Ve=this.start,Pe=this.startLoc,vt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,N),Ve,Pe,$,N),Wr=this.buildBinary(h,v,o,vt,ue,Q||ne);return(Q&&this.type===d.coalesce||ne&&(this.type===d.logicalOR||this.type===d.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Wr,h,v,w,N)}return o},Ae.buildBinary=function(o,h,v,w,N,$){w.type==="PrivateIdentifier"&&this.raise(w.start,"Private identifier can only be left side of binary expression");var Q=this.startNodeAt(o,h);return Q.left=v,Q.operator=N,Q.right=w,this.finishNode(Q,$?"LogicalExpression":"BinaryExpression")},Ae.parseMaybeUnary=function(o,h,v,w){var N=this.start,$=this.startLoc,Q;if(this.isContextual("await")&&this.canAwait)Q=this.parseAwait(w),h=!0;else if(this.type.prefix){var ne=this.startNode(),ue=this.type===d.incDec;ne.operator=this.value,ne.prefix=!0,this.next(),ne.argument=this.parseMaybeUnary(null,!0,ue,w),this.checkExpressionErrors(o,!0),ue?this.checkLValSimple(ne.argument):this.strict&&ne.operator==="delete"&&Di(ne.argument)?this.raiseRecoverable(ne.start,"Deleting local variable in strict mode"):ne.operator==="delete"&&$r(ne.argument)?this.raiseRecoverable(ne.start,"Private fields can not be deleted"):h=!0,Q=this.finishNode(ne,ue?"UpdateExpression":"UnaryExpression")}else if(!h&&this.type===d.privateId)(w||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Q=this.parsePrivateIdent(),this.type!==d._in&&this.unexpected();else{if(Q=this.parseExprSubscripts(o,w),this.checkExpressionErrors(o))return Q;for(;this.type.postfix&&!this.canInsertSemicolon();){var Ve=this.startNodeAt(N,$);Ve.operator=this.value,Ve.prefix=!1,Ve.argument=Q,this.checkLValSimple(Q),this.next(),Q=this.finishNode(Ve,"UpdateExpression")}}if(!v&&this.eat(d.starstar))if(h)this.unexpected(this.lastTokStart);else return this.buildBinary(N,$,Q,this.parseMaybeUnary(null,!1,!1,w),"**",!1);else return Q};function Di(o){return o.type==="Identifier"||o.type==="ParenthesizedExpression"&&Di(o.expression)}function $r(o){return o.type==="MemberExpression"&&o.property.type==="PrivateIdentifier"||o.type==="ChainExpression"&&$r(o.expression)||o.type==="ParenthesizedExpression"&&$r(o.expression)}Ae.parseExprSubscripts=function(o,h){var v=this.start,w=this.startLoc,N=this.parseExprAtom(o,h);if(N.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return N;var $=this.parseSubscripts(N,v,w,!1,h);return o&&$.type==="MemberExpression"&&(o.parenthesizedAssign>=$.start&&(o.parenthesizedAssign=-1),o.parenthesizedBind>=$.start&&(o.parenthesizedBind=-1),o.trailingComma>=$.start&&(o.trailingComma=-1)),$},Ae.parseSubscripts=function(o,h,v,w,N){for(var $=this.options.ecmaVersion>=8&&o.type==="Identifier"&&o.name==="async"&&this.lastTokEnd===o.end&&!this.canInsertSemicolon()&&o.end-o.start===5&&this.potentialArrowAt===o.start,Q=!1;;){var ne=this.parseSubscript(o,h,v,w,$,Q,N);if(ne.optional&&(Q=!0),ne===o||ne.type==="ArrowFunctionExpression"){if(Q){var ue=this.startNodeAt(h,v);ue.expression=ne,ne=this.finishNode(ue,"ChainExpression")}return ne}o=ne}},Ae.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(d.arrow)},Ae.parseSubscriptAsyncArrow=function(o,h,v,w){return this.parseArrowExpression(this.startNodeAt(o,h),v,!0,w)},Ae.parseSubscript=function(o,h,v,w,N,$,Q){var ne=this.options.ecmaVersion>=11,ue=ne&&this.eat(d.questionDot);w&&ue&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Ve=this.eat(d.bracketL);if(Ve||ue&&this.type!==d.parenL&&this.type!==d.backQuote||this.eat(d.dot)){var Pe=this.startNodeAt(h,v);Pe.object=o,Ve?(Pe.property=this.parseExpression(),this.expect(d.bracketR)):this.type===d.privateId&&o.type!=="Super"?Pe.property=this.parsePrivateIdent():Pe.property=this.parseIdent(this.options.allowReserved!=="never"),Pe.computed=!!Ve,ne&&(Pe.optional=ue),o=this.finishNode(Pe,"MemberExpression")}else if(!w&&this.eat(d.parenL)){var vt=new zr,Wr=this.yieldPos,gn=this.awaitPos,er=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Fi=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1,vt);if(N&&!ue&&this.shouldParseAsyncArrow())return this.checkPatternErrors(vt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Wr,this.awaitPos=gn,this.awaitIdentPos=er,this.parseSubscriptAsyncArrow(h,v,Fi,Q);this.checkExpressionErrors(vt,!0),this.yieldPos=Wr||this.yieldPos,this.awaitPos=gn||this.awaitPos,this.awaitIdentPos=er||this.awaitIdentPos;var tr=this.startNodeAt(h,v);tr.callee=o,tr.arguments=Fi,ne&&(tr.optional=ue),o=this.finishNode(tr,"CallExpression")}else if(this.type===d.backQuote){(ue||$)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var ot=this.startNodeAt(h,v);ot.tag=o,ot.quasi=this.parseTemplate({isTagged:!0}),o=this.finishNode(ot,"TaggedTemplateExpression")}return o},Ae.parseExprAtom=function(o,h,v){this.type===d.slash&&this.readRegexp();var w,N=this.potentialArrowAt===this.start;switch(this.type){case d._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),w=this.startNode(),this.next(),this.type===d.parenL&&!this.allowDirectSuper&&this.raise(w.start,"super() call outside constructor of a subclass"),this.type!==d.dot&&this.type!==d.bracketL&&this.type!==d.parenL&&this.unexpected(),this.finishNode(w,"Super");case d._this:return w=this.startNode(),this.next(),this.finishNode(w,"ThisExpression");case d.name:var $=this.start,Q=this.startLoc,ne=this.containsEsc,ue=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ne&&ue.name==="async"&&!this.canInsertSemicolon()&&this.eat(d._function))return this.overrideContext(Ke.f_expr),this.parseFunction(this.startNodeAt($,Q),0,!1,!0,h);if(N&&!this.canInsertSemicolon()){if(this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt($,Q),[ue],!1,h);if(this.options.ecmaVersion>=8&&ue.name==="async"&&this.type===d.name&&!ne&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return ue=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(d.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt($,Q),[ue],!0,h)}return ue;case d.regexp:var Ve=this.value;return w=this.parseLiteral(Ve.value),w.regex={pattern:Ve.pattern,flags:Ve.flags},w;case d.num:case d.string:return this.parseLiteral(this.value);case d._null:case d._true:case d._false:return w=this.startNode(),w.value=this.type===d._null?null:this.type===d._true,w.raw=this.type.keyword,this.next(),this.finishNode(w,"Literal");case d.parenL:var Pe=this.start,vt=this.parseParenAndDistinguishExpression(N,h);return o&&(o.parenthesizedAssign<0&&!this.isSimpleAssignTarget(vt)&&(o.parenthesizedAssign=Pe),o.parenthesizedBind<0&&(o.parenthesizedBind=Pe)),vt;case d.bracketL:return w=this.startNode(),this.next(),w.elements=this.parseExprList(d.bracketR,!0,!0,o),this.finishNode(w,"ArrayExpression");case d.braceL:return this.overrideContext(Ke.b_expr),this.parseObj(!1,o);case d._function:return w=this.startNode(),this.next(),this.parseFunction(w,0);case d._class:return this.parseClass(this.startNode(),!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport(v):this.unexpected();default:return this.parseExprAtomDefault()}},Ae.parseExprAtomDefault=function(){this.unexpected()},Ae.parseExprImport=function(o){var h=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===d.parenL&&!o)return this.parseDynamicImport(h);if(this.type===d.dot){var v=this.startNodeAt(h.start,h.loc&&h.loc.start);return v.name="import",h.meta=this.finishNode(v,"Identifier"),this.parseImportMeta(h)}else this.unexpected()},Ae.parseDynamicImport=function(o){if(this.next(),o.source=this.parseMaybeAssign(),!this.eat(d.parenR)){var h=this.start;this.eat(d.comma)&&this.eat(d.parenR)?this.raiseRecoverable(h,"Trailing comma is not allowed in import()"):this.unexpected(h)}return this.finishNode(o,"ImportExpression")},Ae.parseImportMeta=function(o){this.next();var h=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="meta"&&this.raiseRecoverable(o.property.start,"The only valid meta property for import is 'import.meta'"),h&&this.raiseRecoverable(o.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(o.start,"Cannot use 'import.meta' outside a module"),this.finishNode(o,"MetaProperty")},Ae.parseLiteral=function(o){var h=this.startNode();return h.value=o,h.raw=this.input.slice(this.start,this.end),h.raw.charCodeAt(h.raw.length-1)===110&&(h.bigint=h.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(h,"Literal")},Ae.parseParenExpression=function(){this.expect(d.parenL);var o=this.parseExpression();return this.expect(d.parenR),o},Ae.shouldParseArrow=function(o){return!this.canInsertSemicolon()},Ae.parseParenAndDistinguishExpression=function(o,h){var v=this.start,w=this.startLoc,N,$=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Q=this.start,ne=this.startLoc,ue=[],Ve=!0,Pe=!1,vt=new zr,Wr=this.yieldPos,gn=this.awaitPos,er;for(this.yieldPos=0,this.awaitPos=0;this.type!==d.parenR;)if(Ve?Ve=!1:this.expect(d.comma),$&&this.afterTrailingComma(d.parenR,!0)){Pe=!0;break}else if(this.type===d.ellipsis){er=this.start,ue.push(this.parseParenItem(this.parseRestBinding())),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else ue.push(this.parseMaybeAssign(!1,vt,this.parseParenItem));var Fi=this.lastTokEnd,tr=this.lastTokEndLoc;if(this.expect(d.parenR),o&&this.shouldParseArrow(ue)&&this.eat(d.arrow))return this.checkPatternErrors(vt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Wr,this.awaitPos=gn,this.parseParenArrowList(v,w,ue,h);(!ue.length||Pe)&&this.unexpected(this.lastTokStart),er&&this.unexpected(er),this.checkExpressionErrors(vt,!0),this.yieldPos=Wr||this.yieldPos,this.awaitPos=gn||this.awaitPos,ue.length>1?(N=this.startNodeAt(Q,ne),N.expressions=ue,this.finishNodeAt(N,"SequenceExpression",Fi,tr)):N=ue[0]}else N=this.parseParenExpression();if(this.options.preserveParens){var ot=this.startNodeAt(v,w);return ot.expression=N,this.finishNode(ot,"ParenthesizedExpression")}else return N},Ae.parseParenItem=function(o){return o},Ae.parseParenArrowList=function(o,h,v,w){return this.parseArrowExpression(this.startNodeAt(o,h),v,!1,w)};var rs=[];Ae.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var o=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===d.dot){var h=this.startNodeAt(o.start,o.loc&&o.loc.start);h.name="new",o.meta=this.finishNode(h,"Identifier"),this.next();var v=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="target"&&this.raiseRecoverable(o.property.start,"The only valid meta property for new is 'new.target'"),v&&this.raiseRecoverable(o.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(o.start,"'new.target' can only be used in functions and class static block"),this.finishNode(o,"MetaProperty")}var w=this.start,N=this.startLoc;return o.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),w,N,!0,!1),this.eat(d.parenL)?o.arguments=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1):o.arguments=rs,this.finishNode(o,"NewExpression")},Ae.parseTemplateElement=function(o){var h=o.isTagged,v=this.startNode();return this.type===d.invalidTemplate?(h||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),v.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):v.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),v.tail=this.type===d.backQuote,this.finishNode(v,"TemplateElement")},Ae.parseTemplate=function(o){o===void 0&&(o={});var h=o.isTagged;h===void 0&&(h=!1);var v=this.startNode();this.next(),v.expressions=[];var w=this.parseTemplateElement({isTagged:h});for(v.quasis=[w];!w.tail;)this.type===d.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(d.dollarBraceL),v.expressions.push(this.parseExpression()),this.expect(d.braceR),v.quasis.push(w=this.parseTemplateElement({isTagged:h}));return this.next(),this.finishNode(v,"TemplateLiteral")},Ae.isAsyncProp=function(o){return!o.computed&&o.key.type==="Identifier"&&o.key.name==="async"&&(this.type===d.name||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===d.star)&&!I.test(this.input.slice(this.lastTokEnd,this.start))},Ae.parseObj=function(o,h){var v=this.startNode(),w=!0,N={};for(v.properties=[],this.next();!this.eat(d.braceR);){if(w)w=!1;else if(this.expect(d.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(d.braceR))break;var $=this.parseProperty(o,h);o||this.checkPropClash($,N,h),v.properties.push($)}return this.finishNode(v,o?"ObjectPattern":"ObjectExpression")},Ae.parseProperty=function(o,h){var v=this.startNode(),w,N,$,Q;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis))return o?(v.argument=this.parseIdent(!1),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(v,"RestElement")):(v.argument=this.parseMaybeAssign(!1,h),this.type===d.comma&&h&&h.trailingComma<0&&(h.trailingComma=this.start),this.finishNode(v,"SpreadElement"));this.options.ecmaVersion>=6&&(v.method=!1,v.shorthand=!1,(o||h)&&($=this.start,Q=this.startLoc),o||(w=this.eat(d.star)));var ne=this.containsEsc;return this.parsePropertyName(v),!o&&!ne&&this.options.ecmaVersion>=8&&!w&&this.isAsyncProp(v)?(N=!0,w=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(v)):N=!1,this.parsePropertyValue(v,o,w,N,$,Q,h,ne),this.finishNode(v,"Property")},Ae.parseGetterSetter=function(o){o.kind=o.key.name,this.parsePropertyName(o),o.value=this.parseMethod(!1);var h=o.kind==="get"?0:1;if(o.value.params.length!==h){var v=o.value.start;o.kind==="get"?this.raiseRecoverable(v,"getter should have no params"):this.raiseRecoverable(v,"setter should have exactly one param")}else o.kind==="set"&&o.value.params[0].type==="RestElement"&&this.raiseRecoverable(o.value.params[0].start,"Setter cannot use rest params")},Ae.parsePropertyValue=function(o,h,v,w,N,$,Q,ne){(v||w)&&this.type===d.colon&&this.unexpected(),this.eat(d.colon)?(o.value=h?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Q),o.kind="init"):this.options.ecmaVersion>=6&&this.type===d.parenL?(h&&this.unexpected(),o.kind="init",o.method=!0,o.value=this.parseMethod(v,w)):!h&&!ne&&this.options.ecmaVersion>=5&&!o.computed&&o.key.type==="Identifier"&&(o.key.name==="get"||o.key.name==="set")&&this.type!==d.comma&&this.type!==d.braceR&&this.type!==d.eq?((v||w)&&this.unexpected(),this.parseGetterSetter(o)):this.options.ecmaVersion>=6&&!o.computed&&o.key.type==="Identifier"?((v||w)&&this.unexpected(),this.checkUnreserved(o.key),o.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=N),o.kind="init",h?o.value=this.parseMaybeDefault(N,$,this.copyNode(o.key)):this.type===d.eq&&Q?(Q.shorthandAssign<0&&(Q.shorthandAssign=this.start),o.value=this.parseMaybeDefault(N,$,this.copyNode(o.key))):o.value=this.copyNode(o.key),o.shorthand=!0):this.unexpected()},Ae.parsePropertyName=function(o){if(this.options.ecmaVersion>=6){if(this.eat(d.bracketL))return o.computed=!0,o.key=this.parseMaybeAssign(),this.expect(d.bracketR),o.key;o.computed=!1}return o.key=this.type===d.num||this.type===d.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ae.initFunction=function(o){o.id=null,this.options.ecmaVersion>=6&&(o.generator=o.expression=!1),this.options.ecmaVersion>=8&&(o.async=!1)},Ae.parseMethod=function(o,h,v){var w=this.startNode(),N=this.yieldPos,$=this.awaitPos,Q=this.awaitIdentPos;return this.initFunction(w),this.options.ecmaVersion>=6&&(w.generator=o),this.options.ecmaVersion>=8&&(w.async=!!h),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ur(h,w.generator)|li|(v?Dn:0)),this.expect(d.parenL),w.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(w,!1,!0,!1),this.yieldPos=N,this.awaitPos=$,this.awaitIdentPos=Q,this.finishNode(w,"FunctionExpression")},Ae.parseArrowExpression=function(o,h,v,w){var N=this.yieldPos,$=this.awaitPos,Q=this.awaitIdentPos;return this.enterScope(Ur(v,!1)|dn),this.initFunction(o),this.options.ecmaVersion>=8&&(o.async=!!v),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,o.params=this.toAssignableList(h,!0),this.parseFunctionBody(o,!0,!1,w),this.yieldPos=N,this.awaitPos=$,this.awaitIdentPos=Q,this.finishNode(o,"ArrowFunctionExpression")},Ae.parseFunctionBody=function(o,h,v,w){var N=h&&this.type!==d.braceL,$=this.strict,Q=!1;if(N)o.body=this.parseMaybeAssign(w),o.expression=!0,this.checkParams(o,!1);else{var ne=this.options.ecmaVersion>=7&&!this.isSimpleParamList(o.params);(!$||ne)&&(Q=this.strictDirective(this.end),Q&&ne&&this.raiseRecoverable(o.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ue=this.labels;this.labels=[],Q&&(this.strict=!0),this.checkParams(o,!$&&!Q&&!h&&!v&&this.isSimpleParamList(o.params)),this.strict&&o.id&&this.checkLValSimple(o.id,Xn),o.body=this.parseBlock(!1,void 0,Q&&!$),o.expression=!1,this.adaptDirectivePrologue(o.body.body),this.labels=ue}this.exitScope()},Ae.isSimpleParamList=function(o){for(var h=0,v=o;h<v.length;h+=1){var w=v[h];if(w.type!=="Identifier")return!1}return!0},Ae.checkParams=function(o,h){for(var v=Object.create(null),w=0,N=o.params;w<N.length;w+=1){var $=N[w];this.checkLValInnerPattern($,lr,h?null:v)}},Ae.parseExprList=function(o,h,v,w){for(var N=[],$=!0;!this.eat(o);){if($)$=!1;else if(this.expect(d.comma),h&&this.afterTrailingComma(o))break;var Q=void 0;v&&this.type===d.comma?Q=null:this.type===d.ellipsis?(Q=this.parseSpread(w),w&&this.type===d.comma&&w.trailingComma<0&&(w.trailingComma=this.start)):Q=this.parseMaybeAssign(!1,w),N.push(Q)}return N},Ae.checkUnreserved=function(o){var h=o.start,v=o.end,w=o.name;if(this.inGenerator&&w==="yield"&&this.raiseRecoverable(h,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&w==="await"&&this.raiseRecoverable(h,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&w==="arguments"&&this.raiseRecoverable(h,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(w==="arguments"||w==="await")&&this.raise(h,"Cannot use "+w+" in class static initialization block"),this.keywords.test(w)&&this.raise(h,"Unexpected keyword '"+w+"'"),!(this.options.ecmaVersion<6&&this.input.slice(h,v).indexOf("\\")!==-1)){var N=this.strict?this.reservedWordsStrict:this.reservedWords;N.test(w)&&(!this.inAsync&&w==="await"&&this.raiseRecoverable(h,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(h,"The keyword '"+w+"' is reserved"))}},Ae.parseIdent=function(o){var h=this.parseIdentNode();return this.next(!!o),this.finishNode(h,"Identifier"),o||(this.checkUnreserved(h),h.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=h.start)),h},Ae.parseIdentNode=function(){var o=this.startNode();return this.type===d.name?o.name=this.value:this.type.keyword?(o.name=this.type.keyword,(o.name==="class"||o.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=d.name):this.unexpected(),o},Ae.parsePrivateIdent=function(){var o=this.startNode();return this.type===d.privateId?o.name=this.value:this.unexpected(),this.next(),this.finishNode(o,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(o)),o},Ae.parseYield=function(o){this.yieldPos||(this.yieldPos=this.start);var h=this.startNode();return this.next(),this.type===d.semi||this.canInsertSemicolon()||this.type!==d.star&&!this.type.startsExpr?(h.delegate=!1,h.argument=null):(h.delegate=this.eat(d.star),h.argument=this.parseMaybeAssign(o)),this.finishNode(h,"YieldExpression")},Ae.parseAwait=function(o){this.awaitPos||(this.awaitPos=this.start);var h=this.startNode();return this.next(),h.argument=this.parseMaybeUnary(null,!0,!1,o),this.finishNode(h,"AwaitExpression")};var xn=je.prototype;xn.raise=function(o,h){var v=dt(this.input,o);h+=" ("+v.line+":"+v.column+")";var w=new SyntaxError(h);throw w.pos=o,w.loc=v,w.raisedAt=this.pos,w},xn.raiseRecoverable=xn.raise,xn.curPosition=function(){if(this.options.locations)return new Ne(this.curLine,this.pos-this.lineStart)};var pn=je.prototype,Nt=function(h){this.flags=h,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pn.enterScope=function(o){this.scopeStack.push(new Nt(o))},pn.exitScope=function(){this.scopeStack.pop()},pn.treatFunctionsAsVarInScope=function(o){return o.flags&An||!this.inModule&&o.flags&wr},pn.declareName=function(o,h,v){var w=!1;if(h===Fn){var N=this.currentScope();w=N.lexical.indexOf(o)>-1||N.functions.indexOf(o)>-1||N.var.indexOf(o)>-1,N.lexical.push(o),this.inModule&&N.flags&wr&&delete this.undefinedExports[o]}else if(h===Yn){var $=this.currentScope();$.lexical.push(o)}else if(h===ci){var Q=this.currentScope();this.treatFunctionsAsVar?w=Q.lexical.indexOf(o)>-1:w=Q.lexical.indexOf(o)>-1||Q.var.indexOf(o)>-1,Q.functions.push(o)}else for(var ne=this.scopeStack.length-1;ne>=0;--ne){var ue=this.scopeStack[ne];if(ue.lexical.indexOf(o)>-1&&!(ue.flags&ui&&ue.lexical[0]===o)||!this.treatFunctionsAsVarInScope(ue)&&ue.functions.indexOf(o)>-1){w=!0;break}if(ue.var.push(o),this.inModule&&ue.flags&wr&&delete this.undefinedExports[o],ue.flags&ts)break}w&&this.raiseRecoverable(v,"Identifier '"+o+"' has already been declared")},pn.checkLocalExport=function(o){this.scopeStack[0].lexical.indexOf(o.name)===-1&&this.scopeStack[0].var.indexOf(o.name)===-1&&(this.undefinedExports[o.name]=o)},pn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},pn.currentVarScope=function(){for(var o=this.scopeStack.length-1;;o--){var h=this.scopeStack[o];if(h.flags&ts)return h}},pn.currentThisScope=function(){for(var o=this.scopeStack.length-1;;o--){var h=this.scopeStack[o];if(h.flags&ts&&!(h.flags&dn))return h}};var cr=function(h,v,w){this.type="",this.start=v,this.end=0,h.options.locations&&(this.loc=new Qe(h,w)),h.options.directSourceFile&&(this.sourceFile=h.options.directSourceFile),h.options.ranges&&(this.range=[v,0])},j=je.prototype;j.startNode=function(){return new cr(this,this.start,this.startLoc)},j.startNodeAt=function(o,h){return new cr(this,o,h)};function z(o,h,v,w){return o.type=h,o.end=v,this.options.locations&&(o.loc.end=w),this.options.ranges&&(o.range[1]=v),o}j.finishNode=function(o,h){return z.call(this,o,h,this.lastTokEnd,this.lastTokEndLoc)},j.finishNodeAt=function(o,h,v,w){return z.call(this,o,h,v,w)},j.copyNode=function(o){var h=new cr(this,o.start,this.startLoc);for(var v in o)h[v]=o[v];return h};var K="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Z=K+" Extended_Pictographic",oe=Z,ge=oe+" EBase EComp EMod EPres ExtPict",Te=ge,se=Te,_e={9:K,10:Z,11:oe,12:ge,13:Te,14:se},xe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ce={9:"",10:"",11:"",12:"",13:"",14:xe},$e="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ye="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",tt=Ye+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",We=tt+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",It=We+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Et=It+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",qr=Et+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",hr={9:Ye,10:tt,11:We,12:It,13:Et,14:qr},Vn={};function xr(o){var h=Vn[o]={binary:ve(_e[o]+" "+$e),binaryOfStrings:ve(Ce[o]),nonBinary:{General_Category:ve($e),Script:ve(hr[o])}};h.nonBinary.Script_Extensions=h.nonBinary.Script,h.nonBinary.gc=h.nonBinary.General_Category,h.nonBinary.sc=h.nonBinary.Script,h.nonBinary.scx=h.nonBinary.Script_Extensions}for(var On=0,Kt=[9,10,11,12,13,14];On<Kt.length;On+=1){var Bn=Kt[On];xr(Bn)}var ce=je.prototype,fr=function(h,v){this.parent=h,this.base=v||this};fr.prototype.separatedFrom=function(h){for(var v=this;v;v=v.parent)for(var w=h;w;w=w.parent)if(v.base===w.base&&v!==w)return!0;return!1},fr.prototype.sibling=function(){return new fr(this.parent,this.base)};var Se=function(h){this.parser=h,this.validFlags="gim"+(h.options.ecmaVersion>=6?"uy":"")+(h.options.ecmaVersion>=9?"s":"")+(h.options.ecmaVersion>=13?"d":"")+(h.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Vn[h.options.ecmaVersion>=14?14:h.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Se.prototype.reset=function(h,v,w){var N=w.indexOf("v")!==-1,$=w.indexOf("u")!==-1;this.start=h|0,this.source=v+"",this.flags=w,N&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=$&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=$&&this.parser.options.ecmaVersion>=9)},Se.prototype.raise=function(h){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+h)},Se.prototype.at=function(h,v){v===void 0&&(v=!1);var w=this.source,N=w.length;if(h>=N)return-1;var $=w.charCodeAt(h);if(!(v||this.switchU)||$<=55295||$>=57344||h+1>=N)return $;var Q=w.charCodeAt(h+1);return Q>=56320&&Q<=57343?($<<10)+Q-56613888:$},Se.prototype.nextIndex=function(h,v){v===void 0&&(v=!1);var w=this.source,N=w.length;if(h>=N)return N;var $=w.charCodeAt(h),Q;return!(v||this.switchU)||$<=55295||$>=57344||h+1>=N||(Q=w.charCodeAt(h+1))<56320||Q>57343?h+1:h+2},Se.prototype.current=function(h){return h===void 0&&(h=!1),this.at(this.pos,h)},Se.prototype.lookahead=function(h){return h===void 0&&(h=!1),this.at(this.nextIndex(this.pos,h),h)},Se.prototype.advance=function(h){h===void 0&&(h=!1),this.pos=this.nextIndex(this.pos,h)},Se.prototype.eat=function(h,v){return v===void 0&&(v=!1),this.current(v)===h?(this.advance(v),!0):!1},Se.prototype.eatChars=function(h,v){v===void 0&&(v=!1);for(var w=this.pos,N=0,$=h;N<$.length;N+=1){var Q=$[N],ne=this.at(w,v);if(ne===-1||ne!==Q)return!1;w=this.nextIndex(w,v)}return this.pos=w,!0},ce.validateRegExpFlags=function(o){for(var h=o.validFlags,v=o.flags,w=!1,N=!1,$=0;$<v.length;$++){var Q=v.charAt($);h.indexOf(Q)===-1&&this.raise(o.start,"Invalid regular expression flag"),v.indexOf(Q,$+1)>-1&&this.raise(o.start,"Duplicate regular expression flag"),Q==="u"&&(w=!0),Q==="v"&&(N=!0)}this.options.ecmaVersion>=15&&w&&N&&this.raise(o.start,"Invalid regular expression flag")};function mt(o){for(var h in o)return!0;return!1}ce.validateRegExpPattern=function(o){this.regexp_pattern(o),!o.switchN&&this.options.ecmaVersion>=9&&mt(o.groupNames)&&(o.switchN=!0,this.regexp_pattern(o))},ce.regexp_pattern=function(o){o.pos=0,o.lastIntValue=0,o.lastStringValue="",o.lastAssertionIsQuantifiable=!1,o.numCapturingParens=0,o.maxBackReference=0,o.groupNames=Object.create(null),o.backReferenceNames.length=0,o.branchID=null,this.regexp_disjunction(o),o.pos!==o.source.length&&(o.eat(41)&&o.raise("Unmatched ')'"),(o.eat(93)||o.eat(125))&&o.raise("Lone quantifier brackets")),o.maxBackReference>o.numCapturingParens&&o.raise("Invalid escape");for(var h=0,v=o.backReferenceNames;h<v.length;h+=1){var w=v[h];o.groupNames[w]||o.raise("Invalid named capture referenced")}},ce.regexp_disjunction=function(o){var h=this.options.ecmaVersion>=16;for(h&&(o.branchID=new fr(o.branchID,null)),this.regexp_alternative(o);o.eat(124);)h&&(o.branchID=o.branchID.sibling()),this.regexp_alternative(o);h&&(o.branchID=o.branchID.parent),this.regexp_eatQuantifier(o,!0)&&o.raise("Nothing to repeat"),o.eat(123)&&o.raise("Lone quantifier brackets")},ce.regexp_alternative=function(o){for(;o.pos<o.source.length&&this.regexp_eatTerm(o););},ce.regexp_eatTerm=function(o){return this.regexp_eatAssertion(o)?(o.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(o)&&o.switchU&&o.raise("Invalid quantifier"),!0):(o.switchU?this.regexp_eatAtom(o):this.regexp_eatExtendedAtom(o))?(this.regexp_eatQuantifier(o),!0):!1},ce.regexp_eatAssertion=function(o){var h=o.pos;if(o.lastAssertionIsQuantifiable=!1,o.eat(94)||o.eat(36))return!0;if(o.eat(92)){if(o.eat(66)||o.eat(98))return!0;o.pos=h}if(o.eat(40)&&o.eat(63)){var v=!1;if(this.options.ecmaVersion>=9&&(v=o.eat(60)),o.eat(61)||o.eat(33))return this.regexp_disjunction(o),o.eat(41)||o.raise("Unterminated group"),o.lastAssertionIsQuantifiable=!v,!0}return o.pos=h,!1},ce.regexp_eatQuantifier=function(o,h){return h===void 0&&(h=!1),this.regexp_eatQuantifierPrefix(o,h)?(o.eat(63),!0):!1},ce.regexp_eatQuantifierPrefix=function(o,h){return o.eat(42)||o.eat(43)||o.eat(63)||this.regexp_eatBracedQuantifier(o,h)},ce.regexp_eatBracedQuantifier=function(o,h){var v=o.pos;if(o.eat(123)){var w=0,N=-1;if(this.regexp_eatDecimalDigits(o)&&(w=o.lastIntValue,o.eat(44)&&this.regexp_eatDecimalDigits(o)&&(N=o.lastIntValue),o.eat(125)))return N!==-1&&N<w&&!h&&o.raise("numbers out of order in {} quantifier"),!0;o.switchU&&!h&&o.raise("Incomplete quantifier"),o.pos=v}return!1},ce.regexp_eatAtom=function(o){return this.regexp_eatPatternCharacters(o)||o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)},ce.regexp_eatReverseSolidusAtomEscape=function(o){var h=o.pos;if(o.eat(92)){if(this.regexp_eatAtomEscape(o))return!0;o.pos=h}return!1},ce.regexp_eatUncapturingGroup=function(o){var h=o.pos;if(o.eat(40)){if(o.eat(63)&&o.eat(58)){if(this.regexp_disjunction(o),o.eat(41))return!0;o.raise("Unterminated group")}o.pos=h}return!1},ce.regexp_eatCapturingGroup=function(o){if(o.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(o):o.current()===63&&o.raise("Invalid group"),this.regexp_disjunction(o),o.eat(41))return o.numCapturingParens+=1,!0;o.raise("Unterminated group")}return!1},ce.regexp_eatExtendedAtom=function(o){return o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)||this.regexp_eatInvalidBracedQuantifier(o)||this.regexp_eatExtendedPatternCharacter(o)},ce.regexp_eatInvalidBracedQuantifier=function(o){return this.regexp_eatBracedQuantifier(o,!0)&&o.raise("Nothing to repeat"),!1},ce.regexp_eatSyntaxCharacter=function(o){var h=o.current();return Wt(h)?(o.lastIntValue=h,o.advance(),!0):!1};function Wt(o){return o===36||o>=40&&o<=43||o===46||o===63||o>=91&&o<=94||o>=123&&o<=125}ce.regexp_eatPatternCharacters=function(o){for(var h=o.pos,v=0;(v=o.current())!==-1&&!Wt(v);)o.advance();return o.pos!==h},ce.regexp_eatExtendedPatternCharacter=function(o){var h=o.current();return h!==-1&&h!==36&&!(h>=40&&h<=43)&&h!==46&&h!==63&&h!==91&&h!==94&&h!==124?(o.advance(),!0):!1},ce.regexp_groupSpecifier=function(o){if(o.eat(63)){this.regexp_eatGroupName(o)||o.raise("Invalid group");var h=this.options.ecmaVersion>=16,v=o.groupNames[o.lastStringValue];if(v)if(h)for(var w=0,N=v;w<N.length;w+=1){var $=N[w];$.separatedFrom(o.branchID)||o.raise("Duplicate capture group name")}else o.raise("Duplicate capture group name");h?(v||(o.groupNames[o.lastStringValue]=[])).push(o.branchID):o.groupNames[o.lastStringValue]=!0}},ce.regexp_eatGroupName=function(o){if(o.lastStringValue="",o.eat(60)){if(this.regexp_eatRegExpIdentifierName(o)&&o.eat(62))return!0;o.raise("Invalid capture group name")}return!1},ce.regexp_eatRegExpIdentifierName=function(o){if(o.lastStringValue="",this.regexp_eatRegExpIdentifierStart(o)){for(o.lastStringValue+=we(o.lastIntValue);this.regexp_eatRegExpIdentifierPart(o);)o.lastStringValue+=we(o.lastIntValue);return!0}return!1},ce.regexp_eatRegExpIdentifierStart=function(o){var h=o.pos,v=this.options.ecmaVersion>=11,w=o.current(v);return o.advance(v),w===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,v)&&(w=o.lastIntValue),at(w)?(o.lastIntValue=w,!0):(o.pos=h,!1)};function at(o){return F(o,!0)||o===36||o===95}ce.regexp_eatRegExpIdentifierPart=function(o){var h=o.pos,v=this.options.ecmaVersion>=11,w=o.current(v);return o.advance(v),w===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,v)&&(w=o.lastIntValue),mn(w)?(o.lastIntValue=w,!0):(o.pos=h,!1)};function mn(o){return L(o,!0)||o===36||o===95||o===8204||o===8205}ce.regexp_eatAtomEscape=function(o){return this.regexp_eatBackReference(o)||this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)||o.switchN&&this.regexp_eatKGroupName(o)?!0:(o.switchU&&(o.current()===99&&o.raise("Invalid unicode escape"),o.raise("Invalid escape")),!1)},ce.regexp_eatBackReference=function(o){var h=o.pos;if(this.regexp_eatDecimalEscape(o)){var v=o.lastIntValue;if(o.switchU)return v>o.maxBackReference&&(o.maxBackReference=v),!0;if(v<=o.numCapturingParens)return!0;o.pos=h}return!1},ce.regexp_eatKGroupName=function(o){if(o.eat(107)){if(this.regexp_eatGroupName(o))return o.backReferenceNames.push(o.lastStringValue),!0;o.raise("Invalid named reference")}return!1},ce.regexp_eatCharacterEscape=function(o){return this.regexp_eatControlEscape(o)||this.regexp_eatCControlLetter(o)||this.regexp_eatZero(o)||this.regexp_eatHexEscapeSequence(o)||this.regexp_eatRegExpUnicodeEscapeSequence(o,!1)||!o.switchU&&this.regexp_eatLegacyOctalEscapeSequence(o)||this.regexp_eatIdentityEscape(o)},ce.regexp_eatCControlLetter=function(o){var h=o.pos;if(o.eat(99)){if(this.regexp_eatControlLetter(o))return!0;o.pos=h}return!1},ce.regexp_eatZero=function(o){return o.current()===48&&!os(o.lookahead())?(o.lastIntValue=0,o.advance(),!0):!1},ce.regexp_eatControlEscape=function(o){var h=o.current();return h===116?(o.lastIntValue=9,o.advance(),!0):h===110?(o.lastIntValue=10,o.advance(),!0):h===118?(o.lastIntValue=11,o.advance(),!0):h===102?(o.lastIntValue=12,o.advance(),!0):h===114?(o.lastIntValue=13,o.advance(),!0):!1},ce.regexp_eatControlLetter=function(o){var h=o.current();return fi(h)?(o.lastIntValue=h%32,o.advance(),!0):!1};function fi(o){return o>=65&&o<=90||o>=97&&o<=122}ce.regexp_eatRegExpUnicodeEscapeSequence=function(o,h){h===void 0&&(h=!1);var v=o.pos,w=h||o.switchU;if(o.eat(117)){if(this.regexp_eatFixedHexDigits(o,4)){var N=o.lastIntValue;if(w&&N>=55296&&N<=56319){var $=o.pos;if(o.eat(92)&&o.eat(117)&&this.regexp_eatFixedHexDigits(o,4)){var Q=o.lastIntValue;if(Q>=56320&&Q<=57343)return o.lastIntValue=(N-55296)*1024+(Q-56320)+65536,!0}o.pos=$,o.lastIntValue=N}return!0}if(w&&o.eat(123)&&this.regexp_eatHexDigits(o)&&o.eat(125)&&is(o.lastIntValue))return!0;w&&o.raise("Invalid unicode escape"),o.pos=v}return!1};function is(o){return o>=0&&o<=1114111}ce.regexp_eatIdentityEscape=function(o){if(o.switchU)return this.regexp_eatSyntaxCharacter(o)?!0:o.eat(47)?(o.lastIntValue=47,!0):!1;var h=o.current();return h!==99&&(!o.switchN||h!==107)?(o.lastIntValue=h,o.advance(),!0):!1},ce.regexp_eatDecimalEscape=function(o){o.lastIntValue=0;var h=o.current();if(h>=49&&h<=57){do o.lastIntValue=10*o.lastIntValue+(h-48),o.advance();while((h=o.current())>=48&&h<=57);return!0}return!1};var po=0,Cr=1,un=2;ce.regexp_eatCharacterClassEscape=function(o){var h=o.current();if(Vs(h))return o.lastIntValue=-1,o.advance(),Cr;var v=!1;if(o.switchU&&this.options.ecmaVersion>=9&&((v=h===80)||h===112)){o.lastIntValue=-1,o.advance();var w;if(o.eat(123)&&(w=this.regexp_eatUnicodePropertyValueExpression(o))&&o.eat(125))return v&&w===un&&o.raise("Invalid property name"),w;o.raise("Invalid property name")}return po};function Vs(o){return o===100||o===68||o===115||o===83||o===119||o===87}ce.regexp_eatUnicodePropertyValueExpression=function(o){var h=o.pos;if(this.regexp_eatUnicodePropertyName(o)&&o.eat(61)){var v=o.lastStringValue;if(this.regexp_eatUnicodePropertyValue(o)){var w=o.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(o,v,w),Cr}}if(o.pos=h,this.regexp_eatLoneUnicodePropertyNameOrValue(o)){var N=o.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(o,N)}return po},ce.regexp_validateUnicodePropertyNameAndValue=function(o,h,v){Bt(o.unicodeProperties.nonBinary,h)||o.raise("Invalid property name"),o.unicodeProperties.nonBinary[h].test(v)||o.raise("Invalid property value")},ce.regexp_validateUnicodePropertyNameOrValue=function(o,h){if(o.unicodeProperties.binary.test(h))return Cr;if(o.switchV&&o.unicodeProperties.binaryOfStrings.test(h))return un;o.raise("Invalid property name")},ce.regexp_eatUnicodePropertyName=function(o){var h=0;for(o.lastStringValue="";ss(h=o.current());)o.lastStringValue+=we(h),o.advance();return o.lastStringValue!==""};function ss(o){return fi(o)||o===95}ce.regexp_eatUnicodePropertyValue=function(o){var h=0;for(o.lastStringValue="";Sr(h=o.current());)o.lastStringValue+=we(h),o.advance();return o.lastStringValue!==""};function Sr(o){return ss(o)||os(o)}ce.regexp_eatLoneUnicodePropertyNameOrValue=function(o){return this.regexp_eatUnicodePropertyValue(o)},ce.regexp_eatCharacterClass=function(o){if(o.eat(91)){var h=o.eat(94),v=this.regexp_classContents(o);return o.eat(93)||o.raise("Unterminated character class"),h&&v===un&&o.raise("Negated character class may contain strings"),!0}return!1},ce.regexp_classContents=function(o){return o.current()===93?Cr:o.switchV?this.regexp_classSetExpression(o):(this.regexp_nonEmptyClassRanges(o),Cr)},ce.regexp_nonEmptyClassRanges=function(o){for(;this.regexp_eatClassAtom(o);){var h=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassAtom(o)){var v=o.lastIntValue;o.switchU&&(h===-1||v===-1)&&o.raise("Invalid character class"),h!==-1&&v!==-1&&h>v&&o.raise("Range out of order in character class")}}},ce.regexp_eatClassAtom=function(o){var h=o.pos;if(o.eat(92)){if(this.regexp_eatClassEscape(o))return!0;if(o.switchU){var v=o.current();(v===99||di(v))&&o.raise("Invalid class escape"),o.raise("Invalid escape")}o.pos=h}var w=o.current();return w!==93?(o.lastIntValue=w,o.advance(),!0):!1},ce.regexp_eatClassEscape=function(o){var h=o.pos;if(o.eat(98))return o.lastIntValue=8,!0;if(o.switchU&&o.eat(45))return o.lastIntValue=45,!0;if(!o.switchU&&o.eat(99)){if(this.regexp_eatClassControlLetter(o))return!0;o.pos=h}return this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)},ce.regexp_classSetExpression=function(o){var h=Cr,v;if(!this.regexp_eatClassSetRange(o))if(v=this.regexp_eatClassSetOperand(o)){v===un&&(h=un);for(var w=o.pos;o.eatChars([38,38]);){if(o.current()!==38&&(v=this.regexp_eatClassSetOperand(o))){v!==un&&(h=Cr);continue}o.raise("Invalid character in character class")}if(w!==o.pos)return h;for(;o.eatChars([45,45]);)this.regexp_eatClassSetOperand(o)||o.raise("Invalid character in character class");if(w!==o.pos)return h}else o.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(o)){if(v=this.regexp_eatClassSetOperand(o),!v)return h;v===un&&(h=un)}},ce.regexp_eatClassSetRange=function(o){var h=o.pos;if(this.regexp_eatClassSetCharacter(o)){var v=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassSetCharacter(o)){var w=o.lastIntValue;return v!==-1&&w!==-1&&v>w&&o.raise("Range out of order in character class"),!0}o.pos=h}return!1},ce.regexp_eatClassSetOperand=function(o){return this.regexp_eatClassSetCharacter(o)?Cr:this.regexp_eatClassStringDisjunction(o)||this.regexp_eatNestedClass(o)},ce.regexp_eatNestedClass=function(o){var h=o.pos;if(o.eat(91)){var v=o.eat(94),w=this.regexp_classContents(o);if(o.eat(93))return v&&w===un&&o.raise("Negated character class may contain strings"),w;o.pos=h}if(o.eat(92)){var N=this.regexp_eatCharacterClassEscape(o);if(N)return N;o.pos=h}return null},ce.regexp_eatClassStringDisjunction=function(o){var h=o.pos;if(o.eatChars([92,113])){if(o.eat(123)){var v=this.regexp_classStringDisjunctionContents(o);if(o.eat(125))return v}else o.raise("Invalid escape");o.pos=h}return null},ce.regexp_classStringDisjunctionContents=function(o){for(var h=this.regexp_classString(o);o.eat(124);)this.regexp_classString(o)===un&&(h=un);return h},ce.regexp_classString=function(o){for(var h=0;this.regexp_eatClassSetCharacter(o);)h++;return h===1?Cr:un},ce.regexp_eatClassSetCharacter=function(o){var h=o.pos;if(o.eat(92))return this.regexp_eatCharacterEscape(o)||this.regexp_eatClassSetReservedPunctuator(o)?!0:o.eat(98)?(o.lastIntValue=8,!0):(o.pos=h,!1);var v=o.current();return v<0||v===o.lookahead()&&Mn(v)||Os(v)?!1:(o.advance(),o.lastIntValue=v,!0)};function Mn(o){return o===33||o>=35&&o<=38||o>=42&&o<=44||o===46||o>=58&&o<=64||o===94||o===96||o===126}function Os(o){return o===40||o===41||o===45||o===47||o>=91&&o<=93||o>=123&&o<=125}ce.regexp_eatClassSetReservedPunctuator=function(o){var h=o.current();return as(h)?(o.lastIntValue=h,o.advance(),!0):!1};function as(o){return o===33||o===35||o===37||o===38||o===44||o===45||o>=58&&o<=62||o===64||o===96||o===126}ce.regexp_eatClassControlLetter=function(o){var h=o.current();return os(h)||h===95?(o.lastIntValue=h%32,o.advance(),!0):!1},ce.regexp_eatHexEscapeSequence=function(o){var h=o.pos;if(o.eat(120)){if(this.regexp_eatFixedHexDigits(o,2))return!0;o.switchU&&o.raise("Invalid escape"),o.pos=h}return!1},ce.regexp_eatDecimalDigits=function(o){var h=o.pos,v=0;for(o.lastIntValue=0;os(v=o.current());)o.lastIntValue=10*o.lastIntValue+(v-48),o.advance();return o.pos!==h};function os(o){return o>=48&&o<=57}ce.regexp_eatHexDigits=function(o){var h=o.pos,v=0;for(o.lastIntValue=0;gt(v=o.current());)o.lastIntValue=16*o.lastIntValue+Hr(v),o.advance();return o.pos!==h};function gt(o){return o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102}function Hr(o){return o>=65&&o<=70?10+(o-65):o>=97&&o<=102?10+(o-97):o-48}ce.regexp_eatLegacyOctalEscapeSequence=function(o){if(this.regexp_eatOctalDigit(o)){var h=o.lastIntValue;if(this.regexp_eatOctalDigit(o)){var v=o.lastIntValue;h<=3&&this.regexp_eatOctalDigit(o)?o.lastIntValue=h*64+v*8+o.lastIntValue:o.lastIntValue=h*8+v}else o.lastIntValue=h;return!0}return!1},ce.regexp_eatOctalDigit=function(o){var h=o.current();return di(h)?(o.lastIntValue=h-48,o.advance(),!0):(o.lastIntValue=0,!1)};function di(o){return o>=48&&o<=55}ce.regexp_eatFixedHexDigits=function(o,h){var v=o.pos;o.lastIntValue=0;for(var w=0;w<h;++w){var N=o.current();if(!gt(N))return o.pos=v,!1;o.lastIntValue=16*o.lastIntValue+Hr(N),o.advance()}return!0};var Ir=function(h){this.type=h.type,this.value=h.value,this.start=h.start,this.end=h.end,h.options.locations&&(this.loc=new Qe(h,h.startLoc,h.endLoc)),h.options.ranges&&(this.range=[h.start,h.end])},ze=je.prototype;ze.next=function(o){!o&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ir(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ze.getToken=function(){return this.next(),new Ir(this)},typeof Symbol<"u"&&(ze[Symbol.iterator]=function(){var o=this;return{next:function(){var h=o.getToken();return{done:h.type===d.eof,value:h}}}}),ze.nextToken=function(){var o=this.curContext();if((!o||!o.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(d.eof);if(o.override)return o.override(this);this.readToken(this.fullCharCodeAtPos())},ze.readToken=function(o){return F(o,this.options.ecmaVersion>=6)||o===92?this.readWord():this.getTokenFromCode(o)},ze.fullCharCodeAtPos=function(){var o=this.input.charCodeAt(this.pos);if(o<=55295||o>=56320)return o;var h=this.input.charCodeAt(this.pos+1);return h<=56319||h>=57344?o:(o<<10)+h-56613888},ze.skipBlockComment=function(){var o=this.options.onComment&&this.curPosition(),h=this.pos,v=this.input.indexOf("*/",this.pos+=2);if(v===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=v+2,this.options.locations)for(var w=void 0,N=h;(w=D(this.input,N,this.pos))>-1;)++this.curLine,N=this.lineStart=w;this.options.onComment&&this.options.onComment(!0,this.input.slice(h+2,v),h,this.pos,o,this.curPosition())},ze.skipLineComment=function(o){for(var h=this.pos,v=this.options.onComment&&this.curPosition(),w=this.input.charCodeAt(this.pos+=o);this.pos<this.input.length&&!S(w);)w=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(h+o,this.pos),h,this.pos,v,this.curPosition())},ze.skipSpace=function(){e:for(;this.pos<this.input.length;){var o=this.input.charCodeAt(this.pos);switch(o){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(o>8&&o<14||o>=5760&&B.test(String.fromCharCode(o)))++this.pos;else break e}}},ze.finishToken=function(o,h){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var v=this.type;this.type=o,this.value=h,this.updateContext(v)},ze.readToken_dot=function(){var o=this.input.charCodeAt(this.pos+1);if(o>=48&&o<=57)return this.readNumber(!0);var h=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&o===46&&h===46?(this.pos+=3,this.finishToken(d.ellipsis)):(++this.pos,this.finishToken(d.dot))},ze.readToken_slash=function(){var o=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):o===61?this.finishOp(d.assign,2):this.finishOp(d.slash,1)},ze.readToken_mult_modulo_exp=function(o){var h=this.input.charCodeAt(this.pos+1),v=1,w=o===42?d.star:d.modulo;return this.options.ecmaVersion>=7&&o===42&&h===42&&(++v,w=d.starstar,h=this.input.charCodeAt(this.pos+2)),h===61?this.finishOp(d.assign,v+1):this.finishOp(w,v)},ze.readToken_pipe_amp=function(o){var h=this.input.charCodeAt(this.pos+1);if(h===o){if(this.options.ecmaVersion>=12){var v=this.input.charCodeAt(this.pos+2);if(v===61)return this.finishOp(d.assign,3)}return this.finishOp(o===124?d.logicalOR:d.logicalAND,2)}return h===61?this.finishOp(d.assign,2):this.finishOp(o===124?d.bitwiseOR:d.bitwiseAND,1)},ze.readToken_caret=function(){var o=this.input.charCodeAt(this.pos+1);return o===61?this.finishOp(d.assign,2):this.finishOp(d.bitwiseXOR,1)},ze.readToken_plus_min=function(o){var h=this.input.charCodeAt(this.pos+1);return h===o?h===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||I.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(d.incDec,2):h===61?this.finishOp(d.assign,2):this.finishOp(d.plusMin,1)},ze.readToken_lt_gt=function(o){var h=this.input.charCodeAt(this.pos+1),v=1;return h===o?(v=o===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+v)===61?this.finishOp(d.assign,v+1):this.finishOp(d.bitShift,v)):h===33&&o===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(h===61&&(v=2),this.finishOp(d.relational,v))},ze.readToken_eq_excl=function(o){var h=this.input.charCodeAt(this.pos+1);return h===61?this.finishOp(d.equality,this.input.charCodeAt(this.pos+2)===61?3:2):o===61&&h===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(d.arrow)):this.finishOp(o===61?d.eq:d.prefix,1)},ze.readToken_question=function(){var o=this.options.ecmaVersion;if(o>=11){var h=this.input.charCodeAt(this.pos+1);if(h===46){var v=this.input.charCodeAt(this.pos+2);if(v<48||v>57)return this.finishOp(d.questionDot,2)}if(h===63){if(o>=12){var w=this.input.charCodeAt(this.pos+2);if(w===61)return this.finishOp(d.assign,3)}return this.finishOp(d.coalesce,2)}}return this.finishOp(d.question,1)},ze.readToken_numberSign=function(){var o=this.options.ecmaVersion,h=35;if(o>=13&&(++this.pos,h=this.fullCharCodeAtPos(),F(h,!0)||h===92))return this.finishToken(d.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+we(h)+"'")},ze.getTokenFromCode=function(o){switch(o){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(d.parenL);case 41:return++this.pos,this.finishToken(d.parenR);case 59:return++this.pos,this.finishToken(d.semi);case 44:return++this.pos,this.finishToken(d.comma);case 91:return++this.pos,this.finishToken(d.bracketL);case 93:return++this.pos,this.finishToken(d.bracketR);case 123:return++this.pos,this.finishToken(d.braceL);case 125:return++this.pos,this.finishToken(d.braceR);case 58:return++this.pos,this.finishToken(d.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(d.backQuote);case 48:var h=this.input.charCodeAt(this.pos+1);if(h===120||h===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(h===111||h===79)return this.readRadixNumber(8);if(h===98||h===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(o);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(o);case 124:case 38:return this.readToken_pipe_amp(o);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(o);case 60:case 62:return this.readToken_lt_gt(o);case 61:case 33:return this.readToken_eq_excl(o);case 63:return this.readToken_question();case 126:return this.finishOp(d.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+we(o)+"'")},ze.finishOp=function(o,h){var v=this.input.slice(this.pos,this.pos+h);return this.pos+=h,this.finishToken(o,v)},ze.readRegexp=function(){for(var o,h,v=this.pos;;){this.pos>=this.input.length&&this.raise(v,"Unterminated regular expression");var w=this.input.charAt(this.pos);if(I.test(w)&&this.raise(v,"Unterminated regular expression"),o)o=!1;else{if(w==="[")h=!0;else if(w==="]"&&h)h=!1;else if(w==="/"&&!h)break;o=w==="\\"}++this.pos}var N=this.input.slice(v,this.pos);++this.pos;var $=this.pos,Q=this.readWord1();this.containsEsc&&this.unexpected($);var ne=this.regexpState||(this.regexpState=new Se(this));ne.reset(v,N,Q),this.validateRegExpFlags(ne),this.validateRegExpPattern(ne);var ue=null;try{ue=new RegExp(N,Q)}catch{}return this.finishToken(d.regexp,{pattern:N,flags:Q,value:ue})},ze.readInt=function(o,h,v){for(var w=this.options.ecmaVersion>=12&&h===void 0,N=v&&this.input.charCodeAt(this.pos)===48,$=this.pos,Q=0,ne=0,ue=0,Ve=h??1/0;ue<Ve;++ue,++this.pos){var Pe=this.input.charCodeAt(this.pos),vt=void 0;if(w&&Pe===95){N&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ne===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ue===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ne=Pe;continue}if(Pe>=97?vt=Pe-97+10:Pe>=65?vt=Pe-65+10:Pe>=48&&Pe<=57?vt=Pe-48:vt=1/0,vt>=o)break;ne=Pe,Q=Q*o+vt}return w&&ne===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===$||h!=null&&this.pos-$!==h?null:Q};function mo(o,h){return h?parseInt(o,8):parseFloat(o.replace(/_/g,""))}function pi(o){return typeof BigInt!="function"?null:BigInt(o.replace(/_/g,""))}ze.readRadixNumber=function(o){var h=this.pos;this.pos+=2;var v=this.readInt(o);return v==null&&this.raise(this.start+2,"Expected number in radix "+o),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(v=pi(this.input.slice(h,this.pos)),++this.pos):F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,v)},ze.readNumber=function(o){var h=this.pos;!o&&this.readInt(10,void 0,!0)===null&&this.raise(h,"Invalid number");var v=this.pos-h>=2&&this.input.charCodeAt(h)===48;v&&this.strict&&this.raise(h,"Invalid number");var w=this.input.charCodeAt(this.pos);if(!v&&!o&&this.options.ecmaVersion>=11&&w===110){var N=pi(this.input.slice(h,this.pos));return++this.pos,F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,N)}v&&/[89]/.test(this.input.slice(h,this.pos))&&(v=!1),w===46&&!v&&(++this.pos,this.readInt(10),w=this.input.charCodeAt(this.pos)),(w===69||w===101)&&!v&&(w=this.input.charCodeAt(++this.pos),(w===43||w===45)&&++this.pos,this.readInt(10)===null&&this.raise(h,"Invalid number")),F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var $=mo(this.input.slice(h,this.pos),v);return this.finishToken(d.num,$)},ze.readCodePoint=function(){var o=this.input.charCodeAt(this.pos),h;if(o===123){this.options.ecmaVersion<6&&this.unexpected();var v=++this.pos;h=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,h>1114111&&this.invalidStringToken(v,"Code point out of bounds")}else h=this.readHexChar(4);return h},ze.readString=function(o){for(var h="",v=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var w=this.input.charCodeAt(this.pos);if(w===o)break;w===92?(h+=this.input.slice(v,this.pos),h+=this.readEscapedChar(!1),v=this.pos):w===8232||w===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(S(w)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return h+=this.input.slice(v,this.pos++),this.finishToken(d.string,h)};var Bs={};ze.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(o){if(o===Bs)this.readInvalidTemplateToken();else throw o}this.inTemplateElement=!1},ze.invalidStringToken=function(o,h){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Bs;this.raise(o,h)},ze.readTmplToken=function(){for(var o="",h=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var v=this.input.charCodeAt(this.pos);if(v===96||v===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===d.template||this.type===d.invalidTemplate)?v===36?(this.pos+=2,this.finishToken(d.dollarBraceL)):(++this.pos,this.finishToken(d.backQuote)):(o+=this.input.slice(h,this.pos),this.finishToken(d.template,o));if(v===92)o+=this.input.slice(h,this.pos),o+=this.readEscapedChar(!0),h=this.pos;else if(S(v)){switch(o+=this.input.slice(h,this.pos),++this.pos,v){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:o+=`
`;break;default:o+=String.fromCharCode(v);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),h=this.pos}else++this.pos}},ze.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(d.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},ze.readEscapedChar=function(o){var h=this.input.charCodeAt(++this.pos);switch(++this.pos,h){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return we(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),o){var v=this.pos-1;this.invalidStringToken(v,"Invalid escape sequence in template string")}default:if(h>=48&&h<=55){var w=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],N=parseInt(w,8);return N>255&&(w=w.slice(0,-1),N=parseInt(w,8)),this.pos+=w.length-1,h=this.input.charCodeAt(this.pos),(w!=="0"||h===56||h===57)&&(this.strict||o)&&this.invalidStringToken(this.pos-1-w.length,o?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(N)}return S(h)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(h)}},ze.readHexChar=function(o){var h=this.pos,v=this.readInt(16,o);return v===null&&this.invalidStringToken(h,"Bad character escape sequence"),v},ze.readWord1=function(){this.containsEsc=!1;for(var o="",h=!0,v=this.pos,w=this.options.ecmaVersion>=6;this.pos<this.input.length;){var N=this.fullCharCodeAtPos();if(L(N,w))this.pos+=N<=65535?1:2;else if(N===92){this.containsEsc=!0,o+=this.input.slice(v,this.pos);var $=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Q=this.readCodePoint();(h?F:L)(Q,w)||this.invalidStringToken($,"Invalid Unicode escape"),o+=we(Q),v=this.pos}else break;h=!1}return o+this.input.slice(v,this.pos)},ze.readWord=function(){var o=this.readWord1(),h=d.name;return this.keywords.test(o)&&(h=q[o]),this.finishToken(h,o)};var ba="8.12.1";je.acorn={Parser:je,version:ba,defaultOptions:St,Position:Ne,SourceLocation:Qe,getLineInfo:dt,Node:cr,TokenType:M,tokTypes:d,keywordTypes:q,TokContext:Rt,tokContexts:Ke,isIdentifierChar:L,isIdentifierStart:F,Token:Ir,isNewLine:S,lineBreak:I,lineBreakG:x,nonASCIIwhitespace:B};function Ru(o,h){return je.parse(o,h)}function us(o,h,v){return je.parseExpressionAt(o,h,v)}function Tr(o,h){return je.tokenizer(o,h)}n.Node=cr,n.Parser=je,n.Position=Ne,n.SourceLocation=Qe,n.TokContext=Rt,n.Token=Ir,n.TokenType=M,n.defaultOptions=St,n.getLineInfo=dt,n.isIdentifierChar=L,n.isIdentifierStart=F,n.isNewLine=S,n.keywordTypes=q,n.lineBreak=I,n.lineBreakG=x,n.nonASCIIwhitespace=B,n.parse=Ru,n.parseExpressionAt=us,n.tokContexts=Ke,n.tokTypes=d,n.tokenizer=Tr,n.version=ba})}),eO=vc((t,e)=>{e.exports={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}}),tO=vc((t,e)=>{var n=function(f){f=f.Parser.acorn||f;let p=c.get(f);if(!p){const g=f.tokTypes,A=f.TokContext,b=f.TokenType,F=new A("<tag",!1),L=new A("</tag",!1),M=new A("<tag>...</tag>",!0,!0),R={tc_oTag:F,tc_cTag:L,tc_expr:M},k={jsxName:new b("jsxName"),jsxText:new b("jsxText",{beforeExpr:!0}),jsxTagStart:new b("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new b("jsxTagEnd")};k.jsxTagStart.updateContext=function(){this.context.push(M),this.context.push(F),this.exprAllowed=!1},k.jsxTagEnd.updateContext=function(P){let q=this.context.pop();q===F&&P===g.slash||q===L?(this.context.pop(),this.exprAllowed=this.curContext()===M):this.exprAllowed=!0},p={tokContexts:R,tokTypes:k},c.set(f,p)}return p},r=function(f){if(!f)return f;if(f.type==="JSXIdentifier")return f.name;if(f.type==="JSXNamespacedName")return f.namespace.name+":"+f.name.name;if(f.type==="JSXMemberExpression")return r(f.object)+"."+r(f.property)},i=function(f,p){const g=p.acorn||e1(),A=n(g),b=g.tokTypes,F=A.tokTypes,L=g.tokContexts,M=A.tokContexts.tc_oTag,R=A.tokContexts.tc_cTag,k=A.tokContexts.tc_expr,P=g.isNewLine,q=g.isIdentifierStart,G=g.isIdentifierChar;return class extends p{static get acornJsx(){return A}jsx_readToken(){let d="",I=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let x=this.input.charCodeAt(this.pos);switch(x){case 60:case 123:return this.pos===this.start?x===60&&this.exprAllowed?(++this.pos,this.finishToken(F.jsxTagStart)):this.getTokenFromCode(x):(d+=this.input.slice(I,this.pos),this.finishToken(F.jsxText,d));case 38:d+=this.input.slice(I,this.pos),d+=this.jsx_readEntity(),I=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(x===62?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:P(x)?(d+=this.input.slice(I,this.pos),d+=this.jsx_readNewLine(!0),I=this.pos):++this.pos}}}jsx_readNewLine(d){let I=this.input.charCodeAt(this.pos),x;return++this.pos,I===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,x=d?`
`:`\r
`):x=String.fromCharCode(I),this.options.locations&&(++this.curLine,this.lineStart=this.pos),x}jsx_readString(d){let I="",x=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let S=this.input.charCodeAt(this.pos);if(S===d)break;S===38?(I+=this.input.slice(x,this.pos),I+=this.jsx_readEntity(),x=this.pos):P(S)?(I+=this.input.slice(x,this.pos),I+=this.jsx_readNewLine(!1),x=this.pos):++this.pos}return I+=this.input.slice(x,this.pos++),this.finishToken(b.string,I)}jsx_readEntity(){let d="",I=0,x,S=this.input[this.pos];S!=="&"&&this.raise(this.pos,"Entity must start with an ampersand");let D=++this.pos;for(;this.pos<this.input.length&&I++<10;){if(S=this.input[this.pos++],S===";"){d[0]==="#"?d[1]==="x"?(d=d.substr(2),a.test(d)&&(x=String.fromCharCode(parseInt(d,16)))):(d=d.substr(1),u.test(d)&&(x=String.fromCharCode(parseInt(d,10)))):x=s[d];break}d+=S}return x||(this.pos=D,"&")}jsx_readWord(){let d,I=this.pos;do d=this.input.charCodeAt(++this.pos);while(G(d)||d===45);return this.finishToken(F.jsxName,this.input.slice(I,this.pos))}jsx_parseIdentifier(){let d=this.startNode();return this.type===F.jsxName?d.name=this.value:this.type.keyword?d.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(d,"JSXIdentifier")}jsx_parseNamespacedName(){let d=this.start,I=this.startLoc,x=this.jsx_parseIdentifier();if(!f.allowNamespaces||!this.eat(b.colon))return x;var S=this.startNodeAt(d,I);return S.namespace=x,S.name=this.jsx_parseIdentifier(),this.finishNode(S,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===F.jsxTagEnd)return"";let d=this.start,I=this.startLoc,x=this.jsx_parseNamespacedName();for(this.type===b.dot&&x.type==="JSXNamespacedName"&&!f.allowNamespacedObjects&&this.unexpected();this.eat(b.dot);){let S=this.startNodeAt(d,I);S.object=x,S.property=this.jsx_parseIdentifier(),x=this.finishNode(S,"JSXMemberExpression")}return x}jsx_parseAttributeValue(){switch(this.type){case b.braceL:let d=this.jsx_parseExpressionContainer();return d.expression.type==="JSXEmptyExpression"&&this.raise(d.start,"JSX attributes must only be assigned a non-empty expression"),d;case F.jsxTagStart:case b.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let d=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(d,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let d=this.startNode();return this.next(),d.expression=this.type===b.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(b.braceR),this.finishNode(d,"JSXExpressionContainer")}jsx_parseAttribute(){let d=this.startNode();return this.eat(b.braceL)?(this.expect(b.ellipsis),d.argument=this.parseMaybeAssign(),this.expect(b.braceR),this.finishNode(d,"JSXSpreadAttribute")):(d.name=this.jsx_parseNamespacedName(),d.value=this.eat(b.eq)?this.jsx_parseAttributeValue():null,this.finishNode(d,"JSXAttribute"))}jsx_parseOpeningElementAt(d,I){let x=this.startNodeAt(d,I);x.attributes=[];let S=this.jsx_parseElementName();for(S&&(x.name=S);this.type!==b.slash&&this.type!==F.jsxTagEnd;)x.attributes.push(this.jsx_parseAttribute());x.selfClosing=this.eat(b.slash),this.expect(F.jsxTagEnd);const D=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];return f.autoCloseVoidElements&&S&&D.includes(S.name)&&(x.selfClosing=!0),this.finishNode(x,S?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(d,I){let x=this.startNodeAt(d,I),S=this.jsx_parseElementName();return S&&(x.name=S),this.expect(F.jsxTagEnd),this.finishNode(x,S?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(d,I){let x=this.startNodeAt(d,I),S=[],D=this.jsx_parseOpeningElementAt(d,I),B=null;if(!D.selfClosing){e:for(;;)switch(this.type){case F.jsxTagStart:if(d=this.start,I=this.startLoc,this.next(),this.eat(b.slash)){B=this.jsx_parseClosingElementAt(d,I);break e}S.push(this.jsx_parseElementAt(d,I));break;case F.jsxText:S.push(this.parseExprAtom());break;case b.braceL:S.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}r(B.name)!==r(D.name)&&this.raise(B.start,"Expected corresponding JSX closing tag for <"+r(D.name)+">")}let U=D.name?"Element":"Fragment";return x["opening"+U]=D,x["closing"+U]=B,x.children=S,this.type===b.relational&&this.value==="<"&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(x,"JSX"+U)}jsx_parseText(){let d=this.parseLiteral(this.value);return d.type="JSXText",d}jsx_parseElement(){let d=this.start,I=this.startLoc;return this.next(),this.jsx_parseElementAt(d,I)}parseExprAtom(d){return this.type===F.jsxText?this.jsx_parseText():this.type===F.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(d)}readToken(d){let I=this.curContext();if(I===k)return this.jsx_readToken();if(I===M||I===R){if(q(d))return this.jsx_readWord();if(d==62)return++this.pos,this.finishToken(F.jsxTagEnd);if((d===34||d===39)&&I==M)return this.jsx_readString(d)}return d===60&&this.exprAllowed&&this.input.charCodeAt(this.pos+1)!==33?(++this.pos,this.finishToken(F.jsxTagStart)):super.readToken(d)}updateContext(d){if(this.type==b.braceL){var I=this.curContext();I==M?this.context.push(L.b_expr):I==k?this.context.push(L.b_tmpl):super.updateContext(d),this.exprAllowed=!0}else if(this.type===b.slash&&d===F.jsxTagStart)this.context.length-=2,this.context.push(R),this.exprAllowed=!1;else return super.updateContext(d)}}},s=eO(),a=/^[\da-fA-F]+$/,u=/^\d+$/,c=new WeakMap;e.exports=function(f){return f=f||{},function(p){return i({allowNamespaces:f.allowNamespaces!==!1,allowNamespacedObjects:!!f.allowNamespacedObjects,autoCloseVoidElements:!!f.autoCloseVoidElements},p)}},Object.defineProperty(e.exports,"tokTypes",{get:function(){return n(e1()).tokTypes},configurable:!0,enumerable:!0})}),nO=vc((t,e)=>{(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),M=Symbol.iterator,R="@@iterator";function k(E){if(E===null||typeof E!="object")return null;var O=M&&E[M]||E[R];return typeof O=="function"?O:null}var P={current:null},q={transition:null},G={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},d={current:null},I={},x=null;function S(E){x=E}I.setExtraStackFrame=function(E){x=E},I.getCurrentStack=null,I.getStackAddendum=function(){var E="";x&&(E+=x);var O=I.getCurrentStack;return O&&(E+=O()||""),E};var D=!1,B=!1,U=!1,V=!1,He=!1,Pt={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:q,ReactCurrentOwner:d};Pt.ReactDebugCurrentFrame=I,Pt.ReactCurrentActQueue=G;function Bt(E){{for(var O=arguments.length,Y=new Array(O>1?O-1:0),J=1;J<O;J++)Y[J-1]=arguments[J];ae("warn",E,Y)}}function de(E){{for(var O=arguments.length,Y=new Array(O>1?O-1:0),J=1;J<O;J++)Y[J-1]=arguments[J];ae("error",E,Y)}}function ae(E,O,Y){{var J=Pt.ReactDebugCurrentFrame,ie=J.getStackAddendum();ie!==""&&(O+="%s",Y=Y.concat([ie]));var Re=Y.map(function(pe){return String(pe)});Re.unshift("Warning: "+O),Function.prototype.apply.call(console[E],console,Re)}}var ve={};function we(E,O){{var Y=E.constructor,J=Y&&(Y.displayName||Y.name)||"ReactClass",ie=J+"."+O;if(ve[ie])return;de("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",O,J),ve[ie]=!0}}var Ge={isMounted:function(E){return!1},enqueueForceUpdate:function(E,O,Y){we(E,"forceUpdate")},enqueueReplaceState:function(E,O,Y,J){we(E,"replaceState")},enqueueSetState:function(E,O,Y,J){we(E,"setState")}},Ne=Object.assign,Qe={};Object.freeze(Qe);function dt(E,O,Y){this.props=E,this.context=O,this.refs=Qe,this.updater=Y||Ge}dt.prototype.isReactComponent={},dt.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},dt.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};{var St={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Ht=function(E,O){Object.defineProperty(dt.prototype,E,{get:function(){Bt("%s(...) is deprecated in plain JavaScript React classes. %s",O[0],O[1])}})};for(var wn in St)St.hasOwnProperty(wn)&&Ht(wn,St[wn])}function Ri(){}Ri.prototype=dt.prototype;function wr(E,O,Y){this.props=E,this.context=O,this.refs=Qe,this.updater=Y||Ge}var An=wr.prototype=new Ri;An.constructor=wr,Ne(An,dt.prototype),An.isPureReactComponent=!0;function jr(){var E={current:null};return Object.seal(E),E}var Lt=Array.isArray;function dn(E){return Lt(E)}function ui(E){{var O=typeof Symbol=="function"&&Symbol.toStringTag,Y=O&&E[Symbol.toStringTag]||E.constructor.name||"Object";return Y}}function li(E){try{return Dn(E),!1}catch{return!0}}function Dn(E){return""+E}function ur(E){if(li(E))return de("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ui(E)),Dn(E)}function ts(E,O,Y){var J=E.displayName;if(J)return J;var ie=O.displayName||O.name||"";return ie!==""?Y+"("+ie+")":Y}function Ur(E){return E.displayName||"Context"}function sn(E){if(E==null)return null;if(typeof E.tag=="number"&&de("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case s:return"Fragment";case i:return"Portal";case u:return"Profiler";case a:return"StrictMode";case g:return"Suspense";case A:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case f:var O=E;return Ur(O)+".Consumer";case c:var Y=E;return Ur(Y._context)+".Provider";case p:return ts(E,E.render,"ForwardRef");case b:var J=E.displayName||null;return J!==null?J:sn(E.type)||"Memo";case F:{var ie=E,Re=ie._payload,pe=ie._init;try{return sn(pe(Re))}catch{return null}}}return null}var lr=Object.prototype.hasOwnProperty,Fn={key:!0,ref:!0,__self:!0,__source:!0},ci,Yn,Xn;Xn={};function je(E){if(lr.call(E,"ref")){var O=Object.getOwnPropertyDescriptor(E,"ref").get;if(O&&O.isReactWarning)return!1}return E.ref!==void 0}function st(E){if(lr.call(E,"key")){var O=Object.getOwnPropertyDescriptor(E,"key").get;if(O&&O.isReactWarning)return!1}return E.key!==void 0}function pt(E,O){var Y=function(){ci||(ci=!0,de("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",O))};Y.isReactWarning=!0,Object.defineProperty(E,"key",{get:Y,configurable:!0})}function Ln(E,O){var Y=function(){Yn||(Yn=!0,de("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",O))};Y.isReactWarning=!0,Object.defineProperty(E,"ref",{get:Y,configurable:!0})}function zr(E){if(typeof E.ref=="string"&&d.current&&E.__self&&d.current.stateNode!==E.__self){var O=sn(d.current.type);Xn[O]||(de('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',O,E.ref),Xn[O]=!0)}}var fe=function(E,O,Y,J,ie,Re,pe){var Fe={$$typeof:r,type:E,key:O,ref:Y,props:pe,_owner:Re};return Fe._store={},Object.defineProperty(Fe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Fe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:J}),Object.defineProperty(Fe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ie}),Object.freeze&&(Object.freeze(Fe.props),Object.freeze(Fe)),Fe};function Ar(E,O,Y){var J,ie={},Re=null,pe=null,Fe=null,Xe=null;if(O!=null){je(O)&&(pe=O.ref,zr(O)),st(O)&&(ur(O.key),Re=""+O.key),Fe=O.__self===void 0?null:O.__self,Xe=O.__source===void 0?null:O.__source;for(J in O)lr.call(O,J)&&!Fn.hasOwnProperty(J)&&(ie[J]=O[J])}var ct=arguments.length-2;if(ct===1)ie.children=Y;else if(ct>1){for(var Tt=Array(ct),xt=0;xt<ct;xt++)Tt[xt]=arguments[xt+2];Object.freeze&&Object.freeze(Tt),ie.children=Tt}if(E&&E.defaultProps){var yt=E.defaultProps;for(J in yt)ie[J]===void 0&&(ie[J]=yt[J])}if(Re||pe){var Mt=typeof E=="function"?E.displayName||E.name||"Unknown":E;Re&&pt(ie,Mt),pe&&Ln(ie,Mt)}return fe(E,Re,pe,Fe,Xe,d.current,ie)}function Jn(E,O){var Y=fe(E.type,O,E.ref,E._self,E._source,E._owner,E.props);return Y}function ns(E,O,Y){if(E==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var J,ie=Ne({},E.props),Re=E.key,pe=E.ref,Fe=E._self,Xe=E._source,ct=E._owner;if(O!=null){je(O)&&(pe=O.ref,ct=d.current),st(O)&&(ur(O.key),Re=""+O.key);var Tt;E.type&&E.type.defaultProps&&(Tt=E.type.defaultProps);for(J in O)lr.call(O,J)&&!Fn.hasOwnProperty(J)&&(O[J]===void 0&&Tt!==void 0?ie[J]=Tt[J]:ie[J]=O[J])}var xt=arguments.length-2;if(xt===1)ie.children=Y;else if(xt>1){for(var yt=Array(xt),Mt=0;Mt<xt;Mt++)yt[Mt]=arguments[Mt+2];ie.children=yt}return fe(E.type,Re,pe,Fe,Xe,ct,ie)}function an(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}var hi=".",Ls=":";function Ni(E){var O=/[=:]/g,Y={"=":"=0",":":"=2"},J=E.replace(O,function(ie){return Y[ie]});return"$"+J}var Zn=!1,Jt=/\/+/g;function Rt(E){return E.replace(Jt,"$&/")}function Ke(E,O){return typeof E=="object"&&E!==null&&E.key!=null?(ur(E.key),Ni(""+E.key)):O.toString(36)}function on(E,O,Y,J,ie){var Re=typeof E;(Re==="undefined"||Re==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(Re){case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case r:case i:pe=!0}}if(pe){var Fe=E,Xe=ie(Fe),ct=J===""?hi+Ke(Fe,0):J;if(dn(Xe)){var Tt="";ct!=null&&(Tt=Rt(ct)+"/"),on(Xe,O,Tt,"",function(Tc){return Tc})}else Xe!=null&&(an(Xe)&&(Xe.key&&(!Fe||Fe.key!==Xe.key)&&ur(Xe.key),Xe=Jn(Xe,Y+(Xe.key&&(!Fe||Fe.key!==Xe.key)?Rt(""+Xe.key)+"/":"")+ct)),O.push(Xe));return 1}var xt,yt,Mt=0,Zt=J===""?hi:J+Ls;if(dn(E))for(var Ms=0;Ms<E.length;Ms++)xt=E[Ms],yt=Zt+Ke(xt,Ms),Mt+=on(xt,O,Y,yt,ie);else{var Pa=k(E);if(typeof Pa=="function"){var Fu=E;Pa===Fu.entries&&(Zn||Bt("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Zn=!0);for(var vo=Pa.call(Fu),Lu,Ic=0;!(Lu=vo.next()).done;)xt=Lu.value,yt=Zt+Ke(xt,Ic++),Mt+=on(xt,O,Y,yt,ie)}else if(Re==="object"){var Li=String(E);throw new Error("Objects are not valid as a React child (found: "+(Li==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Li)+"). If you meant to render a collection of children, use an array instead.")}}return Mt}function Ae(E,O,Y){if(E==null)return E;var J=[],ie=0;return on(E,J,"","",function(Re){return O.call(Y,Re,ie++)}),J}function Di(E){var O=0;return Ae(E,function(){O++}),O}function $r(E,O,Y){Ae(E,function(){O.apply(this,arguments)},Y)}function rs(E){return Ae(E,function(O){return O})||[]}function xn(E){if(!an(E))throw new Error("React.Children.only expected to receive a single React element child.");return E}function pn(E){var O={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};O.Provider={$$typeof:c,_context:O};var Y=!1,J=!1,ie=!1;{var Re={$$typeof:f,_context:O};Object.defineProperties(Re,{Provider:{get:function(){return J||(J=!0,de("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),O.Provider},set:function(pe){O.Provider=pe}},_currentValue:{get:function(){return O._currentValue},set:function(pe){O._currentValue=pe}},_currentValue2:{get:function(){return O._currentValue2},set:function(pe){O._currentValue2=pe}},_threadCount:{get:function(){return O._threadCount},set:function(pe){O._threadCount=pe}},Consumer:{get:function(){return Y||(Y=!0,de("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),O.Consumer}},displayName:{get:function(){return O.displayName},set:function(pe){ie||(Bt("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",pe),ie=!0)}}}),O.Consumer=Re}return O._currentRenderer=null,O._currentRenderer2=null,O}var Nt=-1,cr=0,j=1,z=2;function K(E){if(E._status===Nt){var O=E._result,Y=O();if(Y.then(function(Re){if(E._status===cr||E._status===Nt){var pe=E;pe._status=j,pe._result=Re}},function(Re){if(E._status===cr||E._status===Nt){var pe=E;pe._status=z,pe._result=Re}}),E._status===Nt){var J=E;J._status=cr,J._result=Y}}if(E._status===j){var ie=E._result;return ie===void 0&&de(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,ie),"default"in ie||de(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,ie),ie.default}else throw E._result}function Z(E){var O={_status:Nt,_result:E},Y={$$typeof:F,_payload:O,_init:K};{var J,ie;Object.defineProperties(Y,{defaultProps:{configurable:!0,get:function(){return J},set:function(Re){de("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),J=Re,Object.defineProperty(Y,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return ie},set:function(Re){de("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),ie=Re,Object.defineProperty(Y,"propTypes",{enumerable:!0})}}})}return Y}function oe(E){E!=null&&E.$$typeof===b?de("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof E!="function"?de("forwardRef requires a render function but was given %s.",E===null?"null":typeof E):E.length!==0&&E.length!==2&&de("forwardRef render functions accept exactly two parameters: props and ref. %s",E.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),E!=null&&(E.defaultProps!=null||E.propTypes!=null)&&de("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var O={$$typeof:p,render:E};{var Y;Object.defineProperty(O,"displayName",{enumerable:!1,configurable:!0,get:function(){return Y},set:function(J){Y=J,!E.name&&!E.displayName&&(E.displayName=J)}})}return O}var ge;ge=Symbol.for("react.module.reference");function Te(E){return!!(typeof E=="string"||typeof E=="function"||E===s||E===u||He||E===a||E===g||E===A||V||E===L||D||B||U||typeof E=="object"&&E!==null&&(E.$$typeof===F||E.$$typeof===b||E.$$typeof===c||E.$$typeof===f||E.$$typeof===p||E.$$typeof===ge||E.getModuleId!==void 0))}function se(E,O){Te(E)||de("memo: The first argument must be a component. Instead received: %s",E===null?"null":typeof E);var Y={$$typeof:b,type:E,compare:O===void 0?null:O};{var J;Object.defineProperty(Y,"displayName",{enumerable:!1,configurable:!0,get:function(){return J},set:function(ie){J=ie,!E.name&&!E.displayName&&(E.displayName=ie)}})}return Y}function _e(){var E=P.current;return E===null&&de(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),E}function xe(E){var O=_e();if(E._context!==void 0){var Y=E._context;Y.Consumer===E?de("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Y.Provider===E&&de("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return O.useContext(E)}function Ce(E){var O=_e();return O.useState(E)}function $e(E,O,Y){var J=_e();return J.useReducer(E,O,Y)}function Ye(E){var O=_e();return O.useRef(E)}function tt(E,O){var Y=_e();return Y.useEffect(E,O)}function We(E,O){var Y=_e();return Y.useInsertionEffect(E,O)}function It(E,O){var Y=_e();return Y.useLayoutEffect(E,O)}function Et(E,O){var Y=_e();return Y.useCallback(E,O)}function qr(E,O){var Y=_e();return Y.useMemo(E,O)}function hr(E,O,Y){var J=_e();return J.useImperativeHandle(E,O,Y)}function Vn(E,O){{var Y=_e();return Y.useDebugValue(E,O)}}function xr(){var E=_e();return E.useTransition()}function On(E){var O=_e();return O.useDeferredValue(E)}function Kt(){var E=_e();return E.useId()}function Bn(E,O,Y){var J=_e();return J.useSyncExternalStore(E,O,Y)}var ce=0,fr,Se,mt,Wt,at,mn,fi;function is(){}is.__reactDisabledLog=!0;function po(){{if(ce===0){fr=console.log,Se=console.info,mt=console.warn,Wt=console.error,at=console.group,mn=console.groupCollapsed,fi=console.groupEnd;var E={configurable:!0,enumerable:!0,value:is,writable:!0};Object.defineProperties(console,{info:E,log:E,warn:E,error:E,group:E,groupCollapsed:E,groupEnd:E})}ce++}}function Cr(){{if(ce--,ce===0){var E={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ne({},E,{value:fr}),info:Ne({},E,{value:Se}),warn:Ne({},E,{value:mt}),error:Ne({},E,{value:Wt}),group:Ne({},E,{value:at}),groupCollapsed:Ne({},E,{value:mn}),groupEnd:Ne({},E,{value:fi})})}ce<0&&de("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var un=Pt.ReactCurrentDispatcher,Vs;function ss(E,O,Y){{if(Vs===void 0)try{throw Error()}catch(ie){var J=ie.stack.trim().match(/\n( *(at )?)/);Vs=J&&J[1]||""}return`
`+Vs+E}}var Sr=!1,Mn;{var Os=typeof WeakMap=="function"?WeakMap:Map;Mn=new Os}function as(E,O){if(!E||Sr)return"";{var Y=Mn.get(E);if(Y!==void 0)return Y}var J;Sr=!0;var ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Re;Re=un.current,un.current=null,po();try{if(O){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(Zt){J=Zt}Reflect.construct(E,[],pe)}else{try{pe.call()}catch(Zt){J=Zt}E.call(pe.prototype)}}else{try{throw Error()}catch(Zt){J=Zt}E()}}catch(Zt){if(Zt&&J&&typeof Zt.stack=="string"){for(var Fe=Zt.stack.split(`
`),Xe=J.stack.split(`
`),ct=Fe.length-1,Tt=Xe.length-1;ct>=1&&Tt>=0&&Fe[ct]!==Xe[Tt];)Tt--;for(;ct>=1&&Tt>=0;ct--,Tt--)if(Fe[ct]!==Xe[Tt]){if(ct!==1||Tt!==1)do if(ct--,Tt--,Tt<0||Fe[ct]!==Xe[Tt]){var xt=`
`+Fe[ct].replace(" at new "," at ");return E.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",E.displayName)),typeof E=="function"&&Mn.set(E,xt),xt}while(ct>=1&&Tt>=0);break}}}finally{Sr=!1,un.current=Re,Cr(),Error.prepareStackTrace=ie}var yt=E?E.displayName||E.name:"",Mt=yt?ss(yt):"";return typeof E=="function"&&Mn.set(E,Mt),Mt}function os(E,O,Y){return as(E,!1)}function gt(E){var O=E.prototype;return!!(O&&O.isReactComponent)}function Hr(E,O,Y){if(E==null)return"";if(typeof E=="function")return as(E,gt(E));if(typeof E=="string")return ss(E);switch(E){case g:return ss("Suspense");case A:return ss("SuspenseList")}if(typeof E=="object")switch(E.$$typeof){case p:return os(E.render);case b:return Hr(E.type,O,Y);case F:{var J=E,ie=J._payload,Re=J._init;try{return Hr(Re(ie),O,Y)}catch{}}}return""}var di={},Ir=Pt.ReactDebugCurrentFrame;function ze(E){if(E){var O=E._owner,Y=Hr(E.type,E._source,O?O.type:null);Ir.setExtraStackFrame(Y)}else Ir.setExtraStackFrame(null)}function mo(E,O,Y,J,ie){{var Re=Function.call.bind(lr);for(var pe in E)if(Re(E,pe)){var Fe=void 0;try{if(typeof E[pe]!="function"){var Xe=Error((J||"React class")+": "+Y+" type `"+pe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof E[pe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}Fe=E[pe](O,pe,J,Y,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ct){Fe=ct}Fe&&!(Fe instanceof Error)&&(ze(ie),de("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",J||"React class",Y,pe,typeof Fe),ze(null)),Fe instanceof Error&&!(Fe.message in di)&&(di[Fe.message]=!0,ze(ie),de("Failed %s type: %s",Y,Fe.message),ze(null))}}}function pi(E){if(E){var O=E._owner,Y=Hr(E.type,E._source,O?O.type:null);S(Y)}else S(null)}var Bs;Bs=!1;function ba(){if(d.current){var E=sn(d.current.type);if(E)return`

Check the render method of \``+E+"`."}return""}function Ru(E){if(E!==void 0){var O=E.fileName.replace(/^.*[\\\/]/,""),Y=E.lineNumber;return`

Check your code at `+O+":"+Y+"."}return""}function us(E){return E!=null?Ru(E.__source):""}var Tr={};function o(E){var O=ba();if(!O){var Y=typeof E=="string"?E:E.displayName||E.name;Y&&(O=`

Check the top-level render call using <`+Y+">.")}return O}function h(E,O){if(!(!E._store||E._store.validated||E.key!=null)){E._store.validated=!0;var Y=o(O);if(!Tr[Y]){Tr[Y]=!0;var J="";E&&E._owner&&E._owner!==d.current&&(J=" It was passed a child from "+sn(E._owner.type)+"."),pi(E),de('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Y,J),pi(null)}}}function v(E,O){if(typeof E=="object"){if(dn(E))for(var Y=0;Y<E.length;Y++){var J=E[Y];an(J)&&h(J,O)}else if(an(E))E._store&&(E._store.validated=!0);else if(E){var ie=k(E);if(typeof ie=="function"&&ie!==E.entries)for(var Re=ie.call(E),pe;!(pe=Re.next()).done;)an(pe.value)&&h(pe.value,O)}}}function w(E){{var O=E.type;if(O==null||typeof O=="string")return;var Y;if(typeof O=="function")Y=O.propTypes;else if(typeof O=="object"&&(O.$$typeof===p||O.$$typeof===b))Y=O.propTypes;else return;if(Y){var J=sn(O);mo(Y,E.props,"prop",J,E)}else if(O.PropTypes!==void 0&&!Bs){Bs=!0;var ie=sn(O);de("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ie||"Unknown")}typeof O.getDefaultProps=="function"&&!O.getDefaultProps.isReactClassApproved&&de("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function N(E){{for(var O=Object.keys(E.props),Y=0;Y<O.length;Y++){var J=O[Y];if(J!=="children"&&J!=="key"){pi(E),de("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",J),pi(null);break}}E.ref!==null&&(pi(E),de("Invalid attribute `ref` supplied to `React.Fragment`."),pi(null))}}function $(E,O,Y){var J=Te(E);if(!J){var ie="";(E===void 0||typeof E=="object"&&E!==null&&Object.keys(E).length===0)&&(ie+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Re=us(O);Re?ie+=Re:ie+=ba();var pe;E===null?pe="null":dn(E)?pe="array":E!==void 0&&E.$$typeof===r?(pe="<"+(sn(E.type)||"Unknown")+" />",ie=" Did you accidentally export a JSX literal instead of a component?"):pe=typeof E,de("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",pe,ie)}var Fe=Ar.apply(this,arguments);if(Fe==null)return Fe;if(J)for(var Xe=2;Xe<arguments.length;Xe++)v(arguments[Xe],E);return E===s?N(Fe):w(Fe),Fe}var Q=!1;function ne(E){var O=$.bind(null,E);return O.type=E,Q||(Q=!0,Bt("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(O,"type",{enumerable:!1,get:function(){return Bt("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:E}),E}}),O}function ue(E,O,Y){for(var J=ns.apply(this,arguments),ie=2;ie<arguments.length;ie++)v(arguments[ie],J.type);return w(J),J}function Ve(E,O){var Y=q.transition;q.transition={};var J=q.transition;q.transition._updatedFibers=new Set;try{E()}finally{if(q.transition=Y,Y===null&&J._updatedFibers){var ie=J._updatedFibers.size;ie>10&&Bt("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),J._updatedFibers.clear()}}}var Pe=!1,vt=null;function Wr(E){if(vt===null)try{var O=("require"+Math.random()).slice(0,7),Y=e&&e[O];vt=Y.call(e,"timers").setImmediate}catch{vt=function(ie){Pe===!1&&(Pe=!0,typeof MessageChannel>"u"&&de("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Re=new MessageChannel;Re.port1.onmessage=ie,Re.port2.postMessage(void 0)}}return vt(E)}var gn=0,er=!1;function Fi(E){{var O=gn;gn++,G.current===null&&(G.current=[]);var Y=G.isBatchingLegacy,J;try{if(G.isBatchingLegacy=!0,J=E(),!Y&&G.didScheduleLegacyUpdate){var ie=G.current;ie!==null&&(G.didScheduleLegacyUpdate=!1,Du(ie))}}catch(yt){throw tr(O),yt}finally{G.isBatchingLegacy=Y}if(J!==null&&typeof J=="object"&&typeof J.then=="function"){var Re=J,pe=!1,Fe={then:function(yt,Mt){pe=!0,Re.then(function(Zt){tr(O),gn===0?ot(Zt,yt,Mt):yt(Zt)},function(Zt){tr(O),Mt(Zt)})}};return!er&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){pe||(er=!0,de("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Fe}else{var Xe=J;if(tr(O),gn===0){var ct=G.current;ct!==null&&(Du(ct),G.current=null);var Tt={then:function(yt,Mt){G.current===null?(G.current=[],ot(Xe,yt,Mt)):yt(Xe)}};return Tt}else{var xt={then:function(yt,Mt){yt(Xe)}};return xt}}}}function tr(E){E!==gn-1&&de("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),gn=E}function ot(E,O,Y){{var J=G.current;if(J!==null)try{Du(J),Wr(function(){J.length===0?(G.current=null,O(E)):ot(E,O,Y)})}catch(ie){Y(ie)}else O(E)}}var Nu=!1;function Du(E){if(!Nu){Nu=!0;var O=0;try{for(;O<E.length;O++){var Y=E[O];do Y=Y(!0);while(Y!==null)}E.length=0}catch(J){throw E=E.slice(O+1),J}finally{Nu=!1}}}var xc=$,Cc=ue,Sc=ne,go={map:Ae,forEach:$r,count:Di,toArray:rs,only:xn};t.Children=go,t.Component=dt,t.Fragment=s,t.Profiler=u,t.PureComponent=wr,t.StrictMode=a,t.Suspense=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pt,t.act=Fi,t.cloneElement=Cc,t.createContext=pn,t.createElement=xc,t.createFactory=Sc,t.createRef=jr,t.forwardRef=oe,t.isValidElement=an,t.lazy=Z,t.memo=se,t.startTransition=Ve,t.unstable_act=Fi,t.useCallback=Et,t.useContext=xe,t.useDebugValue=Vn,t.useDeferredValue=On,t.useEffect=tt,t.useId=Kt,t.useImperativeHandle=hr,t.useInsertionEffect=We,t.useLayoutEffect=It,t.useMemo=qr,t.useReducer=$e,t.useRef=Ye,t.useState=Ce,t.useSyncExternalStore=Bn,t.useTransition=xr,t.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}),rO=vc((t,e)=>{var n=Fv(nO());e.exports=n}),Im=function(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1},bs=function(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&AO.test(String.fromCharCode(t)):e===!1?!1:Im(t,qC)},du=function(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&xO.test(String.fromCharCode(t)):e===!1?!1:Im(t,qC)||Im(t,yO)},Gr=function(t,e){return new ut(t,{beforeExpr:!0,binop:e})},nt=function(t,e){return e===void 0&&(e={}),e.keyword=t,Vv[t]=new ut(t,e)},ku=function(t){return t===10||t===13||t===8232||t===8233},DC=function(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(ku(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1},na=function(t){return n1[t]||(n1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))},Ea=function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))},FC=function(t,e){for(var n=1,r=0;;){var i=DC(t,r,e);if(i<0)return new Xl(n,e-r);++n,r=i}},iO=function(t){var e={};for(var n in km)e[n]=t&&yc(t,n)?t[n]:km[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!r1&&typeof console=="object"&&console.warn&&(r1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),t1(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return t1(e.onComment)&&(e.onComment=sO(e,e.onComment)),e},sO=function(t,e){return function(n,r,i,s,a,u){var c={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(c.loc=new ld(this,a,u)),t.ranges&&(c.range=[i,s]),e.push(c)}},Lv=function(t,e){return bu|(t?Ov:0)|(e?KC:0)},aO=function(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)},pf=function(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)},LC=function(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&LC(t.expression)},Tm=function(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Tm(t.expression)||t.type==="ParenthesizedExpression"&&Tm(t.expression)},VC=function(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t},oO=function(t){var e=fS[t]={binary:na(FO[t]+" "+i1),binaryOfStrings:na(VO[t]),nonBinary:{General_Category:na(i1),Script:na(BO[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions},uO=function(t){for(var e in t)return!0;return!1},OC=function(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125},lO=function(t){return bs(t,!0)||t===36||t===95},cO=function(t){return du(t,!0)||t===36||t===95||t===8204||t===8205},BC=function(t){return t>=65&&t<=90||t>=97&&t<=122},hO=function(t){return t>=0&&t<=1114111},fO=function(t){return t===100||t===68||t===115||t===83||t===119||t===87},MC=function(t){return BC(t)||t===95},dO=function(t){return MC(t)||ud(t)},pO=function(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126},mO=function(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125},gO=function(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126},ud=function(t){return t>=48&&t<=57},jC=function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},UC=function(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48},zC=function(t){return t>=48&&t<=55},vO=function(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))},$C=function(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))},yO=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],qC=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_O="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",HC="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ip={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},sp="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",EO={5:sp,"5module":sp+" export import",6:sp+" const class extends export import super"},wO=/^in(stanceof)?$/,AO=new RegExp("["+HC+"]"),xO=new RegExp("["+HC+_O+"]"),ut=function(e,n){n===void 0&&(n={}),this.label=e,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null},Kr={beforeExpr:!0},dr={startsExpr:!0},Vv={},C={num:new ut("num",dr),regexp:new ut("regexp",dr),string:new ut("string",dr),name:new ut("name",dr),privateId:new ut("privateId",dr),eof:new ut("eof"),bracketL:new ut("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ut("]"),braceL:new ut("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ut("}"),parenL:new ut("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ut(")"),comma:new ut(",",Kr),semi:new ut(";",Kr),colon:new ut(":",Kr),dot:new ut("."),question:new ut("?",Kr),questionDot:new ut("?."),arrow:new ut("=>",Kr),template:new ut("template"),invalidTemplate:new ut("invalidTemplate"),ellipsis:new ut("...",Kr),backQuote:new ut("`",dr),dollarBraceL:new ut("${",{beforeExpr:!0,startsExpr:!0}),eq:new ut("=",{beforeExpr:!0,isAssign:!0}),assign:new ut("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ut("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ut("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Gr("||",1),logicalAND:Gr("&&",2),bitwiseOR:Gr("|",3),bitwiseXOR:Gr("^",4),bitwiseAND:Gr("&",5),equality:Gr("==/!=/===/!==",6),relational:Gr("</>/<=/>=",7),bitShift:Gr("<</>>/>>>",8),plusMin:new ut("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Gr("%",10),star:Gr("*",10),slash:Gr("/",10),starstar:new ut("**",{beforeExpr:!0}),coalesce:Gr("??",1),_break:nt("break"),_case:nt("case",Kr),_catch:nt("catch"),_continue:nt("continue"),_debugger:nt("debugger"),_default:nt("default",Kr),_do:nt("do",{isLoop:!0,beforeExpr:!0}),_else:nt("else",Kr),_finally:nt("finally"),_for:nt("for",{isLoop:!0}),_function:nt("function",dr),_if:nt("if"),_return:nt("return",Kr),_switch:nt("switch"),_throw:nt("throw",Kr),_try:nt("try"),_var:nt("var"),_const:nt("const"),_while:nt("while",{isLoop:!0}),_with:nt("with"),_new:nt("new",{beforeExpr:!0,startsExpr:!0}),_this:nt("this",dr),_super:nt("super",dr),_class:nt("class",dr),_extends:nt("extends",Kr),_export:nt("export"),_import:nt("import",dr),_null:nt("null",dr),_true:nt("true",dr),_false:nt("false",dr),_in:nt("in",{beforeExpr:!0,binop:7}),_instanceof:nt("instanceof",{beforeExpr:!0,binop:7}),_typeof:nt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:nt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:nt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ai=/\r\n?|\n|\u2028|\u2029/,CO=new RegExp(ai.source,"g"),WC=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Xr=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,GC=Object.prototype,SO=GC.hasOwnProperty,IO=GC.toString,yc=Object.hasOwn||function(t,e){return SO.call(t,e)},t1=Array.isArray||function(t){return IO.call(t)==="[object Array]"},n1=Object.create(null),TO=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Xl=function(e,n){this.line=e,this.column=n};Xl.prototype.offset=function(e){return new Xl(this.line,this.column+e)};var ld=function(e,n,r){this.start=n,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)},km={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},r1=!1,Jl=1,bu=2,Ov=4,KC=8,QC=16,YC=32,Bv=64,XC=128,_c=256,Mv=Jl|bu|_c,mf=0,jv=1,Fs=2,JC=3,ZC=4,eS=5,fn=function(e,n,r){this.options=e=iO(e),this.sourceFile=e.sourceFile,this.keywords=na(EO[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var i="";e.allowReserved!==!0&&(i=ip[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(i+=" await")),this.reservedWords=na(i);var s=(i?i+" ":"")+ip.strict;this.reservedWordsStrict=na(s),this.reservedWordsStrictBind=na(s+" "+ip.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ai).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=C.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Jl),this.regexpState=null,this.privateNameStack=[]},Zi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};fn.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Zi.inFunction.get=function(){return(this.currentVarScope().flags&bu)>0};Zi.inGenerator.get=function(){return(this.currentVarScope().flags&KC)>0&&!this.currentVarScope().inClassFieldInit};Zi.inAsync.get=function(){return(this.currentVarScope().flags&Ov)>0&&!this.currentVarScope().inClassFieldInit};Zi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&_c)return!1;if(e.flags&bu)return(e.flags&Ov)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Zi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&Bv)>0||n||this.options.allowSuperOutsideMethod};Zi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&XC)>0};Zi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Zi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(bu|_c))>0||n};Zi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&_c)>0};fn.extend=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r};fn.parse=function(e,n){return new this(n,e).parse()};fn.parseExpressionAt=function(e,n,r){var i=new this(r,e,n);return i.nextToken(),i.parseExpression()};fn.tokenizer=function(e,n){return new this(n,e)};Object.defineProperties(fn.prototype,Zi);var or=fn.prototype,kO=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;or.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Xr.lastIndex=t,t+=Xr.exec(this.input)[0].length;var e=kO.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Xr.lastIndex=t+e[0].length;var n=Xr.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ai.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,Xr.lastIndex=t,t+=Xr.exec(this.input)[0].length,this.input[t]===";"&&t++}};or.eat=function(t){return this.type===t?(this.next(),!0):!1};or.isContextual=function(t){return this.type===C.name&&this.value===t&&!this.containsEsc};or.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};or.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};or.canInsertSemicolon=function(){return this.type===C.eof||this.type===C.braceR||ai.test(this.input.slice(this.lastTokEnd,this.start))};or.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};or.semicolon=function(){!this.eat(C.semi)&&!this.insertSemicolon()&&this.unexpected()};or.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};or.expect=function(t){this.eat(t)||this.unexpected()};or.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var cd=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};or.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};or.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};or.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};or.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Ie=fn.prototype;Ie.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==C.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Uv={kind:"loop"},bO={kind:"switch"};Ie.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Xr.lastIndex=this.pos;var e=Xr.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(bs(r,!0)){for(var i=n+1;du(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!wO.test(s))return!0}return!1};Ie.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Xr.lastIndex=this.pos;var t=Xr.exec(this.input),e=this.pos+t[0].length,n;return!ai.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(du(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};Ie.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(t)&&(r=C._var,s="let"),r){case C._break:case C._continue:return this.parseBreakContinueStatement(i,r.keyword);case C._debugger:return this.parseDebuggerStatement(i);case C._do:return this.parseDoStatement(i);case C._for:return this.parseForStatement(i);case C._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case C._class:return t&&this.unexpected(),this.parseClass(i,!0);case C._if:return this.parseIfStatement(i);case C._return:return this.parseReturnStatement(i);case C._switch:return this.parseSwitchStatement(i);case C._throw:return this.parseThrowStatement(i);case C._try:return this.parseTryStatement(i);case C._const:case C._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case C._while:return this.parseWhileStatement(i);case C._with:return this.parseWithStatement(i);case C.braceL:return this.parseBlock(!0,i);case C.semi:return this.parseEmptyStatement(i);case C._export:case C._import:if(this.options.ecmaVersion>10&&r===C._import){Xr.lastIndex=this.pos;var a=Xr.exec(this.input),u=this.pos+a[0].length,c=this.input.charCodeAt(u);if(c===40||c===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===C._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var f=this.value,p=this.parseExpression();return r===C.name&&p.type==="Identifier"&&this.eat(C.colon)?this.parseLabeledStatement(i,f,p,t):this.parseExpressionStatement(i,p)}};Ie.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(C.semi)||this.insertSemicolon()?t.label=null:this.type!==C.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};Ie.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Ie.parseDoStatement=function(t){return this.next(),this.labels.push(Uv),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(C._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(C.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Ie.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Uv),this.enterScope(0),this.expect(C.parenL),this.type===C.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===C._var||this.type===C._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===C._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),a=!1,u=this.containsEsc,c=new cd,f=this.start,p=e>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===C._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===C._in&&this.unexpected(e),t.await=!0):a&&this.options.ecmaVersion>=8&&(p.start===f&&!u&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),s&&a&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,c),this.checkLValPattern(p),this.parseForIn(t,p)):(this.checkExpressionErrors(c,!0),e>-1&&this.unexpected(e),this.parseFor(t,p))};Ie.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,_l|(n?0:bm),!1,e)};Ie.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(C._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Ie.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(C.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Ie.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(C.braceL),this.labels.push(bO),this.enterScope(0);for(var e,n=!1;this.type!==C.braceR;)if(this.type===C._case||this.type===C._default){var r=this.type===C._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(C.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Ie.parseThrowStatement=function(t){return this.next(),ai.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var PO=[];Ie.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?YC:0),this.checkLValPattern(t,e?ZC:Fs),this.expect(C.parenR),t};Ie.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===C._catch){var e=this.startNode();this.next(),this.eat(C.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(C._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Ie.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Ie.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Uv),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Ie.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Ie.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Ie.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var a=s[i];a.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var u=this.type.isLoop?"loop":this.type===C._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var f=this.labels[c];if(f.statementStart===t.start)f.statementStart=this.start,f.kind=u;else break}return this.labels.push({name:e,kind:u,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};Ie.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Ie.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(C.braceL),t&&this.enterScope(0);this.type!==C.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Ie.parseFor=function(t,e){return t.init=e,this.expect(C.semi),t.test=this.type===C.semi?null:this.parseExpression(),this.expect(C.semi),t.update=this.type===C.parenR?null:this.parseExpression(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Ie.parseForIn=function(t,e){var n=this.type===C._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};Ie.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(C.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===C._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(C.comma))break}return t};Ie.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?jv:Fs,!1)};var _l=1,bm=2,tS=4;Ie.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===C.star&&e&bm&&this.unexpected(),t.generator=this.eat(C.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&_l&&(t.id=e&tS&&this.type!==C.name?null:this.parseIdent(),t.id&&!(e&bm)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?jv:Fs:JC));var s=this.yieldPos,a=this.awaitPos,u=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Lv(t.async,t.generator)),e&_l||(t.id=this.type===C.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=u,this.finishNode(t,e&_l?"FunctionDeclaration":"FunctionExpression")};Ie.parseFunctionParams=function(t){this.expect(C.parenL),t.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Ie.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(C.braceL);this.type!==C.braceR;){var a=this.parseClassElement(t.superClass!==null);a&&(i.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&a.key.type==="PrivateIdentifier"&&aO(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Ie.parseClassElement=function(t){if(this.eat(C.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,a="method",u=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(C.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===C.star?u=!0:r="static"}if(n.static=u,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===C.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(e>=9||!s)&&this.eat(C.star)&&(i=!0),!r&&!s&&!i){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:r=c)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===C.parenL||a!=="method"||i||s){var f=!n.static&&pf(n,"constructor"),p=f&&t;f&&a!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=f?"constructor":a,this.parseClassMethod(n,i,s,p)}else this.parseClassField(n);return n};Ie.isClassElementNameStart=function(){return this.type===C.name||this.type===C.privateId||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword};Ie.parseClassElementName=function(t){this.type===C.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Ie.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&pf(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Ie.parseClassField=function(t){if(pf(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&pf(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(C.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Ie.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(_c|Bv);this.type!==C.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Ie.parseClassId=function(t,e){this.type===C.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Fs,!1)):(e===!0&&this.unexpected(),t.id=null)};Ie.parseClassSuper=function(t){t.superClass=this.eat(C._extends)?this.parseExprSubscripts(null,!1):null};Ie.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Ie.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var a=n[s];yc(e,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};Ie.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};Ie.parseExport=function(t,e){if(this.next(),this.eat(C.star))return this.parseExportAllDeclaration(t,e);if(this.eat(C._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Ie.parseExportDeclaration=function(t){return this.parseStatement(null)};Ie.parseExportDefaultDeclaration=function(){var t;if(this.type===C._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,_l|tS,!1,t)}else if(this.type===C._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};Ie.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),yc(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};Ie.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if(n==="ArrayPattern")for(var a=0,u=e.elements;a<u.length;a+=1){var c=u[a];c&&this.checkPatternExport(t,c)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};Ie.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};Ie.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Ie.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};Ie.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(C.braceL);!this.eat(C.braceR);){if(n)n=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;e.push(this.parseExportSpecifier(t))}return e};Ie.parseImport=function(t){return this.next(),this.type===C.string?(t.specifiers=PO,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===C.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Ie.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Fs),this.finishNode(t,"ImportSpecifier")};Ie.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Fs),this.finishNode(t,"ImportDefaultSpecifier")};Ie.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Fs),this.finishNode(t,"ImportNamespaceSpecifier")};Ie.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===C.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(C.comma)))return t;if(this.type===C.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(C.braceL);!this.eat(C.braceR);){if(e)e=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;t.push(this.parseImportSpecifier())}return t};Ie.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===C.string){var t=this.parseLiteral(this.value);return TO.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Ie.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Ie.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var oi=fn.prototype;oi.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};oi.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};oi.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};oi.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==C.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};oi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case C.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(C.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case C.braceL:return this.parseObj(!0)}return this.parseIdent()};oi.parseBindingList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(C.comma),e&&this.type===C.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===C.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),i.push(a),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};oi.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};oi.parseBindingListItem=function(t){return t};oi.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(C.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};oi.checkLValSimple=function(t,e,n){e===void 0&&(e=mf);var r=e!==mf;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===Fs&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(yc(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==eS&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};oi.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=mf),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var a=0,u=t.elements;a<u.length;a+=1){var c=u[a];c&&this.checkLValInnerPattern(c,e,n)}break;default:this.checkLValSimple(t,e,n)}};oi.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=mf),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var vi=function(e,n,r,i,s){this.token=e,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Ot={b_stat:new vi("{",!1),b_expr:new vi("{",!0),b_tmpl:new vi("${",!1),p_stat:new vi("(",!1),p_expr:new vi("(",!0),q_tmpl:new vi("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new vi("function",!1),f_expr:new vi("function",!0),f_expr_gen:new vi("function",!0,!1,null,!0),f_gen:new vi("function",!1,!1,null,!0)},Pu=fn.prototype;Pu.initialContext=function(){return[Ot.b_stat]};Pu.curContext=function(){return this.context[this.context.length-1]};Pu.braceIsBlock=function(t){var e=this.curContext();return e===Ot.f_expr||e===Ot.f_stat?!0:t===C.colon&&(e===Ot.b_stat||e===Ot.b_expr)?!e.isExpr:t===C._return||t===C.name&&this.exprAllowed?ai.test(this.input.slice(this.lastTokEnd,this.start)):t===C._else||t===C.semi||t===C.eof||t===C.parenR||t===C.arrow?!0:t===C.braceL?e===Ot.b_stat:t===C._var||t===C._const||t===C.name?!1:!this.exprAllowed};Pu.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Pu.updateContext=function(t){var e,n=this.type;n.keyword&&t===C.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Pu.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};C.parenR.updateContext=C.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ot.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};C.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ot.b_stat:Ot.b_expr),this.exprAllowed=!0};C.dollarBraceL.updateContext=function(){this.context.push(Ot.b_tmpl),this.exprAllowed=!0};C.parenL.updateContext=function(t){var e=t===C._if||t===C._for||t===C._with||t===C._while;this.context.push(e?Ot.p_stat:Ot.p_expr),this.exprAllowed=!0};C.incDec.updateContext=function(){};C._function.updateContext=C._class.updateContext=function(t){t.beforeExpr&&t!==C._else&&!(t===C.semi&&this.curContext()!==Ot.p_stat)&&!(t===C._return&&ai.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===C.colon||t===C.braceL)&&this.curContext()===Ot.b_stat)?this.context.push(Ot.f_expr):this.context.push(Ot.f_stat),this.exprAllowed=!1};C.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};C.backQuote.updateContext=function(){this.curContext()===Ot.q_tmpl?this.context.pop():this.context.push(Ot.q_tmpl),this.exprAllowed=!1};C.star.updateContext=function(t){if(t===C._function){var e=this.context.length-1;this.context[e]===Ot.f_expr?this.context[e]=Ot.f_expr_gen:this.context[e]=Ot.f_gen}this.exprAllowed=!0};C.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==C.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Me=fn.prototype;Me.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var a=e[i];if(a){var u;s==="init"?u=this.strict&&a.init||a.get||a.set:u=a.init||a[s],u&&this.raiseRecoverable(r.start,"Redefinition of property")}else a=e[i]={init:!1,get:!1,set:!1};a[s]=!0}};Me.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===C.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(C.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i};Me.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1,a=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new cd,r=!0);var u=this.start,c=this.startLoc;(this.type===C.parenL||this.type===C.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var f=this.parseMaybeConditional(t,e);if(n&&(f=n.call(this,f,u,c)),this.type.isAssign){var p=this.startNodeAt(u,c);return p.operator=this.value,this.type===C.eq&&(f=this.toAssignable(f,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=f.start&&(e.shorthandAssign=-1),this.type===C.eq?this.checkLValPattern(f):this.checkLValSimple(f),p.left=f,this.next(),p.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(p,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),f};Me.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(C.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(C.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i};Me.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};Me.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==C._in)&&s>r){var a=this.type===C.logicalOR||this.type===C.logicalAND,u=this.type===C.coalesce;u&&(s=C.logicalAND.binop);var c=this.value;this.next();var f=this.start,p=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),f,p,s,i),A=this.buildBinary(e,n,t,g,c,a||u);return(a&&this.type===C.coalesce||u&&(this.type===C.logicalOR||this.type===C.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(A,e,n,r,i)}return t};Me.buildBinary=function(t,e,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")};Me.parseMaybeUnary=function(t,e,n,r){var i=this.start,s=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(r),e=!0;else if(this.type.prefix){var u=this.startNode(),c=this.type===C.incDec;u.operator=this.value,u.prefix=!0,this.next(),u.argument=this.parseMaybeUnary(null,!0,c,r),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(u.argument):this.strict&&u.operator==="delete"&&LC(u.argument)?this.raiseRecoverable(u.start,"Deleting local variable in strict mode"):u.operator==="delete"&&Tm(u.argument)?this.raiseRecoverable(u.start,"Private fields can not be deleted"):e=!0,a=this.finishNode(u,c?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===C.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==C._in&&this.unexpected();else{if(a=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var f=this.startNodeAt(i,s);f.operator=this.value,f.prefix=!1,f.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(f,"UpdateExpression")}}if(!n&&this.eat(C.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,a,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return a};Me.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};Me.parseSubscripts=function(t,e,n,r,i){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,a=!1;;){var u=this.parseSubscript(t,e,n,r,s,a,i);if(u.optional&&(a=!0),u===t||u.type==="ArrowFunctionExpression"){if(a){var c=this.startNodeAt(e,n);c.expression=u,u=this.finishNode(c,"ChainExpression")}return u}t=u}};Me.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(C.arrow)};Me.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};Me.parseSubscript=function(t,e,n,r,i,s,a){var u=this.options.ecmaVersion>=11,c=u&&this.eat(C.questionDot);r&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var f=this.eat(C.bracketL);if(f||c&&this.type!==C.parenL&&this.type!==C.backQuote||this.eat(C.dot)){var p=this.startNodeAt(e,n);p.object=t,f?(p.property=this.parseExpression(),this.expect(C.bracketR)):this.type===C.privateId&&t.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!f,u&&(p.optional=c),t=this.finishNode(p,"MemberExpression")}else if(!r&&this.eat(C.parenL)){var g=new cd,A=this.yieldPos,b=this.awaitPos,F=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var L=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1,g);if(i&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=A,this.awaitPos=b,this.awaitIdentPos=F,this.parseSubscriptAsyncArrow(e,n,L,a);this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=F||this.awaitIdentPos;var M=this.startNodeAt(e,n);M.callee=t,M.arguments=L,u&&(M.optional=c),t=this.finishNode(M,"CallExpression")}else if(this.type===C.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,n);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};Me.parseExprAtom=function(t,e,n){this.type===C.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case C._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===C.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==C.dot&&this.type!==C.bracketL&&this.type!==C.parenL&&this.unexpected(),this.finishNode(r,"Super");case C._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case C.name:var s=this.start,a=this.startLoc,u=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!u&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(C._function))return this.overrideContext(Ot.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(C.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[c],!1,e);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===C.name&&!u&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(C.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[c],!0,e)}return c;case C.regexp:var f=this.value;return r=this.parseLiteral(f.value),r.regex={pattern:f.pattern,flags:f.flags},r;case C.num:case C.string:return this.parseLiteral(this.value);case C._null:case C._true:case C._false:return r=this.startNode(),r.value=this.type===C._null?null:this.type===C._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case C.parenL:var p=this.start,g=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=p),t.parenthesizedBind<0&&(t.parenthesizedBind=p)),g;case C.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(C.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case C.braceL:return this.overrideContext(Ot.b_expr),this.parseObj(!1,t);case C._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case C._class:return this.parseClass(this.startNode(),!1);case C._new:return this.parseNew();case C.backQuote:return this.parseTemplate();case C._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Me.parseExprAtomDefault=function(){this.unexpected()};Me.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===C.parenL&&!t)return this.parseDynamicImport(e);if(this.type===C.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};Me.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(C.parenR)){var e=this.start;this.eat(C.comma)&&this.eat(C.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Me.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Me.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Me.parseParenExpression=function(){this.expect(C.parenL);var t=this.parseExpression();return this.expect(C.parenR),t};Me.shouldParseArrow=function(t){return!this.canInsertSemicolon()};Me.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,u=this.startLoc,c=[],f=!0,p=!1,g=new cd,A=this.yieldPos,b=this.awaitPos,F;for(this.yieldPos=0,this.awaitPos=0;this.type!==C.parenR;)if(f?f=!1:this.expect(C.comma),s&&this.afterTrailingComma(C.parenR,!0)){p=!0;break}else if(this.type===C.ellipsis){F=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var L=this.lastTokEnd,M=this.lastTokEndLoc;if(this.expect(C.parenR),t&&this.shouldParseArrow(c)&&this.eat(C.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=A,this.awaitPos=b,this.parseParenArrowList(n,r,c,e);(!c.length||p)&&this.unexpected(this.lastTokStart),F&&this.unexpected(F),this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=b||this.awaitPos,c.length>1?(i=this.startNodeAt(a,u),i.expressions=c,this.finishNodeAt(i,"SequenceExpression",L,M)):i=c[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(n,r);return R.expression=i,this.finishNode(R,"ParenthesizedExpression")}else return i};Me.parseParenItem=function(t){return t};Me.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var RO=[];Me.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===C.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(C.parenL)?t.arguments=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1):t.arguments=RO,this.finishNode(t,"NewExpression")};Me.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===C.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===C.backQuote,this.finishNode(n,"TemplateElement")};Me.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===C.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(C.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(C.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};Me.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===C.name||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===C.star)&&!ai.test(this.input.slice(this.lastTokEnd,this.start))};Me.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(C.braceR);){if(r)r=!1;else if(this.expect(C.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(C.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};Me.parseProperty=function(t,e){var n=this.startNode(),r,i,s,a;if(this.options.ecmaVersion>=9&&this.eat(C.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===C.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(s=this.start,a=this.startLoc),t||(r=this.eat(C.star)));var u=this.containsEsc;return this.parsePropertyName(n),!t&&!u&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(C.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,s,a,e,u),this.finishNode(n,"Property")};Me.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};Me.parsePropertyValue=function(t,e,n,r,i,s,a,u){(n||r)&&this.type===C.colon&&this.unexpected(),this.eat(C.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===C.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!u&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==C.comma&&this.type!==C.braceR&&this.type!==C.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===C.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Me.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(C.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(C.bracketR),t.key;t.computed=!1}return t.key=this.type===C.num||this.type===C.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Me.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Me.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Lv(e,r.generator)|Bv|(n?XC:0)),this.expect(C.parenL),r.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")};Me.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Lv(n,!1)|QC),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")};Me.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==C.braceL,s=this.strict,a=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var u=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||u)&&(a=this.strictDirective(this.end),a&&u&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!s&&!a&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,eS),t.body=this.parseBlock(!1,void 0,a&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()};Me.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};Me.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,jv,e?null:n)}};Me.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(C.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===C.comma?a=null:this.type===C.ellipsis?(a=this.parseSpread(r),r&&this.type===C.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i};Me.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};Me.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Me.parseIdentNode=function(){var t=this.startNode();return this.type===C.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=C.name):this.unexpected(),t};Me.parsePrivateIdent=function(){var t=this.startNode();return this.type===C.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};Me.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===C.semi||this.canInsertSemicolon()||this.type!==C.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(C.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Me.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var gf=fn.prototype;gf.raise=function(t,e){var n=FC(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};gf.raiseRecoverable=gf.raise;gf.curPosition=function(){if(this.options.locations)return new Xl(this.curLine,this.pos-this.lineStart)};var ka=fn.prototype,NO=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ka.enterScope=function(t){this.scopeStack.push(new NO(t))};ka.exitScope=function(){this.scopeStack.pop()};ka.treatFunctionsAsVarInScope=function(t){return t.flags&bu||!this.inModule&&t.flags&Jl};ka.declareName=function(t,e,n){var r=!1;if(e===Fs){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&Jl&&delete this.undefinedExports[t]}else if(e===ZC){var s=this.currentScope();s.lexical.push(t)}else if(e===JC){var a=this.currentScope();this.treatFunctionsAsVar?r=a.lexical.indexOf(t)>-1:r=a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var u=this.scopeStack.length-1;u>=0;--u){var c=this.scopeStack[u];if(c.lexical.indexOf(t)>-1&&!(c.flags&YC&&c.lexical[0]===t)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(t)>-1){r=!0;break}if(c.var.push(t),this.inModule&&c.flags&Jl&&delete this.undefinedExports[t],c.flags&Mv)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};ka.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};ka.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ka.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Mv)return e}};ka.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Mv&&!(e.flags&QC))return e}};var hd=function(e,n,r){this.type="",this.start=n,this.end=0,e.options.locations&&(this.loc=new ld(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[n,0])},Ec=fn.prototype;Ec.startNode=function(){return new hd(this,this.start,this.startLoc)};Ec.startNodeAt=function(t,e){return new hd(this,t,e)};Ec.finishNode=function(t,e){return VC.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Ec.finishNodeAt=function(t,e,n,r){return VC.call(this,t,e,n,r)};Ec.copyNode=function(t){var e=new hd(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var nS="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",rS=nS+" Extended_Pictographic",iS=rS,sS=iS+" EBase EComp EMod EPres ExtPict",aS=sS,DO=aS,FO={9:nS,10:rS,11:iS,12:sS,13:aS,14:DO},LO="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",VO={9:"",10:"",11:"",12:"",13:"",14:LO},i1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",oS="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",uS=oS+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",lS=uS+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",cS=lS+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",hS=cS+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",OO=hS+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",BO={9:oS,10:uS,11:lS,12:cS,13:hS,14:OO},fS={};for(eh=0,ap=[9,10,11,12,13,14];eh<ap.length;eh+=1)s1=ap[eh],oO(s1);var s1,eh,ap,ye=fn.prototype,vf=function(e,n){this.parent=e,this.base=n||this};vf.prototype.separatedFrom=function(e){for(var n=this;n;n=n.parent)for(var r=e;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};vf.prototype.sibling=function(){return new vf(this.parent,this.base)};var es=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=fS[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};es.prototype.reset=function(e,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=e|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};es.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};es.prototype.at=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return-1;var s=r.charCodeAt(e);if(!(n||this.switchU)||s<=55295||s>=57344||e+1>=i)return s;var a=r.charCodeAt(e+1);return a>=56320&&a<=57343?(s<<10)+a-56613888:s};es.prototype.nextIndex=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return i;var s=r.charCodeAt(e),a;return!(n||this.switchU)||s<=55295||s>=57344||e+1>=i||(a=r.charCodeAt(e+1))<56320||a>57343?e+1:e+2};es.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};es.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};es.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};es.prototype.eat=function(e,n){return n===void 0&&(n=!1),this.current(n)===e?(this.advance(n),!0):!1};es.prototype.eatChars=function(e,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=e;i<s.length;i+=1){var a=s[i],u=this.at(r,n);if(u===-1||u!==a)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};ye.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,s=0;s<n.length;s++){var a=n.charAt(s);e.indexOf(a)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(a,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),a==="u"&&(r=!0),a==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};ye.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&uO(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};ye.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};ye.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new vf(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};ye.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};ye.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};ye.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};ye.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};ye.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};ye.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};ye.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};ye.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};ye.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};ye.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};ye.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};ye.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};ye.regexp_eatSyntaxCharacter=function(t){var e=t.current();return OC(e)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!OC(n);)t.advance();return t.pos!==e};ye.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};ye.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var r=0,i=n;r<i.length;r+=1){var s=i[r];s.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};ye.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};ye.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ea(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ea(t.lastIntValue);return!0}return!1};ye.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),lO(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};ye.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),cO(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};ye.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};ye.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};ye.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};ye.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};ye.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};ye.regexp_eatZero=function(t){return t.current()===48&&!ud(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};ye.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};ye.regexp_eatControlLetter=function(t){var e=t.current();return BC(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};ye.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=(i-55296)*1024+(a-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&hO(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};ye.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var dS=0,Ps=1,Zr=2;ye.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(fO(e))return t.lastIntValue=-1,t.advance(),Ps;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===Zr&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return dS};ye.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),Ps}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return dS};ye.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){yc(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};ye.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ps;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Zr;t.raise("Invalid property name")};ye.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";MC(e=t.current());)t.lastStringValue+=Ea(e),t.advance();return t.lastStringValue!==""};ye.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";dO(e=t.current());)t.lastStringValue+=Ea(e),t.advance();return t.lastStringValue!==""};ye.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};ye.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===Zr&&t.raise("Negated character class may contain strings"),!0}return!1};ye.regexp_classContents=function(t){return t.current()===93?Ps:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ps)};ye.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};ye.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||zC(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};ye.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};ye.regexp_classSetExpression=function(t){var e=Ps,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===Zr&&(e=Zr);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==Zr&&(e=Ps);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===Zr&&(e=Zr)}};ye.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};ye.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ps:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};ye.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===Zr&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};ye.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};ye.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Zr&&(e=Zr);return e};ye.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ps:Zr};ye.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&pO(n)||mO(n)?!1:(t.advance(),t.lastIntValue=n,!0)};ye.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return gO(e)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatClassControlLetter=function(t){var e=t.current();return ud(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};ye.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};ye.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;ud(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};ye.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;jC(n=t.current());)t.lastIntValue=16*t.lastIntValue+UC(n),t.advance();return t.pos!==e};ye.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};ye.regexp_eatOctalDigit=function(t){var e=t.current();return zC(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};ye.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!jC(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+UC(i),t.advance()}return!0};var zv=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new ld(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},et=fn.prototype;et.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new zv(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};et.getToken=function(){return this.next(),new zv(this)};typeof Symbol<"u"&&(et[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===C.eof,value:e}}}});et.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(C.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};et.readToken=function(t){return bs(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};et.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};et.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=DC(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};et.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!ku(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};et.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&WC.test(String.fromCharCode(t)))++this.pos;else break e}}};et.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};et.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(C.ellipsis)):(++this.pos,this.finishToken(C.dot))};et.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(C.assign,2):this.finishOp(C.slash,1)};et.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?C.star:C.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=C.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(C.assign,n+1):this.finishOp(r,n)};et.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(C.assign,3)}return this.finishOp(t===124?C.logicalOR:C.logicalAND,2)}return e===61?this.finishOp(C.assign,2):this.finishOp(t===124?C.bitwiseOR:C.bitwiseAND,1)};et.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(C.assign,2):this.finishOp(C.bitwiseXOR,1)};et.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ai.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(C.incDec,2):e===61?this.finishOp(C.assign,2):this.finishOp(C.plusMin,1)};et.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(C.assign,n+1):this.finishOp(C.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(C.relational,n))};et.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(C.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(C.arrow)):this.finishOp(t===61?C.eq:C.prefix,1)};et.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(C.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(C.assign,3)}return this.finishOp(C.coalesce,2)}}return this.finishOp(C.question,1)};et.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),bs(e,!0)||e===92))return this.finishToken(C.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ea(e)+"'")};et.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(C.parenL);case 41:return++this.pos,this.finishToken(C.parenR);case 59:return++this.pos,this.finishToken(C.semi);case 44:return++this.pos,this.finishToken(C.comma);case 91:return++this.pos,this.finishToken(C.bracketL);case 93:return++this.pos,this.finishToken(C.bracketR);case 123:return++this.pos,this.finishToken(C.braceL);case 125:return++this.pos,this.finishToken(C.braceR);case 58:return++this.pos,this.finishToken(C.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(C.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(C.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ea(t)+"'")};et.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};et.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ai.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var u=this.regexpState||(this.regexpState=new es(this));u.reset(n,i,a),this.validateRegExpFlags(u),this.validateRegExpPattern(u);var c=null;try{c=new RegExp(i,a)}catch{}return this.finishToken(C.regexp,{pattern:i,flags:a,value:c})};et.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,a=0,u=0,c=0,f=e??1/0;c<f;++c,++this.pos){var p=this.input.charCodeAt(this.pos),g=void 0;if(r&&p===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),u===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),u=p;continue}if(p>=97?g=p-97+10:p>=65?g=p-65+10:p>=48&&p<=57?g=p-48:g=1/0,g>=t)break;u=p,a=a*t+g}return r&&u===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:a};et.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=$C(this.input.slice(e,this.pos)),++this.pos):bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,n)};et.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=$C(this.input.slice(e,this.pos));return++this.pos,bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=vO(this.input.slice(e,this.pos),n);return this.finishToken(C.num,s)};et.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};et.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ku(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(C.string,e)};var pS={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===pS)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};et.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw pS;this.raise(t,e)};et.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===C.template||this.type===C.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(C.dollarBraceL)):(++this.pos,this.finishToken(C.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(C.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(ku(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(C.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};et.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ea(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return ku(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};et.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};et.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(du(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?bs:du)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=Ea(a),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};et.readWord=function(){var t=this.readWord1(),e=C.name;return this.keywords.test(t)&&(e=Vv[t]),this.finishToken(e,t)};var MO="8.12.1";fn.acorn={Parser:fn,version:MO,defaultOptions:km,Position:Xl,SourceLocation:ld,getLineInfo:FC,Node:hd,TokenType:ut,tokTypes:C,keywordTypes:Vv,TokContext:vi,tokContexts:Ot,isIdentifierChar:du,isIdentifierStart:bs,Token:zv,isNewLine:ku,lineBreak:ai,lineBreakG:CO,nonASCIIwhitespace:WC};var jO=Fv(tO()),xo=Fv(rO()),a1={class:"className",for:"htmlFor",maxlength:"maxLength",colspan:"colSpan",rowspan:"rowSpan"};function UO(t){return $O.indexOf(t.toLowerCase())===-1}function zO(t){return qO.indexOf(t.toLowerCase())!==-1}var $O=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],qO=["table","tbody","tfoot","thead","tr"],HO=(t="",e=16)=>{const n=String(t);let r=0;return n.split("").forEach(i=>{r=(r<<5)-r+i.charCodeAt(0),r&=r}),Math.abs(r).toString(e)},o1=()=>HO(Math.random().toString()),WO=t=>t.replace(/([A-Z])([A-Z])/g,"$1 $2").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/[^a-zA-Z\u00C0-\u00ff]/g," ").toLowerCase().split(" ").filter(e=>e).map((e,n)=>n>0?e[0].toUpperCase()+e.slice(1):e).join(""),GO=t=>{switch(typeof t){case"string":return t.split(";").filter(e=>e).reduce((e,n)=>{const r=n.slice(0,n.indexOf(":")).trim(),i=n.slice(n.indexOf(":")+1).trim();return{...e,[WO(r)]:i}},{});case"object":return t;default:return}},KO=t=>t==null||t===""?[]:t.split("."),mS=(t,e)=>{const[n,...r]=e;if(!(t==null||n==null))return r.length===0?t[n]:mS(t[n],r)},u1=(t,e)=>mS(t,KO(e)),yf,De,_f,Xo,Zl;class l1 extends xo.default.Component{constructor(){super(...arguments);Pc(this,"ParsedChildren",null);Eo(this,yf,n=>{const r=fn.extend(jO.default({autoCloseVoidElements:this.props.autoCloseVoidElements})),i=`<root>${n}</root>`;let s=[];try{s=r.parse(i,{ecmaVersion:"latest"}),s=s.body[0].expression.children||[]}catch(a){return this.props.showWarnings&&console.warn(a),this.props.onError&&this.props.onError(a),this.props.renderError?this.props.renderError({error:String(a)}):null}return s.map(a=>ke(this,De).call(this,a)).filter(Boolean)});Eo(this,De,(n,r)=>{var i,s;switch(n.type){case"JSXAttribute":return n.value===null?!0:ke(this,De).call(this,n.value,r);case"JSXElement":case"JSXFragment":return ke(this,Zl).call(this,n,r);case"JSXExpressionContainer":return ke(this,De).call(this,n.expression,r);case"JSXText":const a=this.props.disableKeyGeneration?void 0:o1();return this.props.disableFragments?n.value:xo.default.createElement(xo.Fragment,{key:a},n.value);case"ArrayExpression":return n.elements.map(p=>ke(this,De).call(this,p,r));case"BinaryExpression":switch(n.operator){case"-":return ke(this,De).call(this,n.left)-ke(this,De).call(this,n.right);case"!=":return ke(this,De).call(this,n.left)!=ke(this,De).call(this,n.right);case"!==":return ke(this,De).call(this,n.left)!==ke(this,De).call(this,n.right);case"*":return ke(this,De).call(this,n.left)*ke(this,De).call(this,n.right);case"**":return ke(this,De).call(this,n.left)**ke(this,De).call(this,n.right);case"/":return ke(this,De).call(this,n.left)/ke(this,De).call(this,n.right);case"%":return ke(this,De).call(this,n.left)%ke(this,De).call(this,n.right);case"+":return ke(this,De).call(this,n.left)+ke(this,De).call(this,n.right);case"<":return ke(this,De).call(this,n.left)<ke(this,De).call(this,n.right);case"<=":return ke(this,De).call(this,n.left)<=ke(this,De).call(this,n.right);case"==":return ke(this,De).call(this,n.left)==ke(this,De).call(this,n.right);case"===":return ke(this,De).call(this,n.left)===ke(this,De).call(this,n.right);case">":return ke(this,De).call(this,n.left)>ke(this,De).call(this,n.right);case">=":return ke(this,De).call(this,n.left)>=ke(this,De).call(this,n.right)}return;case"CallExpression":const u=ke(this,De).call(this,n.callee);if(u===void 0){this.props.onError(new Error(`The expression '${n.callee}' could not be resolved, resulting in an undefined return value.`));return}return u(...n.arguments.map(p=>ke(this,De).call(this,p,n.callee)));case"ConditionalExpression":return ke(this,De).call(this,n.test)?ke(this,De).call(this,n.consequent):ke(this,De).call(this,n.alternate);case"ExpressionStatement":return ke(this,De).call(this,n.expression);case"Identifier":return r&&n.name in r?r[n.name]:(this.props.bindings||{})[n.name];case"Literal":return n.value;case"LogicalExpression":const c=ke(this,De).call(this,n.left);return n.operator==="||"&&c?c:n.operator==="&&"&&c||n.operator==="||"&&!c?ke(this,De).call(this,n.right):!1;case"MemberExpression":return ke(this,_f).call(this,n,r);case"ObjectExpression":const f={};return n.properties.forEach(p=>{f[p.key.name||p.key.value]=ke(this,De).call(this,p.value)}),f;case"TemplateElement":return n.value.cooked;case"TemplateLiteral":return[...n.expressions,...n.quasis].sort((p,g)=>p.start<g.start?-1:1).map(p=>ke(this,De).call(this,p)).join("");case"UnaryExpression":switch(n.operator){case"+":return n.argument.value;case"-":return-n.argument.value;case"!":return!n.argument.value}return;case"ArrowFunctionExpression":return(n.async||n.generator)&&((s=(i=this.props).onError)==null||s.call(i,new Error("Async and generator arrow functions are not supported."))),(...p)=>{const g={};return n.params.forEach((A,b)=>{g[A.name]=p[b]}),ke(this,De).call(this,n.body,g)}}});Eo(this,_f,(n,r)=>{var u,c;let{object:i}=n;const s=[((u=n.property)==null?void 0:u.name)??JSON.parse(((c=n.property)==null?void 0:c.raw)??'""')];if(n.object.type!=="Literal")for(;i&&["MemberExpression","Literal"].includes(i==null?void 0:i.type);){const{property:f}=i;i.computed?s.unshift(ke(this,De).call(this,f,r)):s.unshift((f==null?void 0:f.name)??JSON.parse((f==null?void 0:f.raw)??'""')),i=i.object}const a=ke(this,De).call(this,i,r);try{let f=a;const p=s.reduce((g,A)=>(f=g,g[A]),a);return typeof p=="function"?p.bind(f):p}catch{const f=(i==null?void 0:i.name)||"unknown";this.props.onError(new Error(`Unable to parse ${f}["${s.join('"]["')}"]}`))}});Eo(this,Xo,n=>n.type==="JSXIdentifier"?n.name:`${ke(this,Xo).call(this,n.object)}.${ke(this,Xo).call(this,n.property)}`);Eo(this,Zl,(n,r)=>{const{allowUnknownElements:i,components:s,componentsOnly:a,onError:u}=this.props,{children:c=[]}=n,f=n.type==="JSXElement"?n.openingElement:n.openingFragment,{attributes:p=[]}=f,g=n.type==="JSXElement"?ke(this,Xo).call(this,f.name):"",A=(this.props.blacklistedAttrs||[]).map(P=>P instanceof RegExp?P:new RegExp(P,"i")),b=(this.props.blacklistedTags||[]).map(P=>P.trim().toLowerCase()).filter(Boolean);if(/^(html|head|body)$/i.test(g))return c.map(P=>ke(this,Zl).call(this,P,r));const F=g.trim().toLowerCase();if(b.indexOf(F)!==-1)return u(new Error(`The tag <${g}> is blacklisted, and will not be rendered.`)),null;if(g!==""&&!u1(s,g)){if(a)return u(new Error(`The component <${g}> is unrecognized, and will not be rendered.`)),this.props.renderUnrecognized(g);if(!i&&document.createElement(g)instanceof HTMLUnknownElement)return u(new Error(`The tag <${g}> is unrecognized in this browser, and will not be rendered.`)),this.props.renderUnrecognized(g)}let L;const M=n.type==="JSXElement"?u1(s,g):xo.Fragment;(M||UO(g))&&(L=c.map(P=>ke(this,De).call(this,P,r)),!M&&!zO(g)&&(L=L.filter(P=>typeof P!="string"||!/^\s*$/.test(P))),L.length===0?L=void 0:L.length===1?[L]=L:L.length>1&&!this.props.disableKeyGeneration&&(L=L.map((P,q)=>P!=null&&P.type&&!(P!=null&&P.key)?{...P,key:P.key||q}:P)));const R={key:this.props.disableKeyGeneration?void 0:o1()};p.forEach(P=>{if(P.type==="JSXAttribute"){const q=P.name.name,G=a1[q]||q,d=ke(this,De).call(this,P,r);A.filter(x=>x.test(G)).length===0&&(R[G]=d)}else if(P.type==="JSXSpreadAttribute"&&P.argument.type==="Identifier"||P.argument.type==="MemberExpression"){const q=ke(this,De).call(this,P.argument,r);typeof q=="object"&&Object.keys(q).forEach(G=>{const d=a1[G]||G;A.filter(x=>x.test(d)).length===0&&(R[d]=q[G])})}}),typeof R.style=="string"&&(R.style=GO(R.style));const k=g.toLowerCase();return k==="option"&&(L=L.props.children),xo.default.createElement(M||k,R,L)})}render(){const n=(this.props.jsx||"").trim().replace(/<!DOCTYPE([^>]*)>/g,"");this.ParsedChildren=ke(this,yf).call(this,n);const r=[...new Set(["jsx-parser",...String(this.props.className).split(" ")])].filter(Boolean).join(" ");return this.props.renderInWrapper?xo.default.createElement("div",{className:r},this.ParsedChildren):this.ParsedChildren}}yf=new WeakMap,De=new WeakMap,_f=new WeakMap,Xo=new WeakMap,Zl=new WeakMap,Pc(l1,"displayName","JsxParser"),Pc(l1,"defaultProps",{allowUnknownElements:!0,autoCloseVoidElements:!1,bindings:{},blacklistedAttrs:[/^on.+/i],blacklistedTags:["script"],className:"",components:{},componentsOnly:!1,disableFragments:!1,disableKeyGeneration:!1,jsx:"",onError:()=>{},showWarnings:!1,renderError:void 0,renderInWrapper:!0,renderUnrecognized:()=>null});const QO=()=>{const t=Nn(),{grade:e,term:n}=Ji(),[r,i]=W.useState([]),[s,a]=W.useState(!0);return W.useEffect(()=>{async function u(){var p;const f=(p=(await Iu(Sa(Mr,`${e}/test_yourself_students/questions`,n))).data())==null?void 0:p.subjects;i(f),a(!1)}u()},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:"اختر مادة:"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(NC,{grade:e,backFrom:"test_yourself_students"}),_.jsx(RC,{})]})]}),s?_.jsx(Pi,{}):_.jsx("div",{className:"row g-2 my-2",children:r==null?void 0:r.map((u,c)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/${u}/test_yourself_students`),children:Lr(u)})},c))})]})},YO=()=>_.jsxs("div",{className:"row g-2",children:[_.jsx("div",{className:"col-sm-6",children:_.jsx(ga,{to:"term_1",className:"btn btn-primary w-100",children:"الفصل الدراسي الأول"})}),_.jsx("div",{className:"col-sm-6",children:_.jsx(ga,{to:"term_2",className:"btn btn-primary w-100",children:"الفصل الدراسي الثاني"})})]}),XO=()=>{const t=Nn(),[e,n]=W.useState(!0),{grade:r,term:i}=Ji(),[s,a]=W.useState([]);return W.useEffect(()=>{Iu(Sa(Mr,`${r}/test_yourself_students/questions/${i}`)).then(u=>{a(u.data().subjects),n(!1)})},[]),_.jsx(_.Fragment,{children:e?_.jsx(Pi,{}):_.jsx("div",{className:"row g-2",children:s.map((u,c)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t(`/${r}/${i}/${u}/send_question`),children:Lr(u)})},c))})})},gS=({formRef:t,children:e})=>_.jsx("form",{className:"mx-auto mt-3 needs-validation",noValidate:!0,style:{maxWidth:"480px"},ref:t,children:e}),Rr=({field:t,marginBottom:e=3})=>_.jsx("div",{className:`mb-${e}`,children:t}),vS=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"email-input",className:"form-label fw-bold",children:"البريد الإلكتروني:"}),_.jsx("input",{type:"email",className:"form-control",pattern:"^[^@]+@[^@]+\\.[^@]{2,}$",id:"email-input",placeholder:"folan.alfolany@gmail.com","aria-describedby":"emailHelp",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"يرجى إدخال بريد إلكتروني صحيح."})]}),yS=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"password-input",className:"form-label fw-bold",children:"كلمة المرور:"}),_.jsx("input",{type:"password",placeholder:"_____",minLength:"6",className:"form-control",id:"password-input",autoComplete:"off",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"كلمة المرور يجب أن تتكون من 6 أحرف على الأقل."})]}),JO=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"name-input",className:"form-label fw-bold",children:"الاسم:"}),_.jsx("input",{type:"text",className:"form-control",minLength:3,id:"name-input",placeholder:"فلان الفلاني",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"الاسم يجب أن يتكون من 3 أحرف على الأقل."})]}),ZO=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold",children:"اختر فرقتك:"}),_.jsxs("select",{className:"form-select mt-2",id:"grade-input",required:!0,children:[_.jsx("option",{value:"grade_1",children:"الفرقة الأولى"}),_.jsx("option",{value:"grade_2",children:"الفرقة الثانية"}),_.jsx("option",{value:"grade_3",children:"الفرقة الثالثة"}),_.jsx("option",{value:"grade_4",children:"الفرقة الرابعة"})]}),_.jsx("div",{className:"invalid-feedback",children:"يجب تحديد فرقتك."})]}),wc=({text:t})=>_.jsx("button",{type:"submit",className:"btn btn-primary w-100 fw-bold",children:t}),fd=({label:t,placeholder:e,invalidFeedback:n,minLength:r=10,rows:i=4,fontSize:s=5,id:a="textarea-field"})=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:`fw-bold fs-${s} mb-1`,htmlFor:a,children:t}),_.jsx("textarea",{className:"form-control",id:a,rows:i,placeholder:e,minLength:r,required:!0}),_.jsx("div",{className:"invalid-feedback",children:n})]}),Ac=()=>_.jsx("button",{className:"btn btn-primary w-100 disabled",children:_.jsx("div",{className:"spinner-border spinner-border-sm",role:"status"})}),e4=()=>{const t=Nn(),[e,n]=W.useState(!1),[r,i]=W.useState(!1),s=W.useRef(null);return W.useEffect(()=>{const a=s.current;a.addEventListener("submit",async u=>{if(u.preventDefault(),u.stopPropagation(),a.checkValidity())try{i(!0);const c=u.target["name-input"].value,f=u.target["email-input"].value,p=u.target["grade-input"].value,g=u.target["password-input"].value,A=u.target["textarea-field"].value,F=(await xF(gc,f,g)).user.uid;await CD(Sa(Mr,"users",F),{name:c,email:f,grade:p,uid:F,message:A,write_permission:!1}),t("/")}catch(c){console.log(c.code),n(!0)}finally{i(!1),setTimeout(()=>{n(!1)},3e3)}else a.classList.add("was-validated")})},[]),_.jsxs("div",{children:[_.jsx(si,{children:"إنشاء حساب جديد"}),_.jsxs(gS,{formRef:s,children:[_.jsx(Rr,{field:_.jsx(JO,{})}),_.jsx(Rr,{field:_.jsx(vS,{})}),_.jsx(Rr,{field:_.jsx(ZO,{})}),_.jsx(Rr,{field:_.jsx(fd,{placeholder:"هذا مجرد مثال على الرسالة. نرجو مراعاة علامات الترقيم، والقواعد الإملائية. الهدف من وضع هذه الخانة هو التأكد من سلامة وجودة الأسئلة المرسلة. القبول يتوقف على هذه الرسالة.",label:"اكتب رسالة مستخدمًا علامات الترقيم:",fontSize:6,minLength:100,invalidFeedback:"الرسالة يجب أن تتكون من 100 حرف على الأقل."})}),_.jsx(Rr,{field:_.jsx(yS,{})}),r?_.jsx(Ac,{}):_.jsx(wc,{text:"إنشاء حساب جديد"}),e&&_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:"فشل التسجيل."})]})]})},t4=()=>{const t=Nn(),[e,n]=W.useState(!1),[r,i]=W.useState(!1),s=W.useRef(null);return W.useEffect(()=>{const a=s.current;a.addEventListener("submit",async u=>{if(u.preventDefault(),u.stopPropagation(),a.checkValidity())try{i(!0);const c=u.target["email-input"].value,f=u.target["password-input"].value;await CF(gc,c,f),t("/")}catch(c){console.log(c.code),n(!0)}finally{i(!1),setTimeout(()=>{n(!1)},3e3)}else a.classList.add("was-validated")})},[]),_.jsxs("div",{children:[_.jsx(si,{children:"تسجيل الدخول"}),_.jsxs(gS,{formRef:s,children:[_.jsx(Rr,{field:_.jsx(vS,{})}),_.jsx(Rr,{field:_.jsx(yS,{})}),r?_.jsx(Ac,{}):_.jsx(wc,{text:"تسجيل الدخول"}),e&&_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:"فشل التسجيل."})]}),_.jsxs("p",{className:"text-center mt-2 fw-bold",children:["هل تريد إنشاء حساب؟ ",_.jsx(ga,{to:"/signup",children:"إنشاء حساب"}),"."]})]})},$v=({formRef:t,children:e})=>_.jsx("form",{className:"mt-3 needs-validation",noValidate:!0,ref:t,children:e}),n4=({optionsRef:t})=>{const e=["الأول","الثاني","الثالث","الرابع"];return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:"الاختيارات:"}),_.jsx("div",{className:"row g-2",children:e.map((n,r)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("input",{type:"text",className:"form-control",placeholder:`الاختيار ${n}.`,ref:i=>t.current[r]=i,required:!0})},r))})]})},r4=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:"رقم الاختيار الصحيح:"}),_.jsxs("select",{className:"form-control",id:"options-input",children:[_.jsx("option",{value:"0",children:"1"}),_.jsx("option",{value:"1",children:"2"}),_.jsx("option",{value:"2",children:"3"}),_.jsx("option",{value:"3",children:"4"})]})]}),i4=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:"التعليل:"}),_.jsx("input",{type:"text",className:"form-control",placeholder:"اكتب التعليل.",id:"answer-reason-input"})]}),s4=()=>_.jsx(fd,{placeholder:"اكتب نص السؤال هنا.",label:"نص السؤال:",invalidFeedback:"نص السؤال يجب أن يتكون من 10 أحرف على الأقل."}),a4=()=>{const[t,e]=W.useState(!1),[n,r]=W.useState("initial"),{grade:i,term:s,subject:a}=Ji(),u=W.useRef([]),c=W.useRef(null);return W.useEffect(()=>{const f=c.current;f.addEventListener("submit",async p=>{p.preventDefault(),p.stopPropagation();const g=f["textarea-field"].value,A=[],b=Number(f["options-input"].value),F=f["answer-reason-input"].value;if(u.current.forEach(L=>{A.push(L.value)}),f.checkValidity())try{e(!0);const{name:L,uid:M}=JSON.parse(localStorage.getItem("loggedinUserInfo"));await yv(Cu(Mr,`${i}/test_yourself_students/questions/${s}/${a}`),{question_text:g,question_answer:b,question_options:A,answer_reason:F,question_creator:{name:L,uid:M}}),c.current.reset(),f.classList.remove("was-validated"),r("success")}catch(L){console.log(L.code),f.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else f.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(si,{children:"أرسل سؤالًا [تجريبية]"}),_.jsxs("p",{className:"text-center mt-2 fw-bold",children:[`${Lr(i)} - ${Lr(s)} - ${Lr(a)}`,"."]}),_.jsxs($v,{formRef:c,children:[_.jsx(Rr,{field:_.jsx(s4,{})}),_.jsx(Rr,{field:_.jsx(n4,{optionsRef:u})}),_.jsx(Rr,{field:_.jsx(r4,{})}),_.jsx(Rr,{field:_.jsx(i4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:"أرسل السؤال"})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"تم الإرسال بنجاح."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:"فشل الإرسال."})]})},o4=()=>_.jsx(fd,{placeholder:"اكتب اقتراحك هنا.",label:"الاقتراح:",invalidFeedback:"نص الاقتراح يجب أن يتكون من 10 أحرف على الأقل.",rows:7}),u4=()=>{const[t,e]=W.useState(!1),[n,r]=W.useState("initial"),i=W.useRef(null);return W.useEffect(()=>{const s=i.current;s.addEventListener("submit",async a=>{a.preventDefault(),a.stopPropagation();const u=s["textarea-field"].value;if(s.checkValidity())try{e(!0),await yv(Cu(Mr,"suggestions"),{suggestion:u}),i.current.reset(),s.classList.remove("was-validated"),r("success")}catch(c){console.log(c.code),s.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else s.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(si,{children:"إرسال اقتراح"}),_.jsxs($v,{formRef:i,children:[_.jsx(Rr,{field:_.jsx(o4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:"أرسل الاقتراح"})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"تم الإرسال بنجاح."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:"فشل الإرسال."})]})},l4=()=>_.jsx(fd,{placeholder:"اكتب المشكلة بالتفصيل، وإن كانت المشكلة خاصة بصفحة بعينها؛ أرسل الرابط.",label:"المشكلة:",invalidFeedback:"نص المشكلة يجب أن يتكون من 10 أحرف على الأقل.",rows:7}),c4=()=>{const[t,e]=W.useState(!1),[n,r]=W.useState("initial"),i=W.useRef(null);return W.useEffect(()=>{const s=i.current;s.addEventListener("submit",async a=>{a.preventDefault(),a.stopPropagation();const u=s["textarea-field"].value;if(s.checkValidity())try{e(!0),await yv(Cu(Mr,"problems"),{problem:u}),i.current.reset(),s.classList.remove("was-validated"),r("success")}catch(c){console.log(c.code),s.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else s.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(si,{children:"الإبلاغ عن مشكلة"}),_.jsxs($v,{formRef:i,children:[_.jsx(Rr,{field:_.jsx(l4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:"أرسل المشكلة"})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"تم الإرسال بنجاح."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:"فشل الإرسال."})]})},h4=()=>async(t,e)=>{try{const r=await(await fetch(t)).blob(),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}catch(n){console.log(n)}},f4=()=>{const{grade:t}=Ji(),[e,n]=W.useState(!1),[r,i]=W.useState(!0),s=`${Dv}/darelom-students-data/schedule/${t}.jpg`,a=h4();function u(){n(!1),i(!1)}function c(){n(!0),i(!1)}return _.jsxs("div",{className:"container",children:[r?_.jsx(Pi,{}):_.jsx(_.Fragment,{children:!e&&_.jsx(_.Fragment,{children:_.jsxs("p",{className:"text-center fw-bold fs-5",children:["عذرًا، جدول ",Lr(t)," ليس لدينا بعد."]})})}),_.jsxs("div",{className:`d-${e?"block":"none"}`,children:[_.jsx("img",{src:s,className:"w-100",alt:"Schecule",onError:u,onLoad:c}),_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>a(s,`جدول محاضرات ${Lr(t)}`),children:"تحميل الجدول"})]})]})},d4=()=>{const t=Nn();function e(){t("/")}return _.jsx("button",{className:"btn btn-danger",onClick:e,children:"القائمة الرئيسية"})},p4=({grade:t,backFrom:e})=>{const n=Nn();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return _.jsx("button",{className:"btn btn-danger",onClick:r,children:"رجوع"})},m4=()=>{const{grade:t,term:e}=Ji(),[n,r]=W.useState({}),[i,s]=W.useState([]),[a,u]=W.useState(!0);return W.useEffect(()=>{Iu(Sa(Mr,`${t}/lectures_recordings`)).then(c=>{var p;const f=(p=c.data())==null?void 0:p[e];if(f&&Object.keys(f).length){const g=Object.keys(f);if(g.includes("mojalad_tasgilat")){const A=["mojalad_tasgilat",...g.filter(b=>b!=="mojalad_tasgilat")];s(A)}else s(g);r(f)}u(!1)})},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[_.jsx("h2",{children:"اختر مادة:"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(p4,{grade:t,backFrom:"lectures_recordings"}),_.jsx(d4,{})]})]}),_.jsxs(si,{children:[Lr(t)," - ",Lr(e)]}),a?_.jsx(Pi,{}):_.jsx(_.Fragment,{children:Object.keys(n).length?_.jsx("div",{className:"row g-2 my-2",children:i.map((c,f)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(gs,{text:Lr(c),onClick:()=>window.location.href=n[c]})},f))}):_.jsx("p",{className:"text-center fw-bold mt-4 fs-4",children:"عذرًا، لا تتوفر تسجيلات."})})]})};function g4(){const[t,e]=W.useState(null),[n,r]=W.useState(JSON.parse(localStorage.getItem("loggedInUserInfo")));W.useEffect(()=>{Jx(gc,async s=>{if(s){const u=(await Iu(Sa(Mr,`users/${s.uid}`))).data();localStorage.setItem("loggedinUserInfo",JSON.stringify(u)),r(u)}else localStorage.setItem("loggedinUserInfo",JSON.stringify(null)),r(null);e(s),localStorage.setItem("loggedinUser",JSON.stringify(s))})},[]);const i=g2(nm(_.jsx(_.Fragment,{children:_.jsxs(Qt,{path:"/",element:_.jsx(u3,{}),errorElement:_.jsx(Zc,{}),children:[_.jsx(Qt,{path:"/",element:_.jsx(y3,{})}),_.jsx(Qt,{path:"/degrees/:grade/2023_24",element:_.jsx(I3,{})}),_.jsx(Qt,{path:"/degrees/:grade/2023_24/:studentId",element:_.jsx(N3,{})}),_.jsx(Qt,{path:":grade/books/:term",element:_.jsx(F3,{})}),_.jsx(Qt,{path:"/book/:bookId",element:_.jsx(B3,{})}),_.jsx(Qt,{path:"/test_yourself",element:_.jsx(rp,{})})," ",_.jsx(Qt,{path:"/test_yourself/test_result",element:_.jsx(Q3,{})}),_.jsx(Qt,{path:":grade/test_yourself_students/:term",element:_.jsx(QO,{})}),_.jsx(Qt,{path:"/test_yourself/sended_questions",element:_.jsx(rp,{})}),_.jsx(Qt,{path:"/:grade/:term/:subject/test_yourself_students",element:_.jsx(rp,{})}),_.jsx(Qt,{path:"/:grade/send_question_selector",element:n!=null&&n.write_permission?_.jsx(YO,{}):_.jsx(Zc,{})}),_.jsx(Qt,{path:"/:grade/send_question_selector/:term",element:n!=null&&n.write_permission?_.jsx(XO,{}):_.jsx(Zc,{})}),_.jsx(Qt,{path:"/:grade/:term/:subject/send_question",element:n!=null&&n.write_permission?_.jsx(a4,{}):_.jsx(Zc,{})}),_.jsx(Qt,{path:"/signup",element:t?_.jsx(x0,{to:"/"}):_.jsx(e4,{})}),_.jsx(Qt,{path:"/signin",element:t?_.jsx(x0,{to:"/"}):_.jsx(t4,{})}),_.jsx(Qt,{path:"/send_suggestion",element:_.jsx(u4,{})}),_.jsx(Qt,{path:"/send_problem",element:_.jsx(c4,{})}),_.jsx(Qt,{path:"/:grade/schedule",element:_.jsx(f4,{})}),_.jsx(Qt,{path:"/:grade/lectures_recordings/:term",element:_.jsx(m4,{})})]})})));return _.jsx(S2,{router:i})}op.createRoot(document.getElementById("root")).render(_.jsx(g4,{}));
