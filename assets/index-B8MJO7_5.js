var _S=Object.defineProperty;var Xv=t=>{throw TypeError(t)};var ES=(t,e,n)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pc=(t,e,n)=>ES(t,typeof e!="symbol"?e+"":e,n),wS=(t,e,n)=>e.has(t)||Xv("Cannot "+n);var ke=(t,e,n)=>(wS(t,e,"read from private field"),n?n.call(t):e.get(t)),wo=(t,e,n)=>e.has(t)?Xv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function d1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function f1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p1={exports:{}},_d={},m1={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),AS=Symbol.for("react.portal"),xS=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),kS=Symbol.for("react.forward_ref"),bS=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),Jv=Symbol.iterator;function NS(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var g1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v1=Object.assign,y1={};function mu(t,e,n){this.props=t,this.context=e,this.refs=y1,this.updater=n||g1}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _1(){}_1.prototype=mu.prototype;function Rm(t,e,n){this.props=t,this.context=e,this.refs=y1,this.updater=n||g1}var Nm=Rm.prototype=new _1;Nm.constructor=Rm;v1(Nm,mu.prototype);Nm.isPureReactComponent=!0;var Zv=Array.isArray,E1=Object.prototype.hasOwnProperty,Dm={current:null},w1={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)E1.call(e,r)&&!w1.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ec,type:t,key:s,ref:a,props:i,_owner:Dm.current}}function DS(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function FS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ey=/\/+/g;function mf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FS(""+t.key):e.toString(36)}function th(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ec:case AS:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+mf(a,0):r,Zv(i)?(n="",t!=null&&(n=t.replace(ey,"$&/")+"/"),th(i,e,n,"",function(d){return d})):i!=null&&(Fm(i)&&(i=DS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ey,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Zv(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+mf(s,u);a+=th(s,e,n,c,i)}else if(c=NS(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+mf(s,u++),a+=th(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rc(t,e,n){if(t==null)return t;var r=[],i=0;return th(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},nh={transition:null},VS={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:nh,ReactCurrentOwner:Dm};function x1(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!Fm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=mu;Je.Fragment=xS;Je.Profiler=SS;Je.PureComponent=Rm;Je.StrictMode=CS;Je.Suspense=bS;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;Je.act=x1;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v1({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Dm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E1.call(e,c)&&!w1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:ec,type:t.type,key:i,ref:s,props:r,_owner:a}};Je.createContext=function(t){return t={$$typeof:TS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IS,_context:t},t.Consumer=t};Je.createElement=A1;Je.createFactory=function(t){var e=A1.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:kS,render:t}};Je.isValidElement=Fm;Je.lazy=function(t){return{$$typeof:RS,_payload:{_status:-1,_result:t},_init:LS}};Je.memo=function(t,e){return{$$typeof:PS,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=nh.transition;nh.transition={};try{t()}finally{nh.transition=e}};Je.unstable_act=x1;Je.useCallback=function(t,e){return sr.current.useCallback(t,e)};Je.useContext=function(t){return sr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return sr.current.useEffect(t,e)};Je.useId=function(){return sr.current.useId()};Je.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return sr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Je.useRef=function(t){return sr.current.useRef(t)};Je.useState=function(t){return sr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return sr.current.useTransition()};Je.version="18.3.1";m1.exports=Je;var q=m1.exports;const OS=f1(q),BS=d1({__proto__:null,default:OS},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=q,jS=Symbol.for("react.element"),US=Symbol.for("react.fragment"),zS=Object.prototype.hasOwnProperty,$S=MS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qS={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)zS.call(e,r)&&!qS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jS,type:t,key:s,ref:a,props:i,_owner:$S.current}}_d.Fragment=US;_d.jsx=C1;_d.jsxs=C1;p1.exports=_d;var _=p1.exports,up={},S1={exports:{}},Br={},I1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ae,ve){var we=ae.length;ae.push(ve);e:for(;0<we;){var Ge=we-1>>>1,Ne=ae[Ge];if(0<i(Ne,ve))ae[Ge]=ve,ae[we]=Ne,we=Ge;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ve=ae[0],we=ae.pop();if(we!==ve){ae[0]=we;e:for(var Ge=0,Ne=ae.length,Qe=Ne>>>1;Ge<Qe;){var ft=2*(Ge+1)-1,St=ae[ft],Wt=ft+1,An=ae[Wt];if(0>i(St,we))Wt<Ne&&0>i(An,St)?(ae[Ge]=An,ae[Wt]=we,Ge=Wt):(ae[Ge]=St,ae[ft]=we,Ge=ft);else if(Wt<Ne&&0>i(An,we))ae[Ge]=An,ae[Wt]=we,Ge=Wt;else break e}}return ve}function i(ae,ve){var we=ae.sortIndex-ve.sortIndex;return we!==0?we:ae.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,g=null,A=3,b=!1,F=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ae){for(var ve=n(d);ve!==null;){if(ve.callback===null)r(d);else if(ve.startTime<=ae)r(d),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=n(d)}}function H(ae){if(L=!1,P(ae),!F)if(n(c)!==null)F=!0,Bt(G);else{var ve=n(d);ve!==null&&fe(H,ve.startTime-ae)}}function G(ae,ve){F=!1,L&&(L=!1,R(x),x=-1),b=!0;var we=A;try{for(P(ve),g=n(c);g!==null&&(!(g.expirationTime>ve)||ae&&!B());){var Ge=g.callback;if(typeof Ge=="function"){g.callback=null,A=g.priorityLevel;var Ne=Ge(g.expirationTime<=ve);ve=t.unstable_now(),typeof Ne=="function"?g.callback=Ne:g===n(c)&&r(c),P(ve)}else r(c);g=n(c)}if(g!==null)var Qe=!0;else{var ft=n(d);ft!==null&&fe(H,ft.startTime-ve),Qe=!1}return Qe}finally{g=null,A=we,b=!1}}var f=!1,I=null,x=-1,S=5,D=-1;function B(){return!(t.unstable_now()-D<S)}function U(){if(I!==null){var ae=t.unstable_now();D=ae;var ve=!0;try{ve=I(!0,ae)}finally{ve?V():(f=!1,I=null)}}else f=!1}var V;if(typeof k=="function")V=function(){k(U)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Pt=He.port2;He.port1.onmessage=U,V=function(){Pt.postMessage(null)}}else V=function(){M(U,0)};function Bt(ae){I=ae,f||(f=!0,V())}function fe(ae,ve){x=M(function(){ae(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){F||b||(F=!0,Bt(G))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var we=A;A=ve;try{return ae()}finally{A=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var we=A;A=ae;try{return ve()}finally{A=we}},t.unstable_scheduleCallback=function(ae,ve,we){var Ge=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ge+we:Ge):we=Ge,ae){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=we+Ne,ae={id:p++,callback:ve,priorityLevel:ae,startTime:we,expirationTime:Ne,sortIndex:-1},we>Ge?(ae.sortIndex=we,e(d,ae),n(c)===null&&ae===n(d)&&(L?(R(x),x=-1):L=!0,fe(H,we-Ge))):(ae.sortIndex=Ne,e(c,ae),F||b||(F=!0,Bt(G))),ae},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ae){var ve=A;return function(){var we=A;A=ve;try{return ae.apply(this,arguments)}finally{A=we}}}})(T1);I1.exports=T1;var HS=I1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=q,Or=HS;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,El={};function ao(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(El[t]=e,t=0;t<e.length;t++)k1.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,GS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ty={},ny={};function KS(t){return lp.call(ny,t)?!0:lp.call(ty,t)?!1:GS.test(t)?ny[t]=!0:(ty[t]=!0,!1)}function QS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YS(t,e,n,r){if(e===null||typeof e>"u"||QS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lm=/[\-:]([a-z])/g;function Vm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lm,Vm);Rn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lm,Vm);Rn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lm,Vm);Rn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YS(e,n,i,r)&&(n=null),r||i===null?KS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=WS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),To=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),R1=Symbol.for("react.offscreen"),ry=Symbol.iterator;function Vu(t){return t===null||typeof t!="object"?null:(t=ry&&t[ry]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,gf;function Ku(t){if(gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gf=e&&e[1]||""}return`
`+gf+t}var vf=!1;function yf(t,e){if(!t||vf)return"";vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function XS(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=yf(t.type,!1),t;case 11:return t=yf(t.type.render,!1),t;case 1:return t=yf(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case To:return"Portal";case cp:return"Profiler";case Bm:return"StrictMode";case hp:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P1:return(t.displayName||"Context")+".Consumer";case b1:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jm:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case Hs:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function JS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ma(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZS(t){var e=N1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=ZS(t))}function D1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pp(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ma(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F1(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function mp(t,e){F1(t,e);var n=ma(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&gp(t,e.type,ma(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gp(t,e,n){(e!=="number"||xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function Uo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ma(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ay(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Qu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ma(n)}}function L1(t,e){var n=ma(e.value),r=ma(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,O1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){eI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function B1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function M1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tI=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(tI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,zo=null,$o=null;function uy(t){if(t=rc(t)){if(typeof Ap!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Cd(e),Ap(t.stateNode,t.type,e))}}function j1(t){zo?$o?$o.push(t):$o=[t]:zo=t}function U1(){if(zo){var t=zo,e=$o;if($o=zo=null,uy(t),e)for(t=0;t<e.length;t++)uy(e[t])}}function z1(t,e){return t(e)}function $1(){}var _f=!1;function q1(t,e,n){if(_f)return t(e,n);_f=!0;try{return z1(t,e,n)}finally{_f=!1,(zo!==null||$o!==null)&&($1(),U1())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var xp=!1;if(ws)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{xp=!1}function nI(t,e,n,r,i,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var al=!1,Ch=null,Sh=!1,Cp=null,rI={onError:function(t){al=!0,Ch=t}};function iI(t,e,n,r,i,s,a,u,c){al=!1,Ch=null,nI.apply(rI,arguments)}function sI(t,e,n,r,i,s,a,u,c){if(iI.apply(this,arguments),al){if(al){var d=Ch;al=!1,Ch=null}else throw Error(re(198));Sh||(Sh=!0,Cp=d)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ly(t){if(oo(t)!==t)throw Error(re(188))}function aI(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ly(i),t;if(s===r)return ly(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function W1(t){return t=aI(t),t!==null?G1(t):null}function G1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G1(t);if(e!==null)return e;t=t.sibling}return null}var K1=Or.unstable_scheduleCallback,cy=Or.unstable_cancelCallback,oI=Or.unstable_shouldYield,uI=Or.unstable_requestPaint,Xt=Or.unstable_now,lI=Or.unstable_getCurrentPriorityLevel,zm=Or.unstable_ImmediatePriority,Q1=Or.unstable_UserBlockingPriority,Ih=Or.unstable_NormalPriority,cI=Or.unstable_LowPriority,Y1=Or.unstable_IdlePriority,Ed=null,Ui=null;function hI(t){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:pI,dI=Math.log,fI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(dI(t)/fI|0)|0}var Lc=64,Vc=4194304;function Yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Yu(u):(s&=a,s!==0&&(r=Yu(s)))}else a=n&~i,a!==0?r=Yu(a):s!==0&&(r=Yu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Si(e),i=1<<n,r|=t[n],e&=~i;return r}function mI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Si(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=mI(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X1(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function Ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=n}function vI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Si(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function J1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z1,qm,eE,tE,nE,Ip=!1,Oc=[],ia=null,sa=null,aa=null,xl=new Map,Cl=new Map,Gs=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hy(t,e){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _I(t,e,n,r,i){switch(e){case"focusin":return ia=Bu(ia,t,e,n,r,i),!0;case"dragenter":return sa=Bu(sa,t,e,n,r,i),!0;case"mouseover":return aa=Bu(aa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xl.set(s,Bu(xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cl.set(s,Bu(Cl.get(s)||null,t,e,n,r,i)),!0}return!1}function rE(t){var e=Va(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=H1(n),e!==null){t.blockedOn=e,nE(t.priority,function(){eE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wp=r,n.target.dispatchEvent(r),wp=null}else return e=rc(n),e!==null&&qm(e),t.blockedOn=n,!1;e.shift()}return!0}function dy(t,e,n){rh(t)&&n.delete(e)}function EI(){Ip=!1,ia!==null&&rh(ia)&&(ia=null),sa!==null&&rh(sa)&&(sa=null),aa!==null&&rh(aa)&&(aa=null),xl.forEach(dy),Cl.forEach(dy)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,EI)))}function Sl(t){function e(i){return Mu(i,t)}if(0<Oc.length){Mu(Oc[0],t);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ia!==null&&Mu(ia,t),sa!==null&&Mu(sa,t),aa!==null&&Mu(aa,t),xl.forEach(e),Cl.forEach(e),n=0;n<Gs.length;n++)r=Gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&Gs.shift()}var qo=Ns.ReactCurrentBatchConfig,kh=!0;function wI(t,e,n,r){var i=_t,s=qo.transition;qo.transition=null;try{_t=1,Hm(t,e,n,r)}finally{_t=i,qo.transition=s}}function AI(t,e,n,r){var i=_t,s=qo.transition;qo.transition=null;try{_t=4,Hm(t,e,n,r)}finally{_t=i,qo.transition=s}}function Hm(t,e,n,r){if(kh){var i=Tp(t,e,n,r);if(i===null)Pf(t,e,r,bh,n),hy(t,r);else if(_I(i,t,e,n,r))r.stopPropagation();else if(hy(t,r),e&4&&-1<yI.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&Z1(s),s=Tp(t,e,n,r),s===null&&Pf(t,e,r,bh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pf(t,e,r,null,n)}}var bh=null;function Tp(t,e,n,r){if(bh=null,t=Um(r),t=Va(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bh=t,null}function iE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lI()){case zm:return 1;case Q1:return 4;case Ih:case cI:return 16;case Y1:return 536870912;default:return 16}default:return 16}}var ea=null,Wm=null,ih=null;function sE(){if(ih)return ih;var t,e=Wm,n=e.length,r,i="value"in ea?ea.value:ea.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ih=i.slice(t,1<r?1-r:void 0)}function sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bc(){return!0}function fy(){return!1}function Mr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bc:fy,this.isPropagationStopped=fy,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),e}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=Mr(gu),nc=qt({},gu,{view:0,detail:0}),xI=Mr(nc),wf,Af,ju,wd=qt({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ju&&(ju&&t.type==="mousemove"?(wf=t.screenX-ju.screenX,Af=t.screenY-ju.screenY):Af=wf=0,ju=t),wf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),py=Mr(wd),CI=qt({},wd,{dataTransfer:0}),SI=Mr(CI),II=qt({},nc,{relatedTarget:0}),xf=Mr(II),TI=qt({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),kI=Mr(TI),bI=qt({},gu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PI=Mr(bI),RI=qt({},gu,{data:0}),my=Mr(RI),NI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function Km(){return LI}var VI=qt({},nc,{key:function(t){if(t.key){var e=NI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(t){return t.type==="keypress"?sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=Mr(VI),BI=qt({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=Mr(BI),MI=qt({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),jI=Mr(MI),UI=qt({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zI=Mr(UI),$I=qt({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=Mr($I),HI=[9,13,27,32],Qm=ws&&"CompositionEvent"in window,ol=null;ws&&"documentMode"in document&&(ol=document.documentMode);var WI=ws&&"TextEvent"in window&&!ol,aE=ws&&(!Qm||ol&&8<ol&&11>=ol),vy=" ",yy=!1;function oE(t,e){switch(t){case"keyup":return HI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function GI(t,e){switch(t){case"compositionend":return uE(e);case"keypress":return e.which!==32?null:(yy=!0,vy);case"textInput":return t=e.data,t===vy&&yy?null:t;default:return null}}function KI(t,e){if(bo)return t==="compositionend"||!Qm&&oE(t,e)?(t=sE(),ih=Wm=ea=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aE&&e.locale!=="ko"?null:e.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QI[t.type]:e==="textarea"}function lE(t,e,n,r){j1(r),e=Ph(e,"onChange"),0<e.length&&(n=new Gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Il=null;function YI(t){EE(t,0)}function Ad(t){var e=No(t);if(D1(e))return t}function XI(t,e){if(t==="change")return e}var cE=!1;if(ws){var Cf;if(ws){var Sf="oninput"in document;if(!Sf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Sf=typeof Ey.oninput=="function"}Cf=Sf}else Cf=!1;cE=Cf&&(!document.documentMode||9<document.documentMode)}function wy(){ul&&(ul.detachEvent("onpropertychange",hE),Il=ul=null)}function hE(t){if(t.propertyName==="value"&&Ad(Il)){var e=[];lE(e,Il,t,Um(t)),q1(YI,e)}}function JI(t,e,n){t==="focusin"?(wy(),ul=e,Il=n,ul.attachEvent("onpropertychange",hE)):t==="focusout"&&wy()}function ZI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad(Il)}function eT(t,e){if(t==="click")return Ad(e)}function tT(t,e){if(t==="input"||t==="change")return Ad(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ti=typeof Object.is=="function"?Object.is:nT;function Tl(t,e){if(Ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lp.call(e,i)||!Ti(t[i],e[i]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xy(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function dE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fE(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xh(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=fE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xy(n,s);var a=xy(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iT=ws&&"documentMode"in document&&11>=document.documentMode,Po=null,kp=null,ll=null,bp=!1;function Cy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||Po==null||Po!==xh(r)||(r=Po,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Tl(ll,r)||(ll=r,r=Ph(kp,"onSelect"),0<r.length&&(e=new Gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},If={},pE={};ws&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function xd(t){if(If[t])return If[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pE)return If[t]=e[n];return t}var mE=xd("animationend"),gE=xd("animationiteration"),vE=xd("animationstart"),yE=xd("transitionend"),_E=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(t,e){_E.set(t,e),ao(e,[t])}for(var Tf=0;Tf<Sy.length;Tf++){var kf=Sy[Tf],sT=kf.toLowerCase(),aT=kf[0].toUpperCase()+kf.slice(1);Aa(sT,"on"+aT)}Aa(mE,"onAnimationEnd");Aa(gE,"onAnimationIteration");Aa(vE,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(yE,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function Iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sI(r,e,void 0,t),t.currentTarget=null}function EE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Iy(i,u,d),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Iy(i,u,d),s=c}}}if(Sh)throw t=Cp,Sh=!1,Cp=null,t}function Dt(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(wE(e,t,2,!1),n.add(r))}function bf(t,e,n){var r=0;e&&(r|=4),wE(n,t,r,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[jc]){t[jc]=!0,k1.forEach(function(n){n!=="selectionchange"&&(oT.has(n)||bf(n,!1,t),bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jc]||(e[jc]=!0,bf("selectionchange",!1,e))}}function wE(t,e,n,r){switch(iE(e)){case 1:var i=wI;break;case 4:i=AI;break;default:i=Hm}n=i.bind(null,e,n,t),i=void 0,!xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Va(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}q1(function(){var d=s,p=Um(n),g=[];e:{var A=_E.get(t);if(A!==void 0){var b=Gm,F=t;switch(t){case"keypress":if(sh(n)===0)break e;case"keydown":case"keyup":b=OI;break;case"focusin":F="focus",b=xf;break;case"focusout":F="blur",b=xf;break;case"beforeblur":case"afterblur":b=xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=SI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=jI;break;case mE:case gE:case vE:b=kI;break;case yE:b=zI;break;case"scroll":b=xI;break;case"wheel":b=qI;break;case"copy":case"cut":case"paste":b=PI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=gy}var L=(e&4)!==0,M=!L&&t==="scroll",R=L?A!==null?A+"Capture":null:A;L=[];for(var k=d,P;k!==null;){P=k;var H=P.stateNode;if(P.tag===5&&H!==null&&(P=H,R!==null&&(H=Al(k,R),H!=null&&L.push(bl(k,H,P)))),M)break;k=k.return}0<L.length&&(A=new b(A,F,null,n,p),g.push({event:A,listeners:L}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",A&&n!==wp&&(F=n.relatedTarget||n.fromElement)&&(Va(F)||F[As]))break e;if((b||A)&&(A=p.window===p?p:(A=p.ownerDocument)?A.defaultView||A.parentWindow:window,b?(F=n.relatedTarget||n.toElement,b=d,F=F?Va(F):null,F!==null&&(M=oo(F),F!==M||F.tag!==5&&F.tag!==6)&&(F=null)):(b=null,F=d),b!==F)){if(L=py,H="onMouseLeave",R="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(L=gy,H="onPointerLeave",R="onPointerEnter",k="pointer"),M=b==null?A:No(b),P=F==null?A:No(F),A=new L(H,k+"leave",b,n,p),A.target=M,A.relatedTarget=P,H=null,Va(p)===d&&(L=new L(R,k+"enter",F,n,p),L.target=P,L.relatedTarget=M,H=L),M=H,b&&F)t:{for(L=b,R=F,k=0,P=L;P;P=Ao(P))k++;for(P=0,H=R;H;H=Ao(H))P++;for(;0<k-P;)L=Ao(L),k--;for(;0<P-k;)R=Ao(R),P--;for(;k--;){if(L===R||R!==null&&L===R.alternate)break t;L=Ao(L),R=Ao(R)}L=null}else L=null;b!==null&&Ty(g,A,b,L,!1),F!==null&&M!==null&&Ty(g,M,F,L,!0)}}e:{if(A=d?No(d):window,b=A.nodeName&&A.nodeName.toLowerCase(),b==="select"||b==="input"&&A.type==="file")var G=XI;else if(_y(A))if(cE)G=tT;else{G=ZI;var f=JI}else(b=A.nodeName)&&b.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(G=eT);if(G&&(G=G(t,d))){lE(g,G,n,p);break e}f&&f(t,A,d),t==="focusout"&&(f=A._wrapperState)&&f.controlled&&A.type==="number"&&gp(A,"number",A.value)}switch(f=d?No(d):window,t){case"focusin":(_y(f)||f.contentEditable==="true")&&(Po=f,kp=d,ll=null);break;case"focusout":ll=kp=Po=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,Cy(g,n,p);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Cy(g,n,p)}var I;if(Qm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else bo?oE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(aE&&n.locale!=="ko"&&(bo||x!=="onCompositionStart"?x==="onCompositionEnd"&&bo&&(I=sE()):(ea=p,Wm="value"in ea?ea.value:ea.textContent,bo=!0)),f=Ph(d,x),0<f.length&&(x=new my(x,t,null,n,p),g.push({event:x,listeners:f}),I?x.data=I:(I=uE(n),I!==null&&(x.data=I)))),(I=WI?GI(t,n):KI(t,n))&&(d=Ph(d,"onBeforeInput"),0<d.length&&(p=new my("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=I))}EE(g,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Al(t,n),s!=null&&r.unshift(bl(t,s,i)),s=Al(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ty(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=Al(n,s),c!=null&&a.unshift(bl(n,c,u))):i||(c=Al(n,s),c!=null&&a.push(bl(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var uT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function ky(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(lT,"")}function Uc(t,e,n){if(e=ky(e),ky(t)!==e&&n)throw Error(re(425))}function Rh(){}var Pp=null,Rp=null;function Np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(dT)}:Dp;function dT(t){setTimeout(function(){throw t})}function Rf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vu=Math.random().toString(36).slice(2),Mi="__reactFiber$"+vu,Pl="__reactProps$"+vu,As="__reactContainer$"+vu,Fp="__reactEvents$"+vu,fT="__reactListeners$"+vu,pT="__reactHandles$"+vu;function Va(t){var e=t[Mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Py(t);t!==null;){if(n=t[Mi])return n;t=Py(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[Mi]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function No(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Cd(t){return t[Pl]||null}var Lp=[],Do=-1;function xa(t){return{current:t}}function Ft(t){0>Do||(t.current=Lp[Do],Lp[Do]=null,Do--)}function bt(t,e){Do++,Lp[Do]=t.current,t.current=e}var ga={},Kn=xa(ga),vr=xa(!1),Wa=ga;function eu(t,e){var n=t.type.contextTypes;if(!n)return ga;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yr(t){return t=t.childContextTypes,t!=null}function Nh(){Ft(vr),Ft(Kn)}function Ry(t,e,n){if(Kn.current!==ga)throw Error(re(168));bt(Kn,e),bt(vr,n)}function AE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,JS(t)||"Unknown",i));return qt({},n,r)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ga,Wa=Kn.current,bt(Kn,t),bt(vr,vr.current),!0}function Ny(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=AE(t,e,Wa),r.__reactInternalMemoizedMergedChildContext=t,Ft(vr),Ft(Kn),bt(Kn,t)):Ft(vr),bt(vr,n)}var hs=null,Sd=!1,Nf=!1;function xE(t){hs===null?hs=[t]:hs.push(t)}function mT(t){Sd=!0,xE(t)}function Ca(){if(!Nf&&hs!==null){Nf=!0;var t=0,e=_t;try{var n=hs;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,Sd=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),K1(zm,Ca),i}finally{_t=e,Nf=!1}}return null}var Fo=[],Lo=0,Fh=null,Lh=0,Yr=[],Xr=0,Ga=null,ds=1,fs="";function Na(t,e){Fo[Lo++]=Lh,Fo[Lo++]=Fh,Fh=t,Lh=e}function CE(t,e,n){Yr[Xr++]=ds,Yr[Xr++]=fs,Yr[Xr++]=Ga,Ga=t;var r=ds;t=fs;var i=32-Si(r)-1;r&=~(1<<i),n+=1;var s=32-Si(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ds=1<<32-Si(e)+i|n<<i|r,fs=s+t}else ds=1<<s|n<<i|r,fs=t}function Xm(t){t.return!==null&&(Na(t,1),CE(t,1,0))}function Jm(t){for(;t===Fh;)Fh=Fo[--Lo],Fo[Lo]=null,Lh=Fo[--Lo],Fo[Lo]=null;for(;t===Ga;)Ga=Yr[--Xr],Yr[Xr]=null,fs=Yr[--Xr],Yr[Xr]=null,ds=Yr[--Xr],Yr[Xr]=null}var Lr=null,Fr=null,Vt=!1,xi=null;function SE(t,e){var n=ti(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Fr=oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ga!==null?{id:ds,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ti(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,Fr=null,!0):!1;default:return!1}}function Vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Op(t){if(Vt){var e=Fr;if(e){var n=e;if(!Dy(t,e)){if(Vp(t))throw Error(re(418));e=oa(n.nextSibling);var r=Lr;e&&Dy(t,e)?SE(r,n):(t.flags=t.flags&-4097|2,Vt=!1,Lr=t)}}else{if(Vp(t))throw Error(re(418));t.flags=t.flags&-4097|2,Vt=!1,Lr=t}}}function Fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function zc(t){if(t!==Lr)return!1;if(!Vt)return Fy(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Np(t.type,t.memoizedProps)),e&&(e=Fr)){if(Vp(t))throw IE(),Error(re(418));for(;e;)SE(t,e),e=oa(e.nextSibling)}if(Fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=oa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=Lr?oa(t.stateNode.nextSibling):null;return!0}function IE(){for(var t=Fr;t;)t=oa(t.nextSibling)}function tu(){Fr=Lr=null,Vt=!1}function Zm(t){xi===null?xi=[t]:xi.push(t)}var gT=Ns.ReactCurrentBatchConfig;function Uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function $c(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ly(t){var e=t._init;return e(t._payload)}function TE(t){function e(R,k){if(t){var P=R.deletions;P===null?(R.deletions=[k],R.flags|=16):P.push(k)}}function n(R,k){if(!t)return null;for(;k!==null;)e(R,k),k=k.sibling;return null}function r(R,k){for(R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function i(R,k){return R=ha(R,k),R.index=0,R.sibling=null,R}function s(R,k,P){return R.index=P,t?(P=R.alternate,P!==null?(P=P.index,P<k?(R.flags|=2,k):P):(R.flags|=2,k)):(R.flags|=1048576,k)}function a(R){return t&&R.alternate===null&&(R.flags|=2),R}function u(R,k,P,H){return k===null||k.tag!==6?(k=Mf(P,R.mode,H),k.return=R,k):(k=i(k,P),k.return=R,k)}function c(R,k,P,H){var G=P.type;return G===ko?p(R,k,P.props.children,H,P.key):k!==null&&(k.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Hs&&Ly(G)===k.type)?(H=i(k,P.props),H.ref=Uu(R,k,P),H.return=R,H):(H=dh(P.type,P.key,P.props,null,R.mode,H),H.ref=Uu(R,k,P),H.return=R,H)}function d(R,k,P,H){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=jf(P,R.mode,H),k.return=R,k):(k=i(k,P.children||[]),k.return=R,k)}function p(R,k,P,H,G){return k===null||k.tag!==7?(k=qa(P,R.mode,H,G),k.return=R,k):(k=i(k,P),k.return=R,k)}function g(R,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Mf(""+k,R.mode,P),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Nc:return P=dh(k.type,k.key,k.props,null,R.mode,P),P.ref=Uu(R,null,k),P.return=R,P;case To:return k=jf(k,R.mode,P),k.return=R,k;case Hs:var H=k._init;return g(R,H(k._payload),P)}if(Qu(k)||Vu(k))return k=qa(k,R.mode,P,null),k.return=R,k;$c(R,k)}return null}function A(R,k,P,H){var G=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return G!==null?null:u(R,k,""+P,H);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:return P.key===G?c(R,k,P,H):null;case To:return P.key===G?d(R,k,P,H):null;case Hs:return G=P._init,A(R,k,G(P._payload),H)}if(Qu(P)||Vu(P))return G!==null?null:p(R,k,P,H,null);$c(R,P)}return null}function b(R,k,P,H,G){if(typeof H=="string"&&H!==""||typeof H=="number")return R=R.get(P)||null,u(k,R,""+H,G);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Nc:return R=R.get(H.key===null?P:H.key)||null,c(k,R,H,G);case To:return R=R.get(H.key===null?P:H.key)||null,d(k,R,H,G);case Hs:var f=H._init;return b(R,k,P,f(H._payload),G)}if(Qu(H)||Vu(H))return R=R.get(P)||null,p(k,R,H,G,null);$c(k,H)}return null}function F(R,k,P,H){for(var G=null,f=null,I=k,x=k=0,S=null;I!==null&&x<P.length;x++){I.index>x?(S=I,I=null):S=I.sibling;var D=A(R,I,P[x],H);if(D===null){I===null&&(I=S);break}t&&I&&D.alternate===null&&e(R,I),k=s(D,k,x),f===null?G=D:f.sibling=D,f=D,I=S}if(x===P.length)return n(R,I),Vt&&Na(R,x),G;if(I===null){for(;x<P.length;x++)I=g(R,P[x],H),I!==null&&(k=s(I,k,x),f===null?G=I:f.sibling=I,f=I);return Vt&&Na(R,x),G}for(I=r(R,I);x<P.length;x++)S=b(I,R,x,P[x],H),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?x:S.key),k=s(S,k,x),f===null?G=S:f.sibling=S,f=S);return t&&I.forEach(function(B){return e(R,B)}),Vt&&Na(R,x),G}function L(R,k,P,H){var G=Vu(P);if(typeof G!="function")throw Error(re(150));if(P=G.call(P),P==null)throw Error(re(151));for(var f=G=null,I=k,x=k=0,S=null,D=P.next();I!==null&&!D.done;x++,D=P.next()){I.index>x?(S=I,I=null):S=I.sibling;var B=A(R,I,D.value,H);if(B===null){I===null&&(I=S);break}t&&I&&B.alternate===null&&e(R,I),k=s(B,k,x),f===null?G=B:f.sibling=B,f=B,I=S}if(D.done)return n(R,I),Vt&&Na(R,x),G;if(I===null){for(;!D.done;x++,D=P.next())D=g(R,D.value,H),D!==null&&(k=s(D,k,x),f===null?G=D:f.sibling=D,f=D);return Vt&&Na(R,x),G}for(I=r(R,I);!D.done;x++,D=P.next())D=b(I,R,x,D.value,H),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?x:D.key),k=s(D,k,x),f===null?G=D:f.sibling=D,f=D);return t&&I.forEach(function(U){return e(R,U)}),Vt&&Na(R,x),G}function M(R,k,P,H){if(typeof P=="object"&&P!==null&&P.type===ko&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:e:{for(var G=P.key,f=k;f!==null;){if(f.key===G){if(G=P.type,G===ko){if(f.tag===7){n(R,f.sibling),k=i(f,P.props.children),k.return=R,R=k;break e}}else if(f.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Hs&&Ly(G)===f.type){n(R,f.sibling),k=i(f,P.props),k.ref=Uu(R,f,P),k.return=R,R=k;break e}n(R,f);break}else e(R,f);f=f.sibling}P.type===ko?(k=qa(P.props.children,R.mode,H,P.key),k.return=R,R=k):(H=dh(P.type,P.key,P.props,null,R.mode,H),H.ref=Uu(R,k,P),H.return=R,R=H)}return a(R);case To:e:{for(f=P.key;k!==null;){if(k.key===f)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){n(R,k.sibling),k=i(k,P.children||[]),k.return=R,R=k;break e}else{n(R,k);break}else e(R,k);k=k.sibling}k=jf(P,R.mode,H),k.return=R,R=k}return a(R);case Hs:return f=P._init,M(R,k,f(P._payload),H)}if(Qu(P))return F(R,k,P,H);if(Vu(P))return L(R,k,P,H);$c(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(n(R,k.sibling),k=i(k,P),k.return=R,R=k):(n(R,k),k=Mf(P,R.mode,H),k.return=R,R=k),a(R)):n(R,k)}return M}var nu=TE(!0),kE=TE(!1),Vh=xa(null),Oh=null,Vo=null,eg=null;function tg(){eg=Vo=Oh=null}function ng(t){var e=Vh.current;Ft(Vh),t._currentValue=e}function Bp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Oh=t,eg=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function ii(t){var e=t._currentValue;if(eg!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(Oh===null)throw Error(re(308));Vo=t,Oh.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var Oa=null;function rg(t){Oa===null?Oa=[t]:Oa.push(t)}function bE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rg(e)):(n.next=i.next,i.next=n),e.interleaved=n,xs(t,r)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ws=!1;function ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ua(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xs(t,n)}return i=r.interleaved,i===null?(e.next=e,rg(r)):(e.next=i.next,i.next=e),r.interleaved=e,xs(t,n)}function ah(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}function Vy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bh(t,e,n,r){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=d=c=null,u=s;do{var A=u.lane,b=u.eventTime;if((r&A)===A){p!==null&&(p=p.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var F=t,L=u;switch(A=e,b=n,L.tag){case 1:if(F=L.payload,typeof F=="function"){g=F.call(b,g,A);break e}g=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=L.payload,A=typeof F=="function"?F.call(b,g,A):F,A==null)break e;g=qt({},g,A);break e;case 2:Ws=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[u]:A.push(u))}else b={eventTime:b,lane:A,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=b,c=g):p=p.next=b,a|=A;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;A=u,u=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qa|=a,t.lanes=a,t.memoizedState=g}}function Oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var ic={},zi=xa(ic),Rl=xa(ic),Nl=xa(ic);function Ba(t){if(t===ic)throw Error(re(174));return t}function sg(t,e){switch(bt(Nl,e),bt(Rl,t),bt(zi,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yp(e,t)}Ft(zi),bt(zi,e)}function ru(){Ft(zi),Ft(Rl),Ft(Nl)}function RE(t){Ba(Nl.current);var e=Ba(zi.current),n=yp(e,t.type);e!==n&&(bt(Rl,t),bt(zi,n))}function ag(t){Rl.current===t&&(Ft(zi),Ft(Rl))}var zt=xa(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Df=[];function og(){for(var t=0;t<Df.length;t++)Df[t]._workInProgressVersionPrimary=null;Df.length=0}var oh=Ns.ReactCurrentDispatcher,Ff=Ns.ReactCurrentBatchConfig,Ka=0,$t=null,ln=null,_n=null,jh=!1,cl=!1,Dl=0,vT=0;function zn(){throw Error(re(321))}function ug(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ti(t[n],e[n]))return!1;return!0}function lg(t,e,n,r,i,s){if(Ka=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oh.current=t===null||t.memoizedState===null?wT:AT,t=n(r,i),cl){s=0;do{if(cl=!1,Dl=0,25<=s)throw Error(re(301));s+=1,_n=ln=null,e.updateQueue=null,oh.current=xT,t=n(r,i)}while(cl)}if(oh.current=Uh,e=ln!==null&&ln.next!==null,Ka=0,_n=ln=$t=null,jh=!1,e)throw Error(re(300));return t}function cg(){var t=Dl!==0;return Dl=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?$t.memoizedState=_n=t:_n=_n.next=t,_n}function si(){if(ln===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=_n===null?$t.memoizedState:_n.next;if(e!==null)_n=e,ln=t;else{if(t===null)throw Error(re(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},_n===null?$t.memoizedState=_n=t:_n=_n.next=t}return _n}function Fl(t,e){return typeof e=="function"?e(t):e}function Lf(t){var e=si(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,d=s;do{var p=d.lane;if((Ka&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=g,a=r):c=c.next=g,$t.lanes|=p,Qa|=p}d=d.next}while(d!==null&&d!==s);c===null?a=r:c.next=u,Ti(r,e.memoizedState)||(gr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$t.lanes|=s,Qa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vf(t){var e=si(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ti(s,e.memoizedState)||(gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function NE(){}function DE(t,e){var n=$t,r=si(),i=e(),s=!Ti(r.memoizedState,i);if(s&&(r.memoizedState=i,gr=!0),r=r.queue,hg(VE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,Ll(9,LE.bind(null,n,r,i,e),void 0,null),En===null)throw Error(re(349));Ka&30||FE(n,e,i)}return i}function FE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LE(t,e,n,r){e.value=n,e.getSnapshot=r,OE(e)&&BE(t)}function VE(t,e,n){return n(function(){OE(e)&&BE(t)})}function OE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ti(t,n)}catch{return!0}}function BE(t){var e=xs(t,1);e!==null&&Ii(e,t,1,-1)}function By(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=ET.bind(null,$t,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ME(){return si().memoizedState}function uh(t,e,n,r){var i=Bi();$t.flags|=t,i.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function Id(t,e,n,r){var i=si();r=r===void 0?null:r;var s=void 0;if(ln!==null){var a=ln.memoizedState;if(s=a.destroy,r!==null&&ug(r,a.deps)){i.memoizedState=Ll(e,n,s,r);return}}$t.flags|=t,i.memoizedState=Ll(1|e,n,s,r)}function My(t,e){return uh(8390656,8,t,e)}function hg(t,e){return Id(2048,8,t,e)}function jE(t,e){return Id(4,2,t,e)}function UE(t,e){return Id(4,4,t,e)}function zE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,n){return n=n!=null?n.concat([t]):null,Id(4,4,zE.bind(null,e,t),n)}function dg(){}function qE(t,e){var n=si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WE(t,e,n){return Ka&21?(Ti(n,e)||(n=X1(),$t.lanes|=n,Qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=n)}function yT(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{_t=n,Ff.transition=r}}function GE(){return si().memoizedState}function _T(t,e,n){var r=ca(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KE(t))QE(e,n);else if(n=bE(t,e,n,r),n!==null){var i=ir();Ii(n,t,r,i),YE(n,e,r)}}function ET(t,e,n){var r=ca(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(t))QE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Ti(u,a)){var c=e.interleaved;c===null?(i.next=i,rg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=bE(t,e,i,r),n!==null&&(i=ir(),Ii(n,t,r,i),YE(n,e,r))}}function KE(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function QE(t,e){cl=jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}var Uh={readContext:ii,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},wT={readContext:ii,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:ii,useEffect:My,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uh(4194308,4,zE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return uh(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_T.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:dg,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=yT.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=Bi();if(Vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),En===null)throw Error(re(349));Ka&30||FE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,My(VE.bind(null,r,s,t),[t]),r.flags|=2048,Ll(9,LE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bi(),e=En.identifierPrefix;if(Vt){var n=fs,r=ds;n=(r&~(1<<32-Si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AT={readContext:ii,useCallback:qE,useContext:ii,useEffect:hg,useImperativeHandle:$E,useInsertionEffect:jE,useLayoutEffect:UE,useMemo:HE,useReducer:Lf,useRef:ME,useState:function(){return Lf(Fl)},useDebugValue:dg,useDeferredValue:function(t){var e=si();return WE(e,ln.memoizedState,t)},useTransition:function(){var t=Lf(Fl)[0],e=si().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1},xT={readContext:ii,useCallback:qE,useContext:ii,useEffect:hg,useImperativeHandle:$E,useInsertionEffect:jE,useLayoutEffect:UE,useMemo:HE,useReducer:Vf,useRef:ME,useState:function(){return Vf(Fl)},useDebugValue:dg,useDeferredValue:function(t){var e=si();return ln===null?e.memoizedState=t:WE(e,ln.memoizedState,t)},useTransition:function(){var t=Vf(Fl)[0],e=si().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1};function Ei(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=ca(t),s=ys(r,i);s.payload=e,n!=null&&(s.callback=n),e=ua(t,s,i),e!==null&&(Ii(e,t,i,r),ah(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=ca(t),s=ys(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ua(t,s,i),e!==null&&(Ii(e,t,i,r),ah(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=ca(t),i=ys(n,r);i.tag=2,e!=null&&(i.callback=e),e=ua(t,i,r),e!==null&&(Ii(e,t,r,n),ah(e,t,r))}};function jy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function XE(t,e,n){var r=!1,i=ga,s=e.contextType;return typeof s=="object"&&s!==null?s=ii(s):(i=yr(e)?Wa:Kn.current,r=e.contextTypes,s=(r=r!=null)?eu(t,i):ga),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function jp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ii(s):(s=yr(e)?Wa:Kn.current,i.context=eu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),Bh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function iu(t,e){try{var n="",r=e;do n+=XS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function JE(t,e,n){n=ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$h||($h=!0,Xp=r),Up(t,e)},n}function ZE(t,e,n){n=ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Up(t,e),typeof r!="function"&&(la===null?la=new Set([this]):la.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BT.bind(null,t,e,n),e.then(t,t))}function $y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ys(-1,1),e.tag=2,ua(n,e,1))),n.lanes|=1),t)}var ST=Ns.ReactCurrentOwner,gr=!1;function rr(t,e,n,r){e.child=t===null?kE(e,null,n,r):nu(e,t.child,n,r)}function Hy(t,e,n,r,i){n=n.render;var s=e.ref;return Ho(e,i),r=lg(t,e,n,r,s,i),n=cg(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(Vt&&n&&Xm(e),e.flags|=1,rr(t,e,r,i),e.child)}function Wy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Eg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ew(t,e,s,r,i)):(t=dh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(a,r)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=ha(s,r),t.ref=e.ref,t.return=e,e.child=t}function ew(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,r)&&t.ref===e.ref)if(gr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return zp(t,e,n,r,i)}function tw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Bo,Rr),Rr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(Bo,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bt(Bo,Rr),Rr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bt(Bo,Rr),Rr|=r;return rr(t,e,i,n),e.child}function nw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,r,i){var s=yr(n)?Wa:Kn.current;return s=eu(e,s),Ho(e,i),n=lg(t,e,n,r,s,i),r=cg(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(Vt&&r&&Xm(e),e.flags|=1,rr(t,e,n,i),e.child)}function Gy(t,e,n,r,i){if(yr(n)){var s=!0;Dh(e)}else s=!1;if(Ho(e,i),e.stateNode===null)lh(t,e),XE(e,n,r),jp(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=ii(d):(d=yr(n)?Wa:Kn.current,d=eu(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Uy(e,a,r,d),Ws=!1;var A=e.memoizedState;a.state=A,Bh(e,r,a,i),c=e.memoizedState,u!==r||A!==c||vr.current||Ws?(typeof p=="function"&&(Mp(e,n,p,r),c=e.memoizedState),(u=Ws||jy(e,n,u,r,A,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,PE(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Ei(e.type,u),a.props=d,g=e.pendingProps,A=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ii(c):(c=yr(n)?Wa:Kn.current,c=eu(e,c));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||A!==c)&&Uy(e,a,r,c),Ws=!1,A=e.memoizedState,a.state=A,Bh(e,r,a,i);var F=e.memoizedState;u!==g||A!==F||vr.current||Ws?(typeof b=="function"&&(Mp(e,n,b,r),F=e.memoizedState),(d=Ws||jy(e,n,d,r,A,F,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,F,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,F,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=F),a.props=r,a.state=F,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),r=!1)}return $p(t,e,n,r,s,i)}function $p(t,e,n,r,i,s){nw(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ny(e,n,!1),Cs(t,e,s);r=e.stateNode,ST.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=nu(e,t.child,null,s),e.child=nu(e,null,u,s)):rr(t,e,u,s),e.memoizedState=r.state,i&&Ny(e,n,!0),e.child}function rw(t){var e=t.stateNode;e.pendingContext?Ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ry(t,e.context,!1),sg(t,e.containerInfo)}function Ky(t,e,n,r,i){return tu(),Zm(i),e.flags|=256,rr(t,e,n,r),e.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function iw(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(zt,i&1),t===null)return Op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Pd(a,r,0,null),t=qa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hp(n),e.memoizedState=qp,t):fg(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return IT(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ha(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ha(u,s):(s=qa(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Hp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=qp,r}return s=t.child,t=s.sibling,r=ha(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fg(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&Zm(r),nu(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IT(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Of(Error(re(422))),qc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pd({mode:"visible",children:r.children},i,0,null),s=qa(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nu(e,t.child,null,a),e.child.memoizedState=Hp(a),e.memoizedState=qp,s);if(!(e.mode&1))return qc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(re(419)),r=Of(s,r,void 0),qc(t,e,a,r)}if(u=(a&t.childLanes)!==0,gr||u){if(r=En,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xs(t,i),Ii(r,t,i,-1))}return _g(),r=Of(Error(re(421))),qc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fr=oa(i.nextSibling),Lr=e,Vt=!0,xi=null,t!==null&&(Yr[Xr++]=ds,Yr[Xr++]=fs,Yr[Xr++]=Ga,ds=t.id,fs=t.overflow,Ga=e),e=fg(e,r.children),e.flags|=4096,e)}function Qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bp(t.return,e,n)}function Bf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rr(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,n,e);else if(t.tag===19)Qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bf(e,!0,n,null,s);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ha(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ha(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:rw(e),tu();break;case 5:RE(e);break;case 1:yr(e.type)&&Dh(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bt(Vh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?iw(t,e,n):(bt(zt,zt.current&1),t=Cs(t,e,n),t!==null?t.sibling:null);bt(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,tw(t,e,n)}return Cs(t,e,n)}var aw,Wp,ow,uw;aw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};ow=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ba(zi.current);var s=null;switch(n){case"input":i=pp(t,i),r=pp(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=vp(t,i),r=vp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}_p(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(El.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(El.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};uw=function(t,e,n,r){n!==r&&(e.flags|=4)};function zu(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kT(t,e,n){var r=e.pendingProps;switch(Jm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return yr(e.type)&&Nh(),$n(e),null;case 3:return r=e.stateNode,ru(),Ft(vr),Ft(Kn),og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(em(xi),xi=null))),Wp(t,e),$n(e),null;case 5:ag(e);var i=Ba(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)ow(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return $n(e),null}if(t=Ba(zi.current),zc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mi]=e,r[Pl]=s,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Xu.length;i++)Dt(Xu[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":iy(r,s),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dt("invalid",r);break;case"textarea":ay(r,s),Dt("invalid",r)}_p(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Uc(r.textContent,u,t),i=["children",""+u]):El.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":Dc(r),sy(r,s,!0);break;case"textarea":Dc(r),oy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Mi]=e,t[Pl]=r,aw(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ep(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xu.length;i++)Dt(Xu[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":iy(t,r),i=pp(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":ay(t,r),i=vp(t,r),Dt("invalid",t);break;default:i=r}_p(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?M1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&O1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wl(t,c):typeof c=="number"&&wl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Dt("scroll",t):c!=null&&Om(t,s,c,a))}switch(n){case"input":Dc(t),sy(t,r,!1);break;case"textarea":Dc(t),oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ma(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Uo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)uw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Ba(Nl.current),Ba(zi.current),zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mi]=e,(s=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=e,e.stateNode=r}return $n(e),null;case 13:if(Ft(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Fr!==null&&e.mode&1&&!(e.flags&128))IE(),tu(),e.flags|=98560,s=!1;else if(s=zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Mi]=e}else tu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else xi!==null&&(em(xi),xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?cn===0&&(cn=3):_g())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return ru(),Wp(t,e),t===null&&kl(e.stateNode.containerInfo),$n(e),null;case 10:return ng(e.type._context),$n(e),null;case 17:return yr(e.type)&&Nh(),$n(e),null;case 19:if(Ft(zt),s=e.memoizedState,s===null)return $n(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)zu(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mh(t),a!==null){for(e.flags|=128,zu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>su&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Vt)return $n(e),null}else 2*Xt()-s.renderingStartTime>su&&n!==1073741824&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=zt.current,bt(zt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rr&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function bT(t,e){switch(Jm(e),e.tag){case 1:return yr(e.type)&&Nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ru(),Ft(vr),Ft(Kn),og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ag(e),null;case 13:if(Ft(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));tu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(zt),null;case 4:return ru(),null;case 10:return ng(e.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Hc=!1,Wn=!1,PT=typeof WeakSet=="function"?WeakSet:Set,me=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function Gp(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var Yy=!1;function RT(t,e){if(Pp=kh,t=fE(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,p=0,g=t,A=null;t:for(;;){for(var b;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(b=g.firstChild)!==null;)A=g,g=b;for(;;){if(g===t)break t;if(A===n&&++d===i&&(u=a),A===s&&++p===r&&(c=a),(b=g.nextSibling)!==null)break;g=A,A=g.parentNode}g=b}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rp={focusedElem:t,selectionRange:n},kh=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var F=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var L=F.memoizedProps,M=F.memoizedState,R=e.stateNode,k=R.getSnapshotBeforeUpdate(e.elementType===e.type?L:Ei(e.type,L),M);R.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(H){Kt(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return F=Yy,Yy=!1,F}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gp(e,n,s)}i=i.next}while(i!==r)}}function kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lw(t){var e=t.alternate;e!==null&&(t.alternate=null,lw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[Pl],delete e[Fp],delete e[fT],delete e[pT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cw(t){return t.tag===5||t.tag===3||t.tag===4}function Xy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}var In=null,wi=!1;function Us(t,e,n){for(n=n.child;n!==null;)hw(t,e,n),n=n.sibling}function hw(t,e,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:Wn||Oo(n,e);case 6:var r=In,i=wi;In=null,Us(t,e,n),In=r,wi=i,In!==null&&(wi?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(wi?(t=In,n=n.stateNode,t.nodeType===8?Rf(t.parentNode,n):t.nodeType===1&&Rf(t,n),Sl(t)):Rf(In,n.stateNode));break;case 4:r=In,i=wi,In=n.stateNode.containerInfo,wi=!0,Us(t,e,n),In=r,wi=i;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Gp(n,e,a),i=i.next}while(i!==r)}Us(t,e,n);break;case 1:if(!Wn&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Kt(n,e,u)}Us(t,e,n);break;case 21:Us(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,Us(t,e,n),Wn=r):Us(t,e,n);break;default:Us(t,e,n)}}function Jy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PT),e.forEach(function(r){var i=jT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:In=u.stateNode,wi=!1;break e;case 3:In=u.stateNode.containerInfo,wi=!0;break e;case 4:In=u.stateNode.containerInfo,wi=!0;break e}u=u.return}if(In===null)throw Error(re(160));hw(s,a,i),In=null,wi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Kt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dw(e,t),e=e.sibling}function dw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yi(e,t),Oi(t),r&4){try{hl(3,t,t.return),kd(3,t)}catch(L){Kt(t,t.return,L)}try{hl(5,t,t.return)}catch(L){Kt(t,t.return,L)}}break;case 1:yi(e,t),Oi(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(yi(e,t),Oi(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(L){Kt(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&F1(i,s),Ep(u,a);var d=Ep(u,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?M1(i,g):p==="dangerouslySetInnerHTML"?O1(i,g):p==="children"?wl(i,g):Om(i,p,g,d)}switch(u){case"input":mp(i,s);break;case"textarea":L1(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Uo(i,!!s.multiple,b,!1):A!==!!s.multiple&&(s.defaultValue!=null?Uo(i,!!s.multiple,s.defaultValue,!0):Uo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pl]=s}catch(L){Kt(t,t.return,L)}}break;case 6:if(yi(e,t),Oi(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(L){Kt(t,t.return,L)}}break;case 3:if(yi(e,t),Oi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(L){Kt(t,t.return,L)}break;case 4:yi(e,t),Oi(t);break;case 13:yi(e,t),Oi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gg=Xt())),r&4&&Jy(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(d=Wn)||p,yi(e,t),Wn=d):yi(e,t),Oi(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(me=t,p=t.child;p!==null;){for(g=me=p;me!==null;){switch(A=me,b=A.child,A.tag){case 0:case 11:case 14:case 15:hl(4,A,A.return);break;case 1:Oo(A,A.return);var F=A.stateNode;if(typeof F.componentWillUnmount=="function"){r=A,n=A.return;try{e=r,F.props=e.memoizedProps,F.state=e.memoizedState,F.componentWillUnmount()}catch(L){Kt(r,n,L)}}break;case 5:Oo(A,A.return);break;case 22:if(A.memoizedState!==null){e0(g);continue}}b!==null?(b.return=A,me=b):e0(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=B1("display",a))}catch(L){Kt(t,t.return,L)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(L){Kt(t,t.return,L)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:yi(e,t),Oi(t),r&4&&Jy(t);break;case 21:break;default:yi(e,t),Oi(t)}}function Oi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cw(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=Xy(t);Yp(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=Xy(t);Qp(t,u,a);break;default:throw Error(re(161))}}catch(c){Kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NT(t,e,n){me=t,fw(t)}function fw(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hc;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Wn;u=Hc;var d=Wn;if(Hc=a,(Wn=c)&&!d)for(me=i;me!==null;)a=me,c=a.child,a.tag===22&&a.memoizedState!==null?t0(i):c!==null?(c.return=a,me=c):t0(i);for(;s!==null;)me=s,fw(s),s=s.sibling;me=i,Hc=u,Wn=d}Zy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):Zy(t)}}function Zy(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ei(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Oy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oy(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Sl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Wn||e.flags&512&&Kp(e)}catch(A){Kt(e,e.return,A)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function e0(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function t0(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kd(4,e)}catch(c){Kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Kt(e,i,c)}}var s=e.return;try{Kp(e)}catch(c){Kt(e,s,c)}break;case 5:var a=e.return;try{Kp(e)}catch(c){Kt(e,a,c)}}}catch(c){Kt(e,e.return,c)}if(e===t){me=null;break}var u=e.sibling;if(u!==null){u.return=e.return,me=u;break}me=e.return}}var DT=Math.ceil,zh=Ns.ReactCurrentDispatcher,pg=Ns.ReactCurrentOwner,ni=Ns.ReactCurrentBatchConfig,lt=0,En=null,nn=null,bn=0,Rr=0,Bo=xa(0),cn=0,Vl=null,Qa=0,bd=0,mg=0,dl=null,mr=null,gg=0,su=1/0,cs=null,$h=!1,Xp=null,la=null,Wc=!1,ta=null,qh=0,fl=0,Jp=null,ch=-1,hh=0;function ir(){return lt&6?Xt():ch!==-1?ch:ch=Xt()}function ca(t){return t.mode&1?lt&2&&bn!==0?bn&-bn:gT.transition!==null?(hh===0&&(hh=X1()),hh):(t=_t,t!==0||(t=window.event,t=t===void 0?16:iE(t.type)),t):1}function Ii(t,e,n,r){if(50<fl)throw fl=0,Jp=null,Error(re(185));tc(t,n,r),(!(lt&2)||t!==En)&&(t===En&&(!(lt&2)&&(bd|=n),cn===4&&Ks(t,bn)),_r(t,r),n===1&&lt===0&&!(e.mode&1)&&(su=Xt()+500,Sd&&Ca()))}function _r(t,e){var n=t.callbackNode;gI(t,e);var r=Th(t,t===En?bn:0);if(r===0)n!==null&&cy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cy(n),e===1)t.tag===0?mT(n0.bind(null,t)):xE(n0.bind(null,t)),hT(function(){!(lt&6)&&Ca()}),n=null;else{switch(J1(r)){case 1:n=zm;break;case 4:n=Q1;break;case 16:n=Ih;break;case 536870912:n=Y1;break;default:n=Ih}n=ww(n,pw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pw(t,e){if(ch=-1,hh=0,lt&6)throw Error(re(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=Th(t,t===En?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hh(t,r);else{e=r;var i=lt;lt|=2;var s=gw();(En!==t||bn!==e)&&(cs=null,su=Xt()+500,$a(t,e));do try{VT();break}catch(u){mw(t,u)}while(!0);tg(),zh.current=s,lt=i,nn!==null?e=0:(En=null,bn=0,e=cn)}if(e!==0){if(e===2&&(i=Sp(t),i!==0&&(r=i,e=Zp(t,i))),e===1)throw n=Vl,$a(t,0),Ks(t,r),_r(t,Xt()),n;if(e===6)Ks(t,r);else{if(i=t.current.alternate,!(r&30)&&!FT(i)&&(e=Hh(t,r),e===2&&(s=Sp(t),s!==0&&(r=s,e=Zp(t,s))),e===1))throw n=Vl,$a(t,0),Ks(t,r),_r(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Da(t,mr,cs);break;case 3:if(Ks(t,r),(r&130023424)===r&&(e=gg+500-Xt(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dp(Da.bind(null,t,mr,cs),e);break}Da(t,mr,cs);break;case 4:if(Ks(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Si(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DT(r/1960))-r,10<r){t.timeoutHandle=Dp(Da.bind(null,t,mr,cs),r);break}Da(t,mr,cs);break;case 5:Da(t,mr,cs);break;default:throw Error(re(329))}}}return _r(t,Xt()),t.callbackNode===n?pw.bind(null,t):null}function Zp(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=Hh(t,e),t!==2&&(e=mr,mr=n,e!==null&&em(e)),t}function em(t){mr===null?mr=t:mr.push.apply(mr,t)}function FT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ti(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(t,e){for(e&=~mg,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Si(e),r=1<<n;t[n]=-1,e&=~r}}function n0(t){if(lt&6)throw Error(re(327));Wo();var e=Th(t,0);if(!(e&1))return _r(t,Xt()),null;var n=Hh(t,e);if(t.tag!==0&&n===2){var r=Sp(t);r!==0&&(e=r,n=Zp(t,r))}if(n===1)throw n=Vl,$a(t,0),Ks(t,e),_r(t,Xt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Da(t,mr,cs),_r(t,Xt()),null}function vg(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(su=Xt()+500,Sd&&Ca())}}function Ya(t){ta!==null&&ta.tag===0&&!(lt&6)&&Wo();var e=lt;lt|=1;var n=ni.transition,r=_t;try{if(ni.transition=null,_t=1,t)return t()}finally{_t=r,ni.transition=n,lt=e,!(lt&6)&&Ca()}}function yg(){Rr=Bo.current,Ft(Bo)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cT(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(Jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:ru(),Ft(vr),Ft(Kn),og();break;case 5:ag(r);break;case 4:ru();break;case 13:Ft(zt);break;case 19:Ft(zt);break;case 10:ng(r.type._context);break;case 22:case 23:yg()}n=n.return}if(En=t,nn=t=ha(t.current,null),bn=Rr=e,cn=0,Vl=null,mg=bd=Qa=0,mr=dl=null,Oa!==null){for(e=0;e<Oa.length;e++)if(n=Oa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Oa=null}return t}function mw(t,e){do{var n=nn;try{if(tg(),oh.current=Uh,jh){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jh=!1}if(Ka=0,_n=ln=$t=null,cl=!1,Dl=0,pg.current=null,n===null||n.return===null){cn=1,Vl=e,nn=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=bn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var A=p.alternate;A?(p.updateQueue=A.updateQueue,p.memoizedState=A.memoizedState,p.lanes=A.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=$y(a);if(b!==null){b.flags&=-257,qy(b,a,u,s,e),b.mode&1&&zy(s,d,e),e=b,c=d;var F=e.updateQueue;if(F===null){var L=new Set;L.add(c),e.updateQueue=L}else F.add(c);break e}else{if(!(e&1)){zy(s,d,e),_g();break e}c=Error(re(426))}}else if(Vt&&u.mode&1){var M=$y(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),qy(M,a,u,s,e),Zm(iu(c,u));break e}}s=c=iu(c,u),cn!==4&&(cn=2),dl===null?dl=[s]:dl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=JE(s,c,e);Vy(s,R);break e;case 1:u=c;var k=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(la===null||!la.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var H=ZE(s,u,e);Vy(s,H);break e}}s=s.return}while(s!==null)}yw(n)}catch(G){e=G,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function gw(){var t=zh.current;return zh.current=Uh,t===null?Uh:t}function _g(){(cn===0||cn===3||cn===2)&&(cn=4),En===null||!(Qa&268435455)&&!(bd&268435455)||Ks(En,bn)}function Hh(t,e){var n=lt;lt|=2;var r=gw();(En!==t||bn!==e)&&(cs=null,$a(t,e));do try{LT();break}catch(i){mw(t,i)}while(!0);if(tg(),lt=n,zh.current=r,nn!==null)throw Error(re(261));return En=null,bn=0,cn}function LT(){for(;nn!==null;)vw(nn)}function VT(){for(;nn!==null&&!oI();)vw(nn)}function vw(t){var e=Ew(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?yw(t):nn=e,pg.current=null}function yw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bT(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,nn=null;return}}else if(n=kT(n,e,Rr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);cn===0&&(cn=5)}function Da(t,e,n){var r=_t,i=ni.transition;try{ni.transition=null,_t=1,OT(t,e,n,r)}finally{ni.transition=i,_t=r}return null}function OT(t,e,n,r){do Wo();while(ta!==null);if(lt&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vI(t,s),t===En&&(nn=En=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,ww(Ih,function(){return Wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ni.transition,ni.transition=null;var a=_t;_t=1;var u=lt;lt|=4,pg.current=null,RT(t,n),dw(n,t),rT(Rp),kh=!!Pp,Rp=Pp=null,t.current=n,NT(n),uI(),lt=u,_t=a,ni.transition=s}else t.current=n;if(Wc&&(Wc=!1,ta=t,qh=i),s=t.pendingLanes,s===0&&(la=null),hI(n.stateNode),_r(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($h)throw $h=!1,t=Xp,Xp=null,t;return qh&1&&t.tag!==0&&Wo(),s=t.pendingLanes,s&1?t===Jp?fl++:(fl=0,Jp=t):fl=0,Ca(),null}function Wo(){if(ta!==null){var t=J1(qh),e=ni.transition,n=_t;try{if(ni.transition=null,_t=16>t?16:t,ta===null)var r=!1;else{if(t=ta,ta=null,qh=0,lt&6)throw Error(re(331));var i=lt;for(lt|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(me=d;me!==null;){var p=me;switch(p.tag){case 0:case 11:case 15:hl(8,p,s)}var g=p.child;if(g!==null)g.return=p,me=g;else for(;me!==null;){p=me;var A=p.sibling,b=p.return;if(lw(p),p===d){me=null;break}if(A!==null){A.return=b,me=A;break}me=b}}}var F=s.alternate;if(F!==null){var L=F.child;if(L!==null){F.child=null;do{var M=L.sibling;L.sibling=null,L=M}while(L!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,me=R;break e}me=s.return}}var k=t.current;for(me=k;me!==null;){a=me;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,me=P;else e:for(a=k;me!==null;){if(u=me,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:kd(9,u)}}catch(G){Kt(u,u.return,G)}if(u===a){me=null;break e}var H=u.sibling;if(H!==null){H.return=u.return,me=H;break e}me=u.return}}if(lt=i,Ca(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Ed,t)}catch{}r=!0}return r}finally{_t=n,ni.transition=e}}return!1}function r0(t,e,n){e=iu(n,e),e=JE(t,e,1),t=ua(t,e,1),e=ir(),t!==null&&(tc(t,1,e),_r(t,e))}function Kt(t,e,n){if(t.tag===3)r0(t,t,n);else for(;e!==null;){if(e.tag===3){r0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(la===null||!la.has(r))){t=iu(n,t),t=ZE(e,t,1),e=ua(e,t,1),t=ir(),e!==null&&(tc(e,1,t),_r(e,t));break}}e=e.return}}function BT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(bn&n)===n&&(cn===4||cn===3&&(bn&130023424)===bn&&500>Xt()-gg?$a(t,0):mg|=n),_r(t,e)}function _w(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=ir();t=xs(t,e),t!==null&&(tc(t,e,n),_r(t,n))}function MT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_w(t,n)}function jT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),_w(t,n)}var Ew;Ew=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vr.current)gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gr=!1,TT(t,e,n);gr=!!(t.flags&131072)}else gr=!1,Vt&&e.flags&1048576&&CE(e,Lh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lh(t,e),t=e.pendingProps;var i=eu(e,Kn.current);Ho(e,n),i=lg(null,e,r,t,i,n);var s=cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(r)?(s=!0,Dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ig(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,jp(e,r,t,n),e=$p(null,e,r,!0,s,n)):(e.tag=0,Vt&&s&&Xm(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zT(r),t=Ei(r,t),i){case 0:e=zp(null,e,r,t,n);break e;case 1:e=Gy(null,e,r,t,n);break e;case 11:e=Hy(null,e,r,t,n);break e;case 14:e=Wy(null,e,r,Ei(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ei(r,i),zp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ei(r,i),Gy(t,e,r,i,n);case 3:e:{if(rw(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PE(t,e),Bh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=iu(Error(re(423)),e),e=Ky(t,e,r,n,i);break e}else if(r!==i){i=iu(Error(re(424)),e),e=Ky(t,e,r,n,i);break e}else for(Fr=oa(e.stateNode.containerInfo.firstChild),Lr=e,Vt=!0,xi=null,n=kE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tu(),r===i){e=Cs(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return RE(e),t===null&&Op(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Np(r,i)?a=null:s!==null&&Np(r,s)&&(e.flags|=32),nw(t,e),rr(t,e,a,n),e.child;case 6:return t===null&&Op(e),null;case 13:return iw(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nu(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ei(r,i),Hy(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,bt(Vh,r._currentValue),r._currentValue=a,s!==null)if(Ti(s.value,a)){if(s.children===i.children&&!vr.current){e=Cs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ys(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Bp(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Bp(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=ii(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=Ei(r,e.pendingProps),i=Ei(r.type,i),Wy(t,e,r,i,n);case 15:return ew(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ei(r,i),lh(t,e),e.tag=1,yr(r)?(t=!0,Dh(e)):t=!1,Ho(e,n),XE(e,r,i),jp(e,r,i,n),$p(null,e,r,!0,t,n);case 19:return sw(t,e,n);case 22:return tw(t,e,n)}throw Error(re(156,e.tag))};function ww(t,e){return K1(t,e)}function UT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,n,r){return new UT(t,e,n,r)}function Eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zT(t){if(typeof t=="function")return Eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===jm)return 14}return 2}function ha(t,e){var n=t.alternate;return n===null?(n=ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dh(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Eg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ko:return qa(n.children,i,s,e);case Bm:a=8,i|=8;break;case cp:return t=ti(12,n,e,i|2),t.elementType=cp,t.lanes=s,t;case hp:return t=ti(13,n,e,i),t.elementType=hp,t.lanes=s,t;case dp:return t=ti(19,n,e,i),t.elementType=dp,t.lanes=s,t;case R1:return Pd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b1:a=10;break e;case P1:a=9;break e;case Mm:a=11;break e;case jm:a=14;break e;case Hs:a=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=ti(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qa(t,e,n,r){return t=ti(7,t,r,e),t.lanes=n,t}function Pd(t,e,n,r){return t=ti(22,t,r,e),t.elementType=R1,t.lanes=n,t.stateNode={isHidden:!1},t}function Mf(t,e,n){return t=ti(6,t,null,e),t.lanes=n,t}function jf(t,e,n){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $T(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wg(t,e,n,r,i,s,a,u,c){return t=new $T(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(s),t}function qT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Aw(t){if(!t)return ga;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(yr(n))return AE(t,n,e)}return e}function xw(t,e,n,r,i,s,a,u,c){return t=wg(n,r,!0,t,i,s,a,u,c),t.context=Aw(null),n=t.current,r=ir(),i=ca(n),s=ys(r,i),s.callback=e??null,ua(n,s,i),t.current.lanes=i,tc(t,i,r),_r(t,r),t}function Rd(t,e,n,r){var i=e.current,s=ir(),a=ca(i);return n=Aw(n),e.context===null?e.context=n:e.pendingContext=n,e=ys(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ua(i,e,a),t!==null&&(Ii(t,i,a,s),ah(t,i,a)),a}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ag(t,e){i0(t,e),(t=t.alternate)&&i0(t,e)}function HT(){return null}var Cw=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Nd.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Rd(t,e,null,null)};Nd.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Rd(null,t,null,null)}),e[As]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=tE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gs.length&&e!==0&&e<Gs[n].priority;n++);Gs.splice(n,0,t),n===0&&rE(t)}};function Cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function WT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Wh(a);s.call(d)}}var a=xw(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=a,t[As]=a.current,kl(t.nodeType===8?t.parentNode:t),Ya(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=Wh(c);u.call(d)}}var c=wg(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=c,t[As]=c.current,kl(t.nodeType===8?t.parentNode:t),Ya(function(){Rd(e,c,n,r)}),c}function Fd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=Wh(a);u.call(c)}}Rd(e,a,t,i)}else a=WT(n,e,t,i,r);return Wh(a)}Z1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yu(e.pendingLanes);n!==0&&($m(e,n|1),_r(e,Xt()),!(lt&6)&&(su=Xt()+500,Ca()))}break;case 13:Ya(function(){var r=xs(t,1);if(r!==null){var i=ir();Ii(r,t,1,i)}}),Ag(t,1)}};qm=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=ir();Ii(e,t,134217728,n)}Ag(t,134217728)}};eE=function(t){if(t.tag===13){var e=ca(t),n=xs(t,e);if(n!==null){var r=ir();Ii(n,t,e,r)}Ag(t,e)}};tE=function(){return _t};nE=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};Ap=function(t,e,n){switch(e){case"input":if(mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(re(90));D1(r),mp(r,i)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}};z1=vg;$1=Ya;var GT={usingClientEntryPoint:!1,Events:[rc,No,Cd,j1,U1,vg]},$u={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Ed=Gc.inject(KT),Ui=Gc}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;Br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(e))throw Error(re(200));return qT(t,e,null,n)};Br.createRoot=function(t,e){if(!Cg(t))throw Error(re(299));var n=!1,r="",i=Cw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wg(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,kl(t.nodeType===8?t.parentNode:t),new xg(e)};Br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};Br.flushSync=function(t){return Ya(t)};Br.hydrate=function(t,e,n){if(!Dd(e))throw Error(re(200));return Fd(null,t,e,!0,n)};Br.hydrateRoot=function(t,e,n){if(!Cg(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Cw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xw(e,null,t,1,n??null,i,!1,s,a),t[As]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nd(e)};Br.render=function(t,e,n){if(!Dd(e))throw Error(re(200));return Fd(null,t,e,!1,n)};Br.unmountComponentAtNode=function(t){if(!Dd(t))throw Error(re(40));return t._reactRootContainer?(Ya(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};Br.unstable_batchedUpdates=vg;Br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dd(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Fd(t,e,n,!1,r)};Br.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(t){console.error(t)}}Sw(),S1.exports=Br;var Sg=S1.exports;const QT=f1(Sg),YT=d1({__proto__:null,default:QT},[Sg]);var a0=Sg;up.createRoot=a0.createRoot,up.hydrateRoot=a0.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));const o0="popstate";function XT(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:u="",hash:c=""}=Ds(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ol("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof s=="string"?s:Ja(s))}function r(i,s){Xa(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ZT(e,n,r,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JT(){return Math.random().toString(36).substr(2,8)}function u0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ol(t,e,n,r){return n===void 0&&(n=null),Ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:n,key:e&&e.key||r||JT()})}function Ja(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=tn.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(Ut({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=tn.Pop;let M=p(),R=M==null?null:M-d;d=M,c&&c({action:u,location:L.location,delta:R})}function A(M,R){u=tn.Push;let k=Ol(L.location,M,R);n&&n(k,M),d=p()+1;let P=u0(k,d),H=L.createHref(k);try{a.pushState(P,"",H)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(H)}s&&c&&c({action:u,location:L.location,delta:1})}function b(M,R){u=tn.Replace;let k=Ol(L.location,M,R);n&&n(k,M),d=p();let P=u0(k,d),H=L.createHref(k);a.replaceState(P,"",H),s&&c&&c({action:u,location:L.location,delta:0})}function F(M){let R=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof M=="string"?M:Ja(M);return k=k.replace(/ $/,"%20"),qe(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let L={get action(){return u},get location(){return t(i,a)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(o0,g),c=M,()=>{i.removeEventListener(o0,g),c=null}},createHref(M){return e(i,M)},createURL:F,encodeLocation(M){let R=F(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:b,go(M){return a.go(M)}};return L}var wt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wt||(wt={}));const ek=new Set(["lazy","caseSensitive","path","id","index","children"]);function tk(t){return t.index===!0}function Bl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],u=typeof i.id=="string"?i.id:a.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),tk(i)){let c=Ut({},i,e(i),{id:u});return r[u]=c,c}else{let c=Ut({},i,e(i),{id:u,children:void 0});return r[u]=c,i.children&&(c.children=Bl(i.children,e,a,r)),c}})}function La(t,e,n){return n===void 0&&(n="/"),fh(t,e,n,!1)}function fh(t,e,n,r){let i=typeof e=="string"?Ds(e):e,s=yu(i.pathname||"/",n);if(s==null)return null;let a=Iw(t);rk(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=pk(s);u=dk(a[c],d,r)}return u}function nk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Iw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=_s([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Iw(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:ck(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of Tw(s.path))i(s,a,c)}),e}function Tw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Tw(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function rk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ik=/^:[\w-]+$/,sk=3,ak=2,ok=1,uk=10,lk=-2,l0=t=>t==="*";function ck(t,e){let n=t.split("/"),r=n.length;return n.some(l0)&&(r+=lk),e&&(r+=ak),n.filter(i=>!l0(i)).reduce((i,s)=>i+(ik.test(s)?sk:s===""?ok:uk),r)}function hk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=c0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),A=c.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=c0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:_s([s,g.pathname]),pathnameBase:vk(_s([s,g.pathnameBase])),route:A}),g.pathnameBase!=="/"&&(s=_s([s,g.pathnameBase]))}return a}function c0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:A,isOptional:b}=p;if(A==="*"){let L=u[g]||"";a=s.slice(0,s.length-L.length).replace(/(.)\/+$/,"$1")}const F=u[g];return b&&!F?d[A]=void 0:d[A]=(F||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function fk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:gk(n,e):e,search:yk(r),hash:_k(i)}}function gk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ld(t,e){let n=kw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ds(t):(i=Ut({},t),qe(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),g-=1;i.pathname=A.join("/")}u=g>=0?e[g]:"/"}let c=mk(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Gh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Od(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bw=["post","put","patch","delete"],Ek=new Set(bw),wk=["get",...bw],Ak=new Set(wk),xk=new Set([301,302,303,307,308]),Ck=new Set([307,308]),zf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ik=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Pw="remix-router-transitions";function Tk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=z=>({hasErrorBoundary:j(z)})}else i=Ik;let s={},a=Bl(t.routes,i,void 0,s),u,c=t.basename||"/",d=t.unstable_dataStrategy||Nk,p=t.unstable_patchRoutesOnMiss,g=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),A=null,b=new Set,F=null,L=null,M=null,R=t.hydrationData!=null,k=La(a,t.history.location,c),P=null;if(k==null&&!p){let j=nr(404,{pathname:t.history.location.pathname}),{matches:z,route:K}=E0(a);k=z,P={[K.id]:j}}k&&!t.hydrationData&&Cn(k,a,t.history.location.pathname).active&&(k=null);let H;if(k)if(k.some(j=>j.route.lazy))H=!1;else if(!k.some(j=>j.route.loader))H=!0;else if(g.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null,K=Z=>Z.route.loader?typeof Z.route.loader=="function"&&Z.route.loader.hydrate===!0?!1:j&&j[Z.route.id]!==void 0||z&&z[Z.route.id]!==void 0:!0;if(z){let Z=k.findIndex(oe=>z[oe.route.id]!==void 0);H=k.slice(0,Z+1).every(K)}else H=k.every(K)}else H=t.hydrationData!=null;else if(H=!1,k=[],g.v7_partialHydration){let j=Cn(null,a,t.history.location.pathname);j.active&&j.matches&&(k=j.matches)}let G,f={historyAction:t.history.action,location:t.history.location,matches:k,initialized:H,navigation:zf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=tn.Pop,x=!1,S,D=!1,B=new Map,U=null,V=!1,He=!1,Pt=[],Bt=new Set,fe=new Map,ae=0,ve=-1,we=new Map,Ge=new Set,Ne=new Map,Qe=new Map,ft=new Set,St=new Map,Wt=new Map,An=new Map,Ni=!1;function xr(){if(A=t.history.listen(j=>{let{action:z,location:K,delta:Z}=j;if(Ni){Ni=!1;return}Xa(Wt.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Jt({currentLocation:f.location,nextLocation:K,historyAction:z});if(oe&&Z!=null){Ni=!0,t.history.go(Z*-1),Zn(oe,{state:"blocked",location:K,proceed(){Zn(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(Z)},reset(){let ge=new Map(f.blockers);ge.set(oe,qu),Lt({blockers:ge})}});return}return Dn(z,K)}),n){Hk(e,B);let j=()=>Wk(e,B);e.addEventListener("pagehide",j),U=()=>e.removeEventListener("pagehide",j)}return f.initialized||Dn(tn.Pop,f.location,{initialHydration:!0}),G}function xn(){A&&A(),U&&U(),b.clear(),S&&S.abort(),f.fetchers.forEach((j,z)=>de(z)),f.blockers.forEach((j,z)=>Di(z))}function Ur(j){return b.add(j),()=>b.delete(j)}function Lt(j,z){z===void 0&&(z={}),f=Ut({},f,j);let K=[],Z=[];g.v7_fetcherPersist&&f.fetchers.forEach((oe,ge)=>{oe.state==="idle"&&(ft.has(ge)?Z.push(ge):K.push(ge))}),[...b].forEach(oe=>oe(f,{deletedFetchers:Z,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),g.v7_fetcherPersist&&(K.forEach(oe=>f.fetchers.delete(oe)),Z.forEach(oe=>de(oe)))}function pn(j,z,K){var Z,oe;let{flushSync:ge}=K===void 0?{}:K,Te=f.actionData!=null&&f.navigation.formMethod!=null&&Ai(f.navigation.formMethod)&&f.navigation.state==="loading"&&((Z=j.state)==null?void 0:Z._isRedirect)!==!0,se;z.actionData?Object.keys(z.actionData).length>0?se=z.actionData:se=null:Te?se=f.actionData:se=null;let _e=z.loaderData?y0(f.loaderData,z.loaderData,z.matches||[],z.errors):f.loaderData,xe=f.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Ye,tt)=>xe.set(tt,qu)));let Ce=x===!0||f.navigation.formMethod!=null&&Ai(f.navigation.formMethod)&&((oe=j.state)==null?void 0:oe._isRedirect)!==!0;u&&(a=u,u=void 0),V||I===tn.Pop||(I===tn.Push?t.history.push(j,j.state):I===tn.Replace&&t.history.replace(j,j.state));let $e;if(I===tn.Pop){let Ye=B.get(f.location.pathname);Ye&&Ye.has(j.pathname)?$e={currentLocation:f.location,nextLocation:j}:B.has(j.pathname)&&($e={currentLocation:j,nextLocation:f.location})}else if(D){let Ye=B.get(f.location.pathname);Ye?Ye.add(j.pathname):(Ye=new Set([j.pathname]),B.set(f.location.pathname,Ye)),$e={currentLocation:f.location,nextLocation:j}}Lt(Ut({},z,{actionData:se,loaderData:_e,historyAction:I,location:j,initialized:!0,navigation:zf,revalidation:"idle",restoreScrollPosition:is(j,z.matches||f.matches),preventScrollReset:Ce,blockers:xe}),{viewTransitionOpts:$e,flushSync:ge===!0}),I=tn.Pop,x=!1,D=!1,V=!1,He=!1,Pt=[]}async function ci(j,z){if(typeof j=="number"){t.history.go(j);return}let K=tm(f.location,f.matches,c,g.v7_prependBasename,j,g.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:Z,submission:oe,error:ge}=h0(g.v7_normalizeFormMethod,!1,K,z),Te=f.location,se=Ol(f.location,Z,z&&z.state);se=Ut({},se,t.history.encodeLocation(se));let _e=z&&z.replace!=null?z.replace:void 0,xe=tn.Push;_e===!0?xe=tn.Replace:_e===!1||oe!=null&&Ai(oe.formMethod)&&oe.formAction===f.location.pathname+f.location.search&&(xe=tn.Replace);let Ce=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,$e=(z&&z.unstable_flushSync)===!0,Ye=Jt({currentLocation:Te,nextLocation:se,historyAction:xe});if(Ye){Zn(Ye,{state:"blocked",location:se,proceed(){Zn(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),ci(j,z)},reset(){let tt=new Map(f.blockers);tt.set(Ye,qu),Lt({blockers:tt})}});return}return await Dn(xe,se,{submission:oe,pendingError:ge,preventScrollReset:Ce,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:$e})}function hi(){if(st(),Lt({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){Dn(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}Dn(I||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function Dn(j,z,K){S&&S.abort(),S=null,I=j,V=(K&&K.startUninterruptedRevalidation)===!0,qr(f.location,f.matches),x=(K&&K.preventScrollReset)===!0,D=(K&&K.enableViewTransition)===!0;let Z=u||a,oe=K&&K.overrideNavigation,ge=La(Z,z,c),Te=(K&&K.flushSync)===!0,se=Cn(ge,Z,z.pathname);if(se.active&&se.matches&&(ge=se.matches),!ge){let{error:We,notFoundMatches:It,route:Et}=Rt(z.pathname);pn(z,{matches:It,loaderData:{},errors:{[Et.id]:We}},{flushSync:Te});return}if(f.initialized&&!He&&Bk(f.location,z)&&!(K&&K.submission&&Ai(K.submission.formMethod))){pn(z,{matches:ge},{flushSync:Te});return}S=new AbortController;let _e=xo(t.history,z,S.signal,K&&K.submission),xe;if(K&&K.pendingError)xe=[Mo(ge).route.id,{type:wt.error,error:K.pendingError}];else if(K&&K.submission&&Ai(K.submission.formMethod)){let We=await lr(_e,z,K.submission,ge,se.active,{replace:K.replace,flushSync:Te});if(We.shortCircuited)return;if(We.pendingActionResult){let[It,Et]=We.pendingActionResult;if(Nr(Et)&&Od(Et.error)&&Et.error.status===404){S=null,pn(z,{matches:We.matches,loaderData:{},errors:{[It]:Et.error}});return}}ge=We.matches||ge,xe=We.pendingActionResult,oe=$f(z,K.submission),Te=!1,se.active=!1,_e=xo(t.history,_e.url,_e.signal)}let{shortCircuited:Ce,matches:$e,loaderData:Ye,errors:tt}=await ns(_e,z,ge,se.active,oe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Te,xe);Ce||(S=null,pn(z,Ut({matches:$e||ge},_0(xe),{loaderData:Ye,errors:tt})))}async function lr(j,z,K,Z,oe,ge){ge===void 0&&(ge={}),st();let Te=$k(z,K);if(Lt({navigation:Te},{flushSync:ge.flushSync===!0}),oe){let xe=await mn(Z,z.pathname,j.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let{boundaryId:Ce,error:$e}=Ke(z.pathname,xe);return{matches:xe.partialMatches,pendingActionResult:[Ce,{type:wt.error,error:$e}]}}else if(xe.matches)Z=xe.matches;else{let{notFoundMatches:Ce,error:$e,route:Ye}=Rt(z.pathname);return{matches:Ce,pendingActionResult:[Ye.id,{type:wt.error,error:$e}]}}}let se,_e=Ju(Z,z);if(!_e.route.action&&!_e.route.lazy)se={type:wt.error,error:nr(405,{method:j.method,pathname:z.pathname,routeId:_e.route.id})};else if(se=(await Xn("action",j,[_e],Z))[0],j.signal.aborted)return{shortCircuited:!0};if(ja(se)){let xe;return ge&&ge.replace!=null?xe=ge.replace:xe=m0(se.response.headers.get("Location"),new URL(j.url),c)===f.location.pathname+f.location.search,await Yn(j,se,{submission:K,replace:xe}),{shortCircuited:!0}}if(Ma(se))throw nr(400,{type:"defer-action"});if(Nr(se)){let xe=Mo(Z,_e.route.id);return(ge&&ge.replace)!==!0&&(I=tn.Push),{matches:Z,pendingActionResult:[xe.route.id,se]}}return{matches:Z,pendingActionResult:[_e.route.id,se]}}async function ns(j,z,K,Z,oe,ge,Te,se,_e,xe,Ce){let $e=oe||$f(z,ge),Ye=ge||Te||C0($e),tt=!V&&(!g.v7_partialHydration||!_e);if(Z){if(tt){let mt=zr(Ce);Lt(Ut({navigation:$e},mt!==void 0?{actionData:mt}:{}),{flushSync:xe})}let Se=await mn(K,z.pathname,j.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let{boundaryId:mt,error:Gt}=Ke(z.pathname,Se);return{matches:Se.partialMatches,loaderData:{},errors:{[mt]:Gt}}}else if(Se.matches)K=Se.matches;else{let{error:mt,notFoundMatches:Gt,route:at}=Rt(z.pathname);return{matches:Gt,loaderData:{},errors:{[at.id]:mt}}}}let We=u||a,[It,Et]=d0(t.history,f,K,Ye,z,g.v7_partialHydration&&_e===!0,g.v7_skipActionErrorRevalidation,He,Pt,Bt,ft,Ne,Ge,We,c,Ce);if(on(Se=>!(K&&K.some(mt=>mt.route.id===Se))||It&&It.some(mt=>mt.route.id===Se)),ve=++ae,It.length===0&&Et.length===0){let Se=an();return pn(z,Ut({matches:K,loaderData:{},errors:Ce&&Nr(Ce[1])?{[Ce[0]]:Ce[1].error}:null},_0(Ce),Se?{fetchers:new Map(f.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(tt){let Se={};if(!Z){Se.navigation=$e;let mt=zr(Ce);mt!==void 0&&(Se.actionData=mt)}Et.length>0&&(Se.fetchers=sn(Et)),Lt(Se,{flushSync:xe})}Et.forEach(Se=>{fe.has(Se.key)&&Jn(Se.key),Se.controller&&fe.set(Se.key,Se.controller)});let Hr=()=>Et.forEach(Se=>Jn(Se.key));S&&S.signal.addEventListener("abort",Hr);let{loaderResults:dr,fetcherResults:Vn}=await je(f.matches,K,It,Et,j);if(j.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Hr),Et.forEach(Se=>fe.delete(Se.key));let Sr=w0([...dr,...Vn]);if(Sr){if(Sr.idx>=It.length){let Se=Et[Sr.idx-It.length].key;Ge.add(Se)}return await Yn(j,Sr.result,{replace:se}),{shortCircuited:!0}}let{loaderData:On,errors:Qt}=v0(f,K,It,dr,Ce,Et,Vn,St);St.forEach((Se,mt)=>{Se.subscribe(Gt=>{(Gt||Se.done)&&St.delete(mt)})}),g.v7_partialHydration&&_e&&f.errors&&Object.entries(f.errors).filter(Se=>{let[mt]=Se;return!It.some(Gt=>Gt.route.id===mt)}).forEach(Se=>{let[mt,Gt]=Se;Qt=Object.assign(Qt||{},{[mt]:Gt})});let Bn=an(),ce=fi(ve),fr=Bn||ce||Et.length>0;return Ut({matches:K,loaderData:On,errors:Qt},fr?{fetchers:new Map(f.fetchers)}:{})}function zr(j){if(j&&!Nr(j[1]))return{[j[0]]:j[1].data};if(f.actionData)return Object.keys(f.actionData).length===0?null:f.actionData}function sn(j){return j.forEach(z=>{let K=f.fetchers.get(z.key),Z=Hu(void 0,K?K.data:void 0);f.fetchers.set(z.key,Z)}),new Map(f.fetchers)}function cr(j,z,K,Z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(j)&&Jn(j);let oe=(Z&&Z.unstable_flushSync)===!0,ge=u||a,Te=tm(f.location,f.matches,c,g.v7_prependBasename,K,g.v7_relativeSplatPath,z,Z==null?void 0:Z.relative),se=La(ge,Te,c),_e=Cn(se,ge,Te);if(_e.active&&_e.matches&&(se=_e.matches),!se){Ln(j,z,nr(404,{pathname:Te}),{flushSync:oe});return}let{path:xe,submission:Ce,error:$e}=h0(g.v7_normalizeFormMethod,!0,Te,Z);if($e){Ln(j,z,$e,{flushSync:oe});return}let Ye=Ju(se,xe);if(x=(Z&&Z.preventScrollReset)===!0,Ce&&Ai(Ce.formMethod)){Fn(j,z,xe,Ye,se,_e.active,oe,Ce);return}Ne.set(j,{routeId:z,path:xe}),di(j,z,xe,Ye,se,_e.active,oe,Ce)}async function Fn(j,z,K,Z,oe,ge,Te,se){st(),Ne.delete(j);function _e(at){if(!at.route.action&&!at.route.lazy){let gn=nr(405,{method:se.formMethod,pathname:K,routeId:z});return Ln(j,z,gn,{flushSync:Te}),!0}return!1}if(!ge&&_e(Z))return;let xe=f.fetchers.get(j);pt(j,qk(se,xe),{flushSync:Te});let Ce=new AbortController,$e=xo(t.history,K,Ce.signal,se);if(ge){let at=await mn(oe,K,$e.signal);if(at.type==="aborted")return;if(at.type==="error"){let{error:gn}=Ke(K,at);Ln(j,z,gn,{flushSync:Te});return}else if(at.matches){if(oe=at.matches,Z=Ju(oe,K),_e(Z))return}else{Ln(j,z,nr(404,{pathname:K}),{flushSync:Te});return}}fe.set(j,Ce);let Ye=ae,We=(await Xn("action",$e,[Z],oe))[0];if($e.signal.aborted){fe.get(j)===Ce&&fe.delete(j);return}if(g.v7_fetcherPersist&&ft.has(j)){if(ja(We)||Nr(We)){pt(j,qs(void 0));return}}else{if(ja(We))if(fe.delete(j),ve>Ye){pt(j,qs(void 0));return}else return Ge.add(j),pt(j,Hu(se)),Yn($e,We,{fetcherSubmission:se});if(Nr(We)){Ln(j,z,We.error);return}}if(Ma(We))throw nr(400,{type:"defer-action"});let It=f.navigation.location||f.location,Et=xo(t.history,It,Ce.signal),Hr=u||a,dr=f.navigation.state!=="idle"?La(Hr,f.navigation.location,c):f.matches;qe(dr,"Didn't find any matches after fetcher action");let Vn=++ae;we.set(j,Vn);let Sr=Hu(se,We.data);f.fetchers.set(j,Sr);let[On,Qt]=d0(t.history,f,dr,se,It,!1,g.v7_skipActionErrorRevalidation,He,Pt,Bt,ft,Ne,Ge,Hr,c,[Z.route.id,We]);Qt.filter(at=>at.key!==j).forEach(at=>{let gn=at.key,pi=f.fetchers.get(gn),ss=Hu(void 0,pi?pi.data:void 0);f.fetchers.set(gn,ss),fe.has(gn)&&Jn(gn),at.controller&&fe.set(gn,at.controller)}),Lt({fetchers:new Map(f.fetchers)});let Bn=()=>Qt.forEach(at=>Jn(at.key));Ce.signal.addEventListener("abort",Bn);let{loaderResults:ce,fetcherResults:fr}=await je(f.matches,dr,On,Qt,Et);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Bn),we.delete(j),fe.delete(j),Qt.forEach(at=>fe.delete(at.key));let Se=w0([...ce,...fr]);if(Se){if(Se.idx>=On.length){let at=Qt[Se.idx-On.length].key;Ge.add(at)}return Yn(Et,Se.result)}let{loaderData:mt,errors:Gt}=v0(f,f.matches,On,ce,void 0,Qt,fr,St);if(f.fetchers.has(j)){let at=qs(We.data);f.fetchers.set(j,at)}fi(Vn),f.navigation.state==="loading"&&Vn>ve?(qe(I,"Expected pending action"),S&&S.abort(),pn(f.navigation.location,{matches:dr,loaderData:mt,errors:Gt,fetchers:new Map(f.fetchers)})):(Lt({errors:Gt,loaderData:y0(f.loaderData,mt,dr,Gt),fetchers:new Map(f.fetchers)}),He=!1)}async function di(j,z,K,Z,oe,ge,Te,se){let _e=f.fetchers.get(j);pt(j,Hu(se,_e?_e.data:void 0),{flushSync:Te});let xe=new AbortController,Ce=xo(t.history,K,xe.signal);if(ge){let We=await mn(oe,K,Ce.signal);if(We.type==="aborted")return;if(We.type==="error"){let{error:It}=Ke(K,We);Ln(j,z,It,{flushSync:Te});return}else if(We.matches)oe=We.matches,Z=Ju(oe,K);else{Ln(j,z,nr(404,{pathname:K}),{flushSync:Te});return}}fe.set(j,xe);let $e=ae,tt=(await Xn("loader",Ce,[Z],oe))[0];if(Ma(tt)&&(tt=await Lw(tt,Ce.signal,!0)||tt),fe.get(j)===xe&&fe.delete(j),!Ce.signal.aborted){if(ft.has(j)){pt(j,qs(void 0));return}if(ja(tt))if(ve>$e){pt(j,qs(void 0));return}else{Ge.add(j),await Yn(Ce,tt);return}if(Nr(tt)){Ln(j,z,tt.error);return}qe(!Ma(tt),"Unhandled fetcher deferred data"),pt(j,qs(tt.data))}}async function Yn(j,z,K){let{submission:Z,fetcherSubmission:oe,replace:ge}=K===void 0?{}:K;z.response.headers.has("X-Remix-Revalidate")&&(He=!0);let Te=z.response.headers.get("Location");qe(Te,"Expected a Location header on the redirect Response"),Te=m0(Te,new URL(j.url),c);let se=Ol(f.location,Te,{_isRedirect:!0});if(n){let tt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(Ig.test(Te)){const We=t.history.createURL(Te);tt=We.origin!==e.location.origin||yu(We.pathname,c)==null}if(tt){ge?e.location.replace(Te):e.location.assign(Te);return}}S=null;let _e=ge===!0||z.response.headers.has("X-Remix-Replace")?tn.Replace:tn.Push,{formMethod:xe,formAction:Ce,formEncType:$e}=f.navigation;!Z&&!oe&&xe&&Ce&&$e&&(Z=C0(f.navigation));let Ye=Z||oe;if(Ck.has(z.response.status)&&Ye&&Ai(Ye.formMethod))await Dn(_e,se,{submission:Ut({},Ye,{formAction:Te}),preventScrollReset:x});else{let tt=$f(se,Z);await Dn(_e,se,{overrideNavigation:tt,fetcherSubmission:oe,preventScrollReset:x})}}async function Xn(j,z,K,Z){try{let oe=await Dk(d,j,z,K,Z,s,i);return await Promise.all(oe.map((ge,Te)=>{if(jk(ge)){let se=ge.result;return{type:wt.redirect,response:Vk(se,z,K[Te].route.id,Z,c,g.v7_relativeSplatPath)}}return Lk(ge)}))}catch(oe){return K.map(()=>({type:wt.error,error:oe}))}}async function je(j,z,K,Z,oe){let[ge,...Te]=await Promise.all([K.length?Xn("loader",oe,K,z):[],...Z.map(se=>{if(se.matches&&se.match&&se.controller){let _e=xo(t.history,se.path,se.controller.signal);return Xn("loader",_e,[se.match],se.matches).then(xe=>xe[0])}else return Promise.resolve({type:wt.error,error:nr(404,{pathname:se.path})})})]);return await Promise.all([x0(j,K,ge,ge.map(()=>oe.signal),!1,f.loaderData),x0(j,Z.map(se=>se.match),Te,Z.map(se=>se.controller?se.controller.signal:null),!0)]),{loaderResults:ge,fetcherResults:Te}}function st(){He=!0,Pt.push(...on()),Ne.forEach((j,z)=>{fe.has(z)&&(Bt.add(z),Jn(z))})}function pt(j,z,K){K===void 0&&(K={}),f.fetchers.set(j,z),Lt({fetchers:new Map(f.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ln(j,z,K,Z){Z===void 0&&(Z={});let oe=Mo(f.matches,z);de(j),Lt({errors:{[oe.route.id]:K},fetchers:new Map(f.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function $r(j){return g.v7_fetcherPersist&&(Qe.set(j,(Qe.get(j)||0)+1),ft.has(j)&&ft.delete(j)),f.fetchers.get(j)||Sk}function de(j){let z=f.fetchers.get(j);fe.has(j)&&!(z&&z.state==="loading"&&we.has(j))&&Jn(j),Ne.delete(j),we.delete(j),Ge.delete(j),ft.delete(j),Bt.delete(j),f.fetchers.delete(j)}function Cr(j){if(g.v7_fetcherPersist){let z=(Qe.get(j)||0)-1;z<=0?(Qe.delete(j),ft.add(j)):Qe.set(j,z)}else de(j);Lt({fetchers:new Map(f.fetchers)})}function Jn(j){let z=fe.get(j);qe(z,"Expected fetch controller: "+j),z.abort(),fe.delete(j)}function rs(j){for(let z of j){let K=$r(z),Z=qs(K.data);f.fetchers.set(z,Z)}}function an(){let j=[],z=!1;for(let K of Ge){let Z=f.fetchers.get(K);qe(Z,"Expected fetcher: "+K),Z.state==="loading"&&(Ge.delete(K),j.push(K),z=!0)}return rs(j),z}function fi(j){let z=[];for(let[K,Z]of we)if(Z<j){let oe=f.fetchers.get(K);qe(oe,"Expected fetcher: "+K),oe.state==="loading"&&(Jn(K),we.delete(K),z.push(K))}return rs(z),z.length>0}function Vs(j,z){let K=f.blockers.get(j)||qu;return Wt.get(j)!==z&&Wt.set(j,z),K}function Di(j){f.blockers.delete(j),Wt.delete(j)}function Zn(j,z){let K=f.blockers.get(j)||qu;qe(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+z.state);let Z=new Map(f.blockers);Z.set(j,z),Lt({blockers:Z})}function Jt(j){let{currentLocation:z,nextLocation:K,historyAction:Z}=j;if(Wt.size===0)return;Wt.size>1&&Xa(!1,"A router only supports one blocker at a time");let oe=Array.from(Wt.entries()),[ge,Te]=oe[oe.length-1],se=f.blockers.get(ge);if(!(se&&se.state==="proceeding")&&Te({currentLocation:z,nextLocation:K,historyAction:Z}))return ge}function Rt(j){let z=nr(404,{pathname:j}),K=u||a,{matches:Z,route:oe}=E0(K);return on(),{notFoundMatches:Z,route:oe,error:z}}function Ke(j,z){return{boundaryId:Mo(z.partialMatches).route.id,error:nr(400,{type:"route-discovery",pathname:j,message:z.error!=null&&"message"in z.error?z.error:String(z.error)})}}function on(j){let z=[];return St.forEach((K,Z)=>{(!j||j(Z))&&(K.cancel(),z.push(Z),St.delete(Z))}),z}function Ae(j,z,K){if(F=j,M=z,L=K||null,!R&&f.navigation===zf){R=!0;let Z=is(f.location,f.matches);Z!=null&&Lt({restoreScrollPosition:Z})}return()=>{F=null,M=null,L=null}}function Fi(j,z){return L&&L(j,z.map(Z=>nk(Z,f.loaderData)))||j.key}function qr(j,z){if(F&&M){let K=Fi(j,z);F[K]=M()}}function is(j,z){if(F){let K=Fi(j,z),Z=F[K];if(typeof Z=="number")return Z}return null}function Cn(j,z,K){if(p)if(j){let Z=j[j.length-1].route;if(Z.path&&(Z.path==="*"||Z.path.endsWith("/*")))return{active:!0,matches:fh(z,K,c,!0)}}else return{active:!0,matches:fh(z,K,c,!0)||[]};return{active:!1,matches:null}}async function mn(j,z,K){let Z=j,oe=Z.length>0?Z[Z.length-1].route:null;for(;;){let ge=u==null,Te=u||a;try{await Rk(p,z,Z,Te,s,i,An,K)}catch(Ce){return{type:"error",error:Ce,partialMatches:Z}}finally{ge&&(a=[...a])}if(K.aborted)return{type:"aborted"};let se=La(Te,z,c),_e=!1;if(se){let Ce=se[se.length-1].route;if(Ce.index)return{type:"success",matches:se};if(Ce.path&&Ce.path.length>0)if(Ce.path==="*")_e=!0;else return{type:"success",matches:se}}let xe=fh(Te,z,c,!0);if(!xe||Z.map(Ce=>Ce.route.id).join("-")===xe.map(Ce=>Ce.route.id).join("-"))return{type:"success",matches:_e?se:null};if(Z=xe,oe=Z[Z.length-1].route,oe.path==="*")return{type:"success",matches:Z}}}function Nt(j){s={},u=Bl(j,i,void 0,s)}function hr(j,z){let K=u==null;Nw(j,z,u||a,s,i),K&&(a=[...a],Lt({}))}return G={get basename(){return c},get future(){return g},get state(){return f},get routes(){return a},get window(){return e},initialize:xr,subscribe:Ur,enableScrollRestoration:Ae,navigate:ci,fetch:cr,revalidate:hi,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:$r,deleteFetcher:Cr,dispose:xn,getBlocker:Vs,deleteBlocker:Di,patchRoutes:hr,_internalFetchControllers:fe,_internalActiveDeferreds:St,_internalSetRoutes:Nt},G}function kk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tm(t,e,n,r,i,s,a,u){let c,d;if(a){c=[];for(let g of e)if(c.push(g),g.route.id===a){d=g;break}}else c=e,d=e[e.length-1];let p=Vd(i||".",Ld(c,s),yu(t.pathname,n)||t.pathname,u==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!Tg(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:_s([n,p.pathname])),Ja(p)}function h0(t,e,n,r){if(!r||!kk(r))return{path:n};if(r.formMethod&&!zk(r.formMethod))return{path:n,error:nr(405,{method:r.formMethod})};let i=()=>({path:n,error:nr(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),u=Dw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ai(a))return i();let A=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,F)=>{let[L,M]=F;return""+b+L+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:A}}}else if(r.formEncType==="application/json"){if(!Ai(a))return i();try{let A=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:A,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let c,d;if(r.formData)c=nm(r.formData),d=r.formData;else if(r.body instanceof FormData)c=nm(r.body),d=r.body;else if(r.body instanceof URLSearchParams)c=r.body,d=g0(c);else if(r.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(r.body),d=g0(c)}catch{return i()}let p={formMethod:a,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ai(p.formMethod))return{path:n,submission:p};let g=Ds(n);return e&&g.search&&Tg(g.search)&&c.append("index",""),g.search="?"+c,{path:Ja(g),submission:p}}function bk(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function d0(t,e,n,r,i,s,a,u,c,d,p,g,A,b,F,L){let M=L?Nr(L[1])?L[1].error:L[1].data:void 0,R=t.createURL(e.location),k=t.createURL(i),P=L&&Nr(L[1])?L[0]:void 0,H=P?bk(n,P):n,G=L?L[1].statusCode:void 0,f=a&&G&&G>=400,I=H.filter((S,D)=>{let{route:B}=S;if(B.lazy)return!0;if(B.loader==null)return!1;if(s)return typeof B.loader!="function"||B.loader.hydrate?!0:e.loaderData[B.id]===void 0&&(!e.errors||e.errors[B.id]===void 0);if(Pk(e.loaderData,e.matches[D],S)||c.some(He=>He===S.route.id))return!0;let U=e.matches[D],V=S;return f0(S,Ut({currentUrl:R,currentParams:U.params,nextUrl:k,nextParams:V.params},r,{actionResult:M,actionStatus:G,defaultShouldRevalidate:f?!1:u||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||Rw(U,V)}))}),x=[];return g.forEach((S,D)=>{if(s||!n.some(Pt=>Pt.route.id===S.routeId)||p.has(D))return;let B=La(b,S.path,F);if(!B){x.push({key:D,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(D),V=Ju(B,S.path),He=!1;A.has(D)?He=!1:d.has(D)?(d.delete(D),He=!0):U&&U.state!=="idle"&&U.data===void 0?He=u:He=f0(V,Ut({currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:n[n.length-1].params},r,{actionResult:M,actionStatus:G,defaultShouldRevalidate:f?!1:u})),He&&x.push({key:D,routeId:S.routeId,path:S.path,matches:B,match:V,controller:new AbortController})}),[I,x]}function Pk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Rw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function f0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Rk(t,e,n,r,i,s,a,u){let c=[e,...n.map(d=>d.route.id)].join("-");try{let d=a.get(c);d||(d=t({path:e,matches:n,patch:(p,g)=>{u.aborted||Nw(p,g,r,i,s)}}),a.set(c,d)),d&&Mk(d)&&await d}finally{a.delete(c)}}function Nw(t,e,n,r,i){if(t){var s;let a=r[t];qe(a,"No route found to patch children into: routeId = "+t);let u=Bl(e,i,[t,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],r);a.children?a.children.push(...u):a.children=u}else{let a=Bl(e,i,["patch",String(n.length||"0")],r);n.push(...a)}}async function p0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qe(i,"No route found in manifest");let s={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";Xa(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!ek.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Ut({},e(i),{lazy:void 0}))}function Nk(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Dk(t,e,n,r,i,s,a,u){let c=r.reduce((g,A)=>g.add(A.route.id),new Set),d=new Set,p=await t({matches:i.map(g=>{let A=c.has(g.route.id);return Ut({},g,{shouldLoad:A,resolve:F=>(d.add(g.route.id),A?Fk(e,n,g,s,a,F,u):Promise.resolve({type:wt.data,result:void 0}))})}),request:n,params:i[0].params,context:u});return i.forEach(g=>qe(d.has(g.route.id),'`match.resolve()` was not called for route id "'+g.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),p.filter((g,A)=>c.has(i[A].route.id))}async function Fk(t,e,n,r,i,s,a){let u,c,d=p=>{let g,A=new Promise((L,M)=>g=M);c=()=>g(),e.signal.addEventListener("abort",c);let b=L=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:a},...L!==void 0?[L]:[]),F;return s?F=s(L=>b(L)):F=(async()=>{try{return{type:"data",result:await b()}}catch(L){return{type:"error",result:L}}})(),Promise.race([F,A])};try{let p=n.route[t];if(n.route.lazy)if(p){let g,[A]=await Promise.all([d(p).catch(b=>{g=b}),p0(n.route,i,r)]);if(g!==void 0)throw g;u=A}else if(await p0(n.route,i,r),p=n.route[t],p)u=await d(p);else if(t==="action"){let g=new URL(e.url),A=g.pathname+g.search;throw nr(405,{method:e.method,pathname:A,routeId:n.route.id})}else return{type:wt.data,result:void 0};else if(p)u=await d(p);else{let g=new URL(e.url),A=g.pathname+g.search;throw nr(404,{pathname:A})}qe(u.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:wt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function Lk(t){let{result:e,type:n}=t;if(Fw(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:wt.error,error:p}}return n===wt.error?{type:wt.error,error:new Gh(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:wt.data,data:d,statusCode:e.status,headers:e.headers}}if(n===wt.error){if(A0(e)){var r;if(e.data instanceof Error){var i;return{type:wt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Gh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:wt.error,error:e,statusCode:Od(e)?e.status:void 0}}if(Uk(e)){var s,a;return{type:wt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(A0(e)){var u,c;return{type:wt.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:wt.data,data:e}}function Vk(t,e,n,r,i,s){let a=t.headers.get("Location");if(qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ig.test(a)){let u=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=tm(new URL(e.url),u,i,!0,a,s),t.headers.set("Location",a)}return t}function m0(t,e,n){if(Ig.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=yu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function xo(t,e,n,r){let i=t.createURL(Dw(e)).toString(),s={signal:n};if(r&&Ai(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=nm(r.formData):s.body=r.formData}return new Request(i,s)}function nm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function g0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Ok(t,e,n,r,i,s){let a={},u=null,c,d=!1,p={},g=r&&Nr(r[1])?r[1].error:void 0;return n.forEach((A,b)=>{let F=e[b].route.id;if(qe(!ja(A),"Cannot handle redirect results in processLoaderData"),Nr(A)){let L=A.error;g!==void 0&&(L=g,g=void 0),u=u||{};{let M=Mo(t,F);u[M.route.id]==null&&(u[M.route.id]=L)}a[F]=void 0,d||(d=!0,c=Od(A.error)?A.error.status:500),A.headers&&(p[F]=A.headers)}else Ma(A)?(i.set(F,A.deferredData),a[F]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!d&&(c=A.statusCode),A.headers&&(p[F]=A.headers)):(a[F]=A.data,A.statusCode&&A.statusCode!==200&&!d&&(c=A.statusCode),A.headers&&(p[F]=A.headers))}),g!==void 0&&r&&(u={[r[0]]:g},a[r[0]]=void 0),{loaderData:a,errors:u,statusCode:c||200,loaderHeaders:p}}function v0(t,e,n,r,i,s,a,u){let{loaderData:c,errors:d}=Ok(e,n,r,i,u);for(let p=0;p<s.length;p++){let{key:g,match:A,controller:b}=s[p];qe(a!==void 0&&a[p]!==void 0,"Did not find corresponding fetcher result");let F=a[p];if(!(b&&b.signal.aborted))if(Nr(F)){let L=Mo(t.matches,A==null?void 0:A.route.id);d&&d[L.route.id]||(d=Ut({},d,{[L.route.id]:F.error})),t.fetchers.delete(g)}else if(ja(F))qe(!1,"Unhandled fetcher revalidation redirect");else if(Ma(F))qe(!1,"Unhandled fetcher deferred data");else{let L=qs(F.data);t.fetchers.set(g,L)}}return{loaderData:c,errors:d}}function y0(t,e,n,r){let i=Ut({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function _0(t){return t?Nr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Mo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function E0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function nr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,u="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(u="Bad Request",s==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+a):i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(u="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(u="Not Found",c='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new Gh(t||500,u,new Error(c),!0)}function w0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ja(n))return{result:n,idx:e}}}function Dw(t){let e=typeof t=="string"?Ds(t):t;return Ja(Ut({},e,{hash:""}))}function Bk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Mk(t){return typeof t=="object"&&t!=null&&"then"in t}function jk(t){return Fw(t.result)&&xk.has(t.result.status)}function Ma(t){return t.type===wt.deferred}function Nr(t){return t.type===wt.error}function ja(t){return(t&&t.type)===wt.redirect}function A0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Uk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Fw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zk(t){return Ak.has(t.toLowerCase())}function Ai(t){return Ek.has(t.toLowerCase())}async function x0(t,e,n,r,i,s){for(let a=0;a<n.length;a++){let u=n[a],c=e[a];if(!c)continue;let d=t.find(g=>g.route.id===c.route.id),p=d!=null&&!Rw(d,c)&&(s&&s[c.route.id])!==void 0;if(Ma(u)&&(i||p)){let g=r[a];qe(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await Lw(u,g,i).then(A=>{A&&(n[a]=A||n[a])})}}}async function Lw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:wt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:wt.error,error:i}}return{type:wt.data,data:t.deferredData.data}}}function Tg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ju(t,e){let n=typeof e=="string"?Ds(e).search:e.search;if(t[t.length-1].route.index&&Tg(n||""))return t[t.length-1];let r=kw(t);return r[r.length-1]}function C0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function $f(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $k(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hk(t,e){try{let n=t.sessionStorage.getItem(Pw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Wk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Pw,JSON.stringify(n))}catch(r){Xa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}const Bd=q.createContext(null),Vw=q.createContext(null),Sa=q.createContext(null),kg=q.createContext(null),Xi=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Ow=q.createContext(null);function Gk(t,e){let{relative:n}=e===void 0?{}:e;_u()||qe(!1);let{basename:r,navigator:i}=q.useContext(Sa),{hash:s,pathname:a,search:u}=Mw(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:_s([r,a])),i.createHref({pathname:c,search:u,hash:s})}function _u(){return q.useContext(kg)!=null}function Ji(){return _u()||qe(!1),q.useContext(kg).location}function Bw(t){q.useContext(Sa).static||q.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=q.useContext(Xi);return t?o2():Kk()}function Kk(){_u()||qe(!1);let t=q.useContext(Bd),{basename:e,future:n,navigator:r}=q.useContext(Sa),{matches:i}=q.useContext(Xi),{pathname:s}=Ji(),a=JSON.stringify(Ld(i,n.v7_relativeSplatPath)),u=q.useRef(!1);return Bw(()=>{u.current=!0}),q.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let g=Vd(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_s([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,a,s,t])}const Qk=q.createContext(null);function Yk(t){let e=q.useContext(Xi).outlet;return e&&q.createElement(Qk.Provider,{value:t},e)}function ai(){let{matches:t}=q.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function Mw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Sa),{matches:i}=q.useContext(Xi),{pathname:s}=Ji(),a=JSON.stringify(Ld(i,r.v7_relativeSplatPath));return q.useMemo(()=>Vd(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Xk(t,e,n,r){_u()||qe(!1);let{navigator:i}=q.useContext(Sa),{matches:s}=q.useContext(Xi),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Ji(),p;p=d;let g=p.pathname||"/",A=g;if(c!=="/"){let L=c.replace(/^\//,"").split("/");A="/"+g.replace(/^\//,"").split("/").slice(L.length).join("/")}let b=La(t,{pathname:A});return n2(b&&b.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:_s([c,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?c:_s([c,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r)}function Jk(){let t=a2(),e=Od(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const Zk=q.createElement(Jk,null);class e2 extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Xi.Provider,{value:this.props.routeContext},q.createElement(Ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t2(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(Bd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Xi.Provider,{value:e},r)}function n2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||qe(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:A,errors:b}=n,F=g.route.loader&&A[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||F){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,A)=>{let b,F=!1,L=null,M=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,L=g.route.errorElement||Zk,c&&(d<0&&A===0?(F=!0,M=null):d===A&&(F=!0,M=g.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,A+1)),k=()=>{let P;return b?P=L:F?P=M:g.route.Component?P=q.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,q.createElement(t2,{match:g,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||A===0)?q.createElement(e2,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var jw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jw||{}),Qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qh||{});function r2(t){let e=q.useContext(Bd);return e||qe(!1),e}function i2(t){let e=q.useContext(Vw);return e||qe(!1),e}function s2(t){let e=q.useContext(Xi);return e||qe(!1),e}function Uw(t){let e=s2(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function a2(){var t;let e=q.useContext(Ow),n=i2(Qh.UseRouteError),r=Uw(Qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o2(){let{router:t}=r2(jw.UseNavigateStable),e=Uw(Qh.UseNavigateStable),n=q.useRef(!1);return Bw(()=>{n.current=!0}),q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},s)))},[t,e])}function S0(t){let{to:e,replace:n,state:r,relative:i}=t;_u()||qe(!1);let{future:s,static:a}=q.useContext(Sa),{matches:u}=q.useContext(Xi),{pathname:c}=Ji(),d=fn(),p=Vd(e,Ld(u,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(p);return q.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:i}),[d,g,i,n,r]),null}function u2(t){return Yk(t.context)}function jt(t){qe(!1)}function l2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tn.Pop,navigator:s,static:a=!1,future:u}=t;_u()&&qe(!1);let c=e.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:c,navigator:s,static:a,future:Kh({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Ds(r));let{pathname:p="/",search:g="",hash:A="",state:b=null,key:F="default"}=r,L=q.useMemo(()=>{let M=yu(p,c);return M==null?null:{location:{pathname:M,search:g,hash:A,state:b,key:F},navigationType:i}},[c,p,g,A,b,F,i]);return L==null?null:q.createElement(Sa.Provider,{value:d},q.createElement(kg.Provider,{children:n,value:L}))}new Promise(()=>{});function rm(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let s=[...e,i];if(r.type===q.Fragment){n.push.apply(n,rm(r.props.children,s));return}r.type!==jt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rm(r.props.children,s)),n.push(a)}),n}function c2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:q.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:q.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:q.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function h2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f2(t,e){return t.button===0&&(!e||e==="_self")&&!d2(t)}const p2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],m2="6";try{window.__reactRouterVersion=m2}catch{}function g2(t,e){return Tk({basename:void 0,future:Ml({},void 0,{v7_prependBasename:!0}),history:XT({window:void 0}),hydrationData:v2(),routes:t,mapRouteProperties:c2,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function v2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ml({},e,{errors:y2(e.errors)})),e}function y2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Gh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const _2=q.createContext({isTransitioning:!1}),E2=q.createContext(new Map),w2="startTransition",I0=BS[w2],A2="flushSync",T0=YT[A2];function x2(t){I0?I0(t):t()}function Wu(t){T0?T0(t):t()}let C2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function S2(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=q.useState(n.state),[a,u]=q.useState(),[c,d]=q.useState({isTransitioning:!1}),[p,g]=q.useState(),[A,b]=q.useState(),[F,L]=q.useState(),M=q.useRef(new Map),{v7_startTransition:R}=r||{},k=q.useCallback(x=>{R?x2(x):x()},[R]),P=q.useCallback((x,S)=>{let{deletedFetchers:D,unstable_flushSync:B,unstable_viewTransitionOpts:U}=S;D.forEach(He=>M.current.delete(He)),x.fetchers.forEach((He,Pt)=>{He.data!==void 0&&M.current.set(Pt,He.data)});let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!U||V){B?Wu(()=>s(x)):k(()=>s(x));return}if(B){Wu(()=>{A&&(p&&p.resolve(),A.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let He=n.window.document.startViewTransition(()=>{Wu(()=>s(x))});He.finished.finally(()=>{Wu(()=>{g(void 0),b(void 0),u(void 0),d({isTransitioning:!1})})}),Wu(()=>b(He));return}A?(p&&p.resolve(),A.skipTransition(),L({state:x,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(x),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,A,p,M,k]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new C2)},[c]),q.useEffect(()=>{if(p&&a&&n.window){let x=a,S=p.promise,D=n.window.document.startViewTransition(async()=>{k(()=>s(x)),await S});D.finished.finally(()=>{g(void 0),b(void 0),u(void 0),d({isTransitioning:!1})}),b(D)}},[k,a,p,n.window]),q.useEffect(()=>{p&&a&&i.location.key===a.location.key&&p.resolve()},[p,A,i.location,a]),q.useEffect(()=>{!c.isTransitioning&&F&&(u(F.state),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}),L(void 0))},[c.isTransitioning,F]),q.useEffect(()=>{},[]);let H=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,S,D)=>n.navigate(x,{state:S,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(x,S,D)=>n.navigate(x,{replace:!0,state:S,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),G=n.basename||"/",f=q.useMemo(()=>({router:n,navigator:H,static:!1,basename:G}),[n,H,G]),I=q.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return q.createElement(q.Fragment,null,q.createElement(Bd.Provider,{value:f},q.createElement(Vw.Provider,{value:i},q.createElement(E2.Provider,{value:M.current},q.createElement(_2.Provider,{value:c},q.createElement(l2,{basename:G,location:i.location,navigationType:i.historyAction,navigator:H,future:I},i.initialized||n.future.v7_partialHydration?q.createElement(I2,{routes:n.routes,future:n.future,state:i}):e))))),null)}const I2=q.memo(T2);function T2(t){let{routes:e,future:n,state:r}=t;return Xk(e,void 0,r,n)}const k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,va=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:c,to:d,preventScrollReset:p,unstable_viewTransition:g}=e,A=h2(e,p2),{basename:b}=q.useContext(Sa),F,L=!1;if(typeof d=="string"&&b2.test(d)&&(F=d,k2))try{let P=new URL(window.location.href),H=d.startsWith("//")?new URL(P.protocol+d):new URL(d),G=yu(H.pathname,b);H.origin===P.origin&&G!=null?d=G+H.search+H.hash:L=!0}catch{}let M=Gk(d,{relative:i}),R=P2(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,unstable_viewTransition:g});function k(P){r&&r(P),P.defaultPrevented||R(P)}return q.createElement("a",Ml({},A,{href:F||M,onClick:L||s?r:k,ref:n,target:c}))});var k0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k0||(k0={}));var b0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b0||(b0={}));function P2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,c=fn(),d=Ji(),p=Mw(t,{relative:a});return q.useCallback(g=>{if(f2(g,n)){g.preventDefault();let A=r!==void 0?r:Ja(d)===Ja(p);c(t,{replace:A,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u})}},[d,c,p,r,i,n,t,s,a,u])}const R2=()=>_.jsxs("header",{className:"header text-center border-bottom py-3",children:[_.jsx("h1",{className:"fw-bold",children:_.jsx(va,{to:"/",className:"text-dark",children:"   "})}),_.jsx("p",{className:"text-danger fw-bold m-0",children:"[    ]"})]}),N2=()=>_.jsx("div",{className:"subheader bg-dark text-light fs-6",style:{padding:"11px 0"},children:_.jsxs("div",{className:"container-xl text-center",children:["  : ",_.jsx("a",{href:"https://t.me/darelom_students",children:" ."})]})}),D2=()=>_.jsx("footer",{className:"footer bg-black py-4",children:_.jsxs("div",{className:"container text-center text-light",children:[_.jsxs("div",{className:"d-flex flex-wrap gap-4 gap-sm-5",children:[_.jsxs(P0,{title:" ",children:[_.jsx(zs,{children:"      ."}),_.jsxs(zs,{children:[_.jsx("span",{children:"  : "}),_.jsx(va,{to:"/send_problem",children:"  "}),"."]}),_.jsxs(zs,{children:[_.jsx("span",{children:" : "}),_.jsx(va,{to:"/send_suggestion",children:"  "}),"."]}),_.jsxs(zs,{children:[_.jsx("span",{children:" : "}),_.jsx("a",{href:"https://t.me/darelom_students",children:" "}),"."]})]}),_.jsxs(P0,{title:" ",children:[_.jsx(zs,{children:_.jsx("a",{href:"https://github.com/iabdwahab/darelom-students",children:"   GitHub."})}),_.jsx(zs,{children:_.jsx("a",{href:"https://iabdwahab.me",children:" ."})}),_.jsx(zs,{children:_.jsx("a",{href:"https://www.linkedin.com/in/iabdwahab/",children:"LinkedIn."})}),_.jsx(zs,{children:_.jsx("a",{href:"https://github.com/iabdwahab",children:"GitHub."})})]})]}),_.jsx("hr",{}),_.jsxs("p",{className:"m-0",children:[_.jsx("span",{children:"   : "}),_.jsx("span",{className:"text-warning",children:"  ."})]})]})});function P0({title:t,children:e}){return _.jsxs("div",{className:"text-end",children:[_.jsxs("h4",{className:"mb-3",children:[t,":"]}),e]})}function zs({children:t}){return _.jsxs("p",{className:"m-0",children:["- ",t]})}const F2=()=>{const{pathname:t}=Ji();q.useEffect(()=>{window.scrollTo(0,0)},[t])};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let A=(u&15)<<2|d>>6,b=d&63;c||(b=64,a||(A=64)),r.push(n[p],n[g],n[A],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||g==null)throw new V2;const A=s<<2|u>>4;if(r.push(A),d!==64){const b=u<<4&240|d>>2;if(r.push(b),g!==64){const F=d<<6&192|g;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(t){const e=zw(t);return $w.encodeByteArray(e,!0)},Yh=function(t){return O2(t).replace(/\./g,"")},qw=function(t){try{return $w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=()=>B2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof R0>"u")return;const t=R0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qw(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return M2()||j2()||U2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hw=t=>{var e,n;return(n=(e=Md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z2=t=>{const e=Hw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ww=()=>{var t;return(t=Md())===null||t===void 0?void 0:t.config},Gw=t=>{var e;return(e=Md())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yh(JSON.stringify(n)),Yh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function W2(){var t;const e=(t=Md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K2(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q2(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Yw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Y2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X2,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?J2(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Ri(i,u,r)}}function J2(t,e){return t.replace(Z2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Z2=/\{\$([^}]+)}/g;function eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(N0(s)&&N0(a)){if(!jl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function el(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tb(t,e){const n=new nb(t,e);return n.subscribe.bind(n)}class nb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qf),i.error===void 0&&(i.error=qf),i.complete===void 0&&(i.complete=qf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1e3,sb=2,ab=4*60*60*1e3,ob=.5;function D0(t,e=ib,n=sb){const r=e*Math.pow(n,t),i=Math.round(ob*r*(Math.random()-.5)*2);return Math.min(ab,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(t){return t===Fa?void 0:t}function cb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ub(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const db={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},fb=rt.INFO,pb={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},mb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jd{constructor(e){this.name=e,this._logLevel=fb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const gb=(t,e)=>e.some(n=>t instanceof n);let F0,L0;function vb(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xw=new WeakMap,im=new WeakMap,Jw=new WeakMap,Hf=new WeakMap,bg=new WeakMap;function _b(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(da(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Xw.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function Eb(t){if(im.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});im.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wb(t){sm=t(sm)}function Ab(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wf(this),e,...n);return Jw.set(r,e.sort?e.sort():[e]),da(r)}:yb().includes(t)?function(...e){return t.apply(Wf(this),e),da(Xw.get(this))}:function(...e){return da(t.apply(Wf(this),e))}}function xb(t){return typeof t=="function"?Ab(t):(t instanceof IDBTransaction&&Eb(t),gb(t,vb())?new Proxy(t,sm):t)}function da(t){if(t instanceof IDBRequest)return _b(t);if(Hf.has(t))return Hf.get(t);const e=xb(t);return e!==t&&(Hf.set(t,e),bg.set(e,t)),e}const Wf=t=>bg.get(t);function Zw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=da(a);return r&&a.addEventListener("upgradeneeded",c=>{r(da(a.result),c.oldVersion,c.newVersion,da(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Cb=["get","getKey","getAll","getAllKeys","count"],Sb=["put","add","delete","clear"],Gf=new Map;function V0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Cb.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return Gf.set(e,s),s}wb(t=>({...t,get:(e,n,r)=>V0(e,n)||t.get(e,n,r),has:(e,n)=>!!V0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",O0="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new jd("@firebase/app"),kb="@firebase/app-compat",bb="@firebase/analytics-compat",Pb="@firebase/analytics",Rb="@firebase/app-check-compat",Nb="@firebase/app-check",Db="@firebase/auth",Fb="@firebase/auth-compat",Lb="@firebase/database",Vb="@firebase/database-compat",Ob="@firebase/functions",Bb="@firebase/functions-compat",Mb="@firebase/installations",jb="@firebase/installations-compat",Ub="@firebase/messaging",zb="@firebase/messaging-compat",$b="@firebase/performance",qb="@firebase/performance-compat",Hb="@firebase/remote-config",Wb="@firebase/remote-config-compat",Gb="@firebase/storage",Kb="@firebase/storage-compat",Qb="@firebase/firestore",Yb="@firebase/vertexai-preview",Xb="@firebase/firestore-compat",Jb="firebase",Zb="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",eP={[am]:"fire-core",[kb]:"fire-core-compat",[Pb]:"fire-analytics",[bb]:"fire-analytics-compat",[Nb]:"fire-app-check",[Rb]:"fire-app-check-compat",[Db]:"fire-auth",[Fb]:"fire-auth-compat",[Lb]:"fire-rtdb",[Vb]:"fire-rtdb-compat",[Ob]:"fire-fn",[Bb]:"fire-fn-compat",[Mb]:"fire-iid",[jb]:"fire-iid-compat",[Ub]:"fire-fcm",[zb]:"fire-fcm-compat",[$b]:"fire-perf",[qb]:"fire-perf-compat",[Hb]:"fire-rc",[Wb]:"fire-rc-compat",[Gb]:"fire-gcs",[Kb]:"fire-gcs-compat",[Qb]:"fire-fst",[Xb]:"fire-fst-compat",[Yb]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,tP=new Map,um=new Map;function B0(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(um.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of Xh.values())B0(n,t);for(const n of tP.values())B0(n,t);return!0}function lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new uo("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=Zb;function eA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:om,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fa.create("bad-app-name",{appName:String(i)});if(n||(n=Ww()),!n)throw fa.create("no-options");const s=Xh.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw fa.create("duplicate-app",{appName:i})}const a=new hb(i);for(const c of um.values())a.addComponent(c);const u=new rP(n,r,a);return Xh.set(i,u),u}function Pg(t=om){const e=Xh.get(t);if(!e&&t===om&&Ww())return eA();if(!e)throw fa.create("no-app",{appName:t});return e}function ri(t,e,n){var r;let i=(r=eP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(u.join(" "));return}Qi(new ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",sP=1,Ul="firebase-heartbeat-store";let Kf=null;function tA(){return Kf||(Kf=Zw(iP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),Kf}async function aP(t){try{const n=(await tA()).transaction(Ul),r=await n.objectStore(Ul).get(nA(t));return await n.done,r}catch(e){if(e instanceof Ri)Ss.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function M0(t,e){try{const r=(await tA()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,nA(t)),await r.done}catch(n){if(n instanceof Ri)Ss.warn(n.message);else{const r=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function nA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1024,uP=30*24*60*60*1e3;class lP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=uP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j0(),{heartbeatsToSend:r,unsentEntries:i}=cP(this._heartbeatsCache.heartbeats),s=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function j0(){return new Date().toISOString().substring(0,10)}function cP(t,e=oP){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),U0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?Yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U0(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){Qi(new ki("platform-logger",e=>new Ib(e),"PRIVATE")),Qi(new ki("heartbeat",e=>new lP(e),"PRIVATE")),ri(am,O0,t),ri(am,O0,"esm2017"),ri("fire-js","")}dP("");var fP="firebase",pP="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(fP,pP,"app");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,rA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function S(){}S.prototype=x.prototype,I.D=x.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(D,B,U){for(var V=Array(arguments.length-2),He=2;He<arguments.length;He++)V[He-2]=arguments[He];return x.prototype[B].apply(D,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,S){S||(S=0);var D=Array(16);if(typeof x=="string")for(var B=0;16>B;++B)D[B]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(B=0;16>B;++B)D[B]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=I.g[0],S=I.g[1],B=I.g[2];var U=I.g[3],V=x+(U^S&(B^U))+D[0]+3614090360&4294967295;x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[1]+3905402710&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[2]+606105819&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[3]+3250441966&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[4]+4118548399&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[5]+1200080426&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[6]+2821735955&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[7]+4249261313&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[8]+1770035416&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[9]+2336552879&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[10]+4294925233&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[11]+2304563134&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(U^S&(B^U))+D[12]+1804603682&4294967295,x=S+(V<<7&4294967295|V>>>25),V=U+(B^x&(S^B))+D[13]+4254626195&4294967295,U=x+(V<<12&4294967295|V>>>20),V=B+(S^U&(x^S))+D[14]+2792965006&4294967295,B=U+(V<<17&4294967295|V>>>15),V=S+(x^B&(U^x))+D[15]+1236535329&4294967295,S=B+(V<<22&4294967295|V>>>10),V=x+(B^U&(S^B))+D[1]+4129170786&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[6]+3225465664&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[11]+643717713&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[0]+3921069994&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[5]+3593408605&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[10]+38016083&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[15]+3634488961&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[4]+3889429448&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[9]+568446438&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[14]+3275163606&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[3]+4107603335&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[8]+1163531501&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(B^U&(S^B))+D[13]+2850285829&4294967295,x=S+(V<<5&4294967295|V>>>27),V=U+(S^B&(x^S))+D[2]+4243563512&4294967295,U=x+(V<<9&4294967295|V>>>23),V=B+(x^S&(U^x))+D[7]+1735328473&4294967295,B=U+(V<<14&4294967295|V>>>18),V=S+(U^x&(B^U))+D[12]+2368359562&4294967295,S=B+(V<<20&4294967295|V>>>12),V=x+(S^B^U)+D[5]+4294588738&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[8]+2272392833&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[11]+1839030562&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[14]+4259657740&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[1]+2763975236&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[4]+1272893353&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[7]+4139469664&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[10]+3200236656&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[13]+681279174&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[0]+3936430074&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[3]+3572445317&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[6]+76029189&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(S^B^U)+D[9]+3654602809&4294967295,x=S+(V<<4&4294967295|V>>>28),V=U+(x^S^B)+D[12]+3873151461&4294967295,U=x+(V<<11&4294967295|V>>>21),V=B+(U^x^S)+D[15]+530742520&4294967295,B=U+(V<<16&4294967295|V>>>16),V=S+(B^U^x)+D[2]+3299628645&4294967295,S=B+(V<<23&4294967295|V>>>9),V=x+(B^(S|~U))+D[0]+4096336452&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[7]+1126891415&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[14]+2878612391&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[5]+4237533241&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[12]+1700485571&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[3]+2399980690&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[10]+4293915773&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[1]+2240044497&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[8]+1873313359&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[15]+4264355552&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[6]+2734768916&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[13]+1309151649&4294967295,S=B+(V<<21&4294967295|V>>>11),V=x+(B^(S|~U))+D[4]+4149444226&4294967295,x=S+(V<<6&4294967295|V>>>26),V=U+(S^(x|~B))+D[11]+3174756917&4294967295,U=x+(V<<10&4294967295|V>>>22),V=B+(x^(U|~S))+D[2]+718787259&4294967295,B=U+(V<<15&4294967295|V>>>17),V=S+(U^(B|~x))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var S=x-this.blockSize,D=this.B,B=this.h,U=0;U<x;){if(B==0)for(;U<=S;)i(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<x;)if(D[B++]=I.charCodeAt(U++),B==this.blockSize){i(this,D),B=0;break}}else for(;U<x;)if(D[B++]=I[U++],B==this.blockSize){i(this,D),B=0;break}}this.h=B,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var S=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=S&255,S/=256;for(this.u(I),I=Array(16),x=S=0;4>x;++x)for(var D=0;32>D;D+=8)I[S++]=this.g[x]>>>D&255;return I};function s(I,x){var S=u;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=x(I)}function a(I,x){this.h=x;for(var S=[],D=!0,B=I.length-1;0<=B;B--){var U=I[B]|0;D&&U==x||(S[B]=U,D=!1)}this.g=S}var u={};function c(I){return-128<=I&&128>I?s(I,function(x){return new a([x|0],0>x?-1:0)}):new a([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return M(d(-I));for(var x=[],S=1,D=0;I>=S;D++)x[D]=I/S|0,S*=4294967296;return new a(x,0)}function p(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return M(p(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(x,8)),D=g,B=0;B<I.length;B+=8){var U=Math.min(8,I.length-B),V=parseInt(I.substring(B,B+U),x);8>U?(U=d(Math.pow(x,U)),D=D.j(U).add(d(V))):(D=D.j(S),D=D.add(d(V)))}return D}var g=c(0),A=c(1),b=c(16777216);t=a.prototype,t.m=function(){if(L(this))return-M(this).m();for(var I=0,x=1,S=0;S<this.g.length;S++){var D=this.i(S);I+=(0<=D?D:4294967296+D)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(L(this))return"-"+M(this).toString(I);for(var x=d(Math.pow(I,6)),S=this,D="";;){var B=H(S,x).g;S=R(S,B.j(x));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=B,F(S))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=R(this,I),L(I)?-1:F(I)?0:1};function M(I){for(var x=I.g.length,S=[],D=0;D<x;D++)S[D]=~I.g[D];return new a(S,~I.h).add(A)}t.abs=function(){return L(this)?M(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0,B=0;B<=x;B++){var U=D+(this.i(B)&65535)+(I.i(B)&65535),V=(U>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);D=V>>>16,U&=65535,V&=65535,S[B]=V<<16|U}return new a(S,S[S.length-1]&-2147483648?-1:0)};function R(I,x){return I.add(M(x))}t.j=function(I){if(F(this)||F(I))return g;if(L(this))return L(I)?M(this).j(M(I)):M(M(this).j(I));if(L(I))return M(this.j(M(I)));if(0>this.l(b)&&0>I.l(b))return d(this.m()*I.m());for(var x=this.g.length+I.g.length,S=[],D=0;D<2*x;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var B=0;B<I.g.length;B++){var U=this.i(D)>>>16,V=this.i(D)&65535,He=I.i(B)>>>16,Pt=I.i(B)&65535;S[2*D+2*B]+=V*Pt,k(S,2*D+2*B),S[2*D+2*B+1]+=U*Pt,k(S,2*D+2*B+1),S[2*D+2*B+1]+=V*He,k(S,2*D+2*B+1),S[2*D+2*B+2]+=U*He,k(S,2*D+2*B+2)}for(D=0;D<x;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=x;D<2*x;D++)S[D]=0;return new a(S,0)};function k(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function P(I,x){this.g=I,this.h=x}function H(I,x){if(F(x))throw Error("division by zero");if(F(I))return new P(g,g);if(L(I))return x=H(M(I),x),new P(M(x.g),M(x.h));if(L(x))return x=H(I,M(x)),new P(M(x.g),x.h);if(30<I.g.length){if(L(I)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var S=A,D=x;0>=D.l(I);)S=G(S),D=G(D);var B=f(S,1),U=f(D,1);for(D=f(D,2),S=f(S,2);!F(D);){var V=U.add(D);0>=V.l(I)&&(B=B.add(S),U=V),D=f(D,1),S=f(S,1)}return x=R(I,B.j(x)),new P(B,x)}for(B=g;0<=I.l(x);){for(S=Math.max(1,Math.floor(I.m()/x.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=d(S),V=U.j(x);L(V)||0<V.l(I);)S-=D,U=d(S),V=U.j(x);F(U)&&(U=A),B=B.add(U),I=R(I,V)}return new P(B,I)}t.A=function(I){return H(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)&I.i(D);return new a(S,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)|I.i(D);return new a(S,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),S=[],D=0;D<x;D++)S[D]=this.i(D)^I.i(D);return new a(S,this.h^I.h)};function G(I){for(var x=I.g.length+1,S=[],D=0;D<x;D++)S[D]=I.i(D)<<1|I.i(D-1)>>>31;return new a(S,I.h)}function f(I,x){var S=x>>5;x%=32;for(var D=I.g.length-S,B=[],U=0;U<D;U++)B[U]=0<x?I.i(U+S)>>>x|I.i(U+S+1)<<32-x:I.i(U+S);return new a(B,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,Ha=a}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iA,sA,tl,aA,ph,lm,oA,uA,lA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,y){return l==Array.prototype||l==Object.prototype||(l[m]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<l.length;++m){var y=l[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var y=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var W=l[T];if(!(W in y))break e;y=y[W]}l=l[l.length-1],T=y[l],m=m(T),m!=T&&m!=null&&e(y,l,{configurable:!0,writable:!0,value:m})}}function s(l,m){l instanceof String&&(l+="");var y=0,T=!1,W={next:function(){if(!T&&y<l.length){var X=y++;return{value:m(X,l[X]),done:!1}}return T=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(l){return l||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function d(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function p(l,m,y){return l.call.apply(l.bind,arguments)}function g(l,m,y){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,T),l.apply(m,W)}}return function(){return l.apply(m,arguments)}}function A(l,m,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,A.apply(null,arguments)}function b(l,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function F(l,m){function y(){}y.prototype=m.prototype,l.aa=m.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(T,W,X){for(var le=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)le[Ct-2]=arguments[Ct];return m.prototype[W].apply(T,le)}}function L(l){const m=l.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=l[T];return y}return[]}function M(l,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(c(T)){const W=l.length||0,X=T.length||0;l.length=W+X;for(let le=0;le<X;le++)l[W+le]=T[le]}else l.push(T)}}class R{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(l){return/^[\s\xa0]*$/.test(l)}function P(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var G=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function f(l,m,y){for(const T in l)m.call(y,l[T],T,l)}function I(l,m){for(const y in l)m.call(void 0,l[y],y,l)}function x(l){const m={};for(const y in l)m[y]=l[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,m){let y,T;for(let W=1;W<arguments.length;W++){T=arguments[W];for(y in T)l[y]=T[y];for(let X=0;X<S.length;X++)y=S[X],Object.prototype.hasOwnProperty.call(T,y)&&(l[y]=T[y])}}function B(l){var m=1;l=l.split(":");const y=[];for(;0<m&&l.length;)y.push(l.shift()),m--;return l.length&&y.push(l.join(":")),y}function U(l){u.setTimeout(()=>{throw l},0)}function V(){var l=ve;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,y){const T=Pt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Pt=new R(()=>new Bt,l=>l.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ae=!1,ve=new He,we=()=>{const l=u.Promise.resolve(void 0);fe=()=>{l.then(Ge)}};var Ge=()=>{for(var l;l=V();){try{l.h.call(l.g)}catch(y){U(y)}var m=Pt;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}ae=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};u.addEventListener("test",y,m),u.removeEventListener("test",y,m)}catch{}return l}();function St(l,m){if(Qe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(G){e:{try{H(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else y=="mouseover"?m=l.fromElement:y=="mouseout"&&(m=l.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Wt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&St.aa.h.call(this)}}F(St,Qe);var Wt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),Ni=0;function xr(l,m,y,T,W){this.listener=l,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=W,this.key=++Ni,this.da=this.fa=!1}function xn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ur(l){this.src=l,this.g={},this.h=0}Ur.prototype.add=function(l,m,y,T,W){var X=l.toString();l=this.g[X],l||(l=this.g[X]=[],this.h++);var le=pn(l,m,T,W);return-1<le?(m=l[le],y||(m.fa=!1)):(m=new xr(m,this.src,X,!!T,W),m.fa=y,l.push(m)),m};function Lt(l,m){var y=m.type;if(y in l.g){var T=l.g[y],W=Array.prototype.indexOf.call(T,m,void 0),X;(X=0<=W)&&Array.prototype.splice.call(T,W,1),X&&(xn(m),l.g[y].length==0&&(delete l.g[y],l.h--))}}function pn(l,m,y,T){for(var W=0;W<l.length;++W){var X=l[W];if(!X.da&&X.listener==m&&X.capture==!!y&&X.ha==T)return W}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),hi={};function Dn(l,m,y,T,W){if(Array.isArray(m)){for(var X=0;X<m.length;X++)Dn(l,m[X],y,T,W);return null}return y=Xn(y),l&&l[An]?l.K(m,y,d(T)?!!T.capture:!!T,W):lr(l,m,y,!1,T,W)}function lr(l,m,y,T,W,X){if(!m)throw Error("Invalid event type");var le=d(W)?!!W.capture:!!W,Ct=di(l);if(Ct||(l[ci]=Ct=new Ur(l)),y=Ct.add(m,y,T,le,X),y.proxy)return y;if(T=ns(),y.proxy=T,T.src=l,T.listener=y,l.addEventListener)ft||(W=le),W===void 0&&(W=!1),l.addEventListener(m.toString(),T,W);else if(l.attachEvent)l.attachEvent(cr(m.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ns(){function l(y){return m.call(l.src,l.listener,y)}const m=Fn;return l}function zr(l,m,y,T,W){if(Array.isArray(m))for(var X=0;X<m.length;X++)zr(l,m[X],y,T,W);else T=d(T)?!!T.capture:!!T,y=Xn(y),l&&l[An]?(l=l.i,m=String(m).toString(),m in l.g&&(X=l.g[m],y=pn(X,y,T,W),-1<y&&(xn(X[y]),Array.prototype.splice.call(X,y,1),X.length==0&&(delete l.g[m],l.h--)))):l&&(l=di(l))&&(m=l.g[m.toString()],l=-1,m&&(l=pn(m,y,T,W)),(y=-1<l?m[l]:null)&&sn(y))}function sn(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[An])Lt(m.i,l);else{var y=l.type,T=l.proxy;m.removeEventListener?m.removeEventListener(y,T,l.capture):m.detachEvent?m.detachEvent(cr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=di(m))?(Lt(y,l),y.h==0&&(y.src=null,m[ci]=null)):xn(l)}}}function cr(l){return l in hi?hi[l]:hi[l]="on"+l}function Fn(l,m){if(l.da)l=!0;else{m=new St(m,this);var y=l.listener,T=l.ha||l.src;l.fa&&sn(l),l=y.call(T,m)}return l}function di(l){return l=l[ci],l instanceof Ur?l:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(l){return typeof l=="function"?l:(l[Yn]||(l[Yn]=function(m){return l.handleEvent(m)}),l[Yn])}function je(){Ne.call(this),this.i=new Ur(this),this.M=this,this.F=null}F(je,Ne),je.prototype[An]=!0,je.prototype.removeEventListener=function(l,m,y,T){zr(this,l,m,y,T)};function st(l,m){var y,T=l.F;if(T)for(y=[];T;T=T.F)y.push(T);if(l=l.M,T=m.type||m,typeof m=="string")m=new Qe(m,l);else if(m instanceof Qe)m.target=m.target||l;else{var W=m;m=new Qe(T,l),D(m,W)}if(W=!0,y)for(var X=y.length-1;0<=X;X--){var le=m.g=y[X];W=pt(le,T,!0,m)&&W}if(le=m.g=l,W=pt(le,T,!0,m)&&W,W=pt(le,T,!1,m)&&W,y)for(X=0;X<y.length;X++)le=m.g=y[X],W=pt(le,T,!1,m)&&W}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var y=l.g[m],T=0;T<y.length;T++)xn(y[T]);delete l.g[m],l.h--}}this.F=null},je.prototype.K=function(l,m,y,T){return this.i.add(String(l),m,!1,y,T)},je.prototype.L=function(l,m,y,T){return this.i.add(String(l),m,!0,y,T)};function pt(l,m,y,T){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,X=0;X<m.length;++X){var le=m[X];if(le&&!le.da&&le.capture==y){var Ct=le.listener,Sn=le.ha||le.src;le.fa&&Lt(l.i,le),W=Ct.call(Sn,T)!==!1&&W}}return W&&!T.defaultPrevented}function Ln(l,m,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:u.setTimeout(l,m||0)}function $r(l){l.g=Ln(()=>{l.g=null,l.i&&(l.i=!1,$r(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class de extends Ne{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(l){Ne.call(this),this.h=l,this.g={}}F(Cr,Ne);var Jn=[];function rs(l){f(l.g,function(m,y){this.g.hasOwnProperty(y)&&sn(m)},l),l.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),rs(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=u.JSON.stringify,fi=u.JSON.parse,Vs=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Di(){}Di.prototype.h=null;function Zn(l){return l.h||(l.h=l.i())}function Jt(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ke(){Qe.call(this,"d")}F(Ke,Qe);function on(){Qe.call(this,"c")}F(on,Qe);var Ae={},Fi=null;function qr(){return Fi=Fi||new je}Ae.La="serverreachability";function is(l){Qe.call(this,Ae.La,l)}F(is,Qe);function Cn(l){const m=qr();st(m,new is(m))}Ae.STAT_EVENT="statevent";function mn(l,m){Qe.call(this,Ae.STAT_EVENT,l),this.stat=m}F(mn,Qe);function Nt(l){const m=qr();st(m,new mn(m,l))}Ae.Ma="timingevent";function hr(l,m){Qe.call(this,Ae.Ma,l),this.size=m}F(hr,Qe);function j(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},m)}function z(){this.g=!0}z.prototype.xa=function(){this.g=!1};function K(l,m,y,T,W,X){l.info(function(){if(l.g)if(X)for(var le="",Ct=X.split("&"),Sn=0;Sn<Ct.length;Sn++){var ht=Ct[Sn].split("=");if(1<ht.length){var jn=ht[0];ht=ht[1];var Un=jn.split("_");le=2<=Un.length&&Un[1]=="type"?le+(jn+"="+ht+"&"):le+(jn+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+T+") [attempt "+W+"]: "+m+`
`+y+`
`+le})}function Z(l,m,y,T,W,X,le){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+W+"]: "+m+`
`+y+`
`+X+" "+le})}function oe(l,m,y,T){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Te(l,y)+(T?" "+T:"")})}function ge(l,m){l.info(function(){return"TIMEOUT: "+m})}z.prototype.info=function(){};function Te(l,m){if(!l.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var T=y[l];if(!(2>T.length)){var W=T[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return an(y)}catch{return m}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function Ce(){}F(Ce,Di),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},xe=new Ce;function $e(l,m,y,T){this.j=l,this.i=m,this.l=y,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var tt={},We={};function It(l,m,y){l.L=1,l.v=Wr(Mn(m)),l.m=y,l.P=!0,Et(l,null)}function Et(l,m){l.F=Date.now(),Vn(l),l.A=Mn(l.v);var y=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),v(y.i,"t",T),l.C=0,y=l.j.J,l.h=new Ye,l.g=Gv(l.j,y?m:null,!l.m),0<l.O&&(l.M=new de(A(l.Y,l,l.g),l.O)),m=l.U,y=l.g,T=l.ca;var W="readystatechange";Array.isArray(W)||(W&&(Jn[0]=W.toString()),W=Jn);for(var X=0;X<W.length;X++){var le=Dn(y,W[X],T||m.handleEvent,!1,m.h||m);if(!le)break;m.g[le.key]=le}m=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Cn(),K(l.i,l.u,l.A,l.l,l.R,l.m)}$e.prototype.ca=function(l){l=l.target;const m=this.M;m&&O(l)==3?m.j():this.Y(l)},$e.prototype.Y=function(l){try{if(l==this.g)e:{const Un=O(this.g);var m=this.g.Ba();const Eo=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Y(this.g)))){this.J||Un!=4||m==7||(m==8||0>=Eo?Cn(3):Cn(2)),On(this);var y=this.g.Z();this.X=y;t:if(Hr(this)){var T=Y(this.g);l="";var W=T.length,X=O(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Qt(this);var le="";break t}this.h.i=new u.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,l+=this.h.i.decode(T[m],{stream:!(X&&m==W-1)});T.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,Z(this.i,this.u,this.A,this.l,this.R,Un,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Sn=this.g;if((Ct=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ct)){var ht=Ct;break t}}ht=null}if(y=ht)oe(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ce(this,y);else{this.o=!1,this.s=3,Nt(12),Bn(this),Qt(this);break e}}if(this.P){y=!0;let vi;for(;!this.J&&this.C<le.length;)if(vi=dr(this,le),vi==We){Un==4&&(this.s=4,Nt(14),y=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(vi==tt){this.s=4,Nt(15),oe(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else oe(this.i,this.l,vi,null),ce(this,vi);if(Hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||le.length!=0||this.h.h||(this.s=1,Nt(16),y=!1),this.o=this.o&&y,!y)oe(this.i,this.l,le,"[Invalid Chunked Response]"),Bn(this),Qt(this);else if(0<le.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ra(jn),jn.M=!0,Nt(11))}}else oe(this.i,this.l,le,null),ce(this,le);Un==4&&Bn(this),this.o&&!this.J&&(Un==4?Lu(this.j,this):(this.o=!1,Vn(this)))}else J(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Bn(this),Qt(this)}}}catch{}finally{}};function Hr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function dr(l,m){var y=l.C,T=m.indexOf(`
`,y);return T==-1?We:(y=Number(m.substring(y,T)),isNaN(y)?tt:(T+=1,T+y>m.length?We:(m=m.slice(T,T+y),l.C=T+y,m)))}$e.prototype.cancel=function(){this.J=!0,Bn(this)};function Vn(l){l.S=Date.now()+l.I,Sr(l,l.I)}function Sr(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=j(A(l.ba,l),m)}function On(l){l.B&&(u.clearTimeout(l.B),l.B=null)}$e.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ge(this.i,this.A),this.L!=2&&(Cn(),Nt(17)),Bn(this),this.s=2,Qt(this)):Sr(this,this.S-l)};function Qt(l){l.j.G==0||l.J||Lu(l.j,l)}function Bn(l){On(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,rs(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ce(l,m){try{var y=l.j;if(y.G!=0&&(y.g==l||at(y.h,l))){if(!l.K&&at(y.h,l)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var W=T;if(W[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)yo(y),Fe(y);else break e;js(y),Nt(18)}}else y.za=W[1],0<y.za-y.T&&37500>W[2]&&y.F&&y.v==0&&!y.C&&(y.C=j(A(y.Za,y),6e3));if(1>=Gt(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vi(y,11)}else if((l.K||y.g==l)&&yo(y),!k(m))for(W=y.Da.g.parse(m),m=0;m<W.length;m++){let ht=W[m];if(y.T=ht[0],ht=ht[1],y.G==2)if(ht[0]=="c"){y.K=ht[1],y.ia=ht[2];const jn=ht[3];jn!=null&&(y.la=jn,y.j.info("VER="+y.la));const Un=ht[4];Un!=null&&(y.Aa=Un,y.j.info("SVER="+y.Aa));const Eo=ht[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(T=1.5*Eo,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const vi=l.g;if(vi){const bc=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var X=T.h;X.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(gn(X,X.h),X.h=null))}if(T.D){const pf=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;pf&&(T.ya=pf,gt(T.I,T.D,pf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var le=l;if(T.qa=Wv(T,T.J?T.ia:null,T.W),le.K){pi(T.h,le);var Ct=le,Sn=T.L;Sn&&(Ct.I=Sn),Ct.B&&(On(Ct),Vn(Ct)),T.g=le}else Zt(T);0<y.i.length&&ct(y)}else ht[0]!="stop"&&ht[0]!="close"||Vi(y,7);else y.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Vi(y,7):pe(y):ht[0]!="noop"&&y.l&&y.l.ta(ht),y.v=0)}}Cn(4)}catch{}}var fr=class{constructor(l,m){this.g=l,this.map=m}};function Se(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Gt(l){return l.h?1:l.g?l.g.size:0}function at(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function gn(l,m){l.g?l.g.add(m):l.h=m}function pi(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Se.prototype.cancel=function(){if(this.i=ss(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ss(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const y of l.g.values())m=m.concat(y.D);return m}return L(l.i)}function mo(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],y=l.length,T=0;T<y;T++)m.push(l[T]);return m}m=[],y=0;for(T in l)m[y++]=l[T];return m}function Ir(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var y=0;y<l;y++)m.push(y);return m}m=[],y=0;for(const T in l)m[y++]=T;return m}}}function un(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var y=Ir(l),T=mo(l),W=T.length,X=0;X<W;X++)m.call(void 0,T[X],y&&y[X],l)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(l,m){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var T=l[y].indexOf("="),W=null;if(0<=T){var X=l[y].substring(0,T);W=l[y].substring(T+1)}else X=l[y];m(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Tr){this.h=l.h,Bs(this,l.j),this.o=l.o,this.g=l.g,os(this,l.s),this.l=l.l;var m=l.i,y=new ls;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),us(this,y),this.m=l.m}else l&&(m=String(l).match(Os))?(this.h=!1,Bs(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),os(this,m[4]),this.l=mi(m[5]||"",!0),us(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Tr.prototype.toString=function(){var l=[],m=this.j;m&&l.push(kr(m,go,!0),":");var y=this.g;return(y||m=="file")&&(l.push("//"),(m=this.o)&&l.push(kr(m,go,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(kr(y,y.charAt(0)=="/"?Ms:gi,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",kr(y,Ru)),l.join("")};function Mn(l){return new Tr(l)}function Bs(l,m,y){l.j=y?mi(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function os(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function us(l,m,y){m instanceof ls?(l.i=m,N(l.i,l.h)):(y||(m=kr(m,Pa)),l.i=new ls(m,l.h))}function gt(l,m,y){l.i.set(m,y)}function Wr(l){return gt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function mi(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kr(l,m,y){return typeof l=="string"?(l=encodeURI(l).replace(m,ze),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ze(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var go=/[#\/\?@]/g,gi=/[#\?:]/g,Ms=/[#\?]/g,Pa=/[#\?@]/g,Ru=/#/g;function ls(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function br(l){l.g||(l.g=new Map,l.h=0,l.i&&as(l.i,function(m,y){l.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=ls.prototype,t.add=function(l,m){br(this),this.i=null,l=w(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(m),this.h+=1,this};function o(l,m){br(l),m=w(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function h(l,m){return br(l),m=w(l,m),l.g.has(m)}t.forEach=function(l,m){br(this),this.g.forEach(function(y,T){y.forEach(function(W){l.call(m,W,T,this)},this)},this)},t.na=function(){br(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const W=l[T];for(let X=0;X<W.length;X++)y.push(m[T])}return y},t.V=function(l){br(this);let m=[];if(typeof l=="string")h(this,l)&&(m=m.concat(this.g.get(w(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)m=m.concat(l[y])}return m},t.set=function(l,m){return br(this),this.i=null,l=w(this,l),h(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function v(l,m,y){o(l,m),0<y.length&&(l.i=null,l.g.set(w(l,m),L(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const X=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var W=X;le[T]!==""&&(W+="="+encodeURIComponent(String(le[T]))),l.push(W)}}return this.i=l.join("&")};function w(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function N(l,m){m&&!l.j&&(br(l),l.i=null,l.g.forEach(function(y,T){var W=T.toLowerCase();T!=W&&(o(this,T),v(this,W,y))},l)),l.j=m}function $(l,m){const y=new z;if(u.Image){const T=new Image;T.onload=b(ne,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(ne,y,"TestLoadImage: error",!1,m,T),T.onabort=b(ne,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(ne,y,"TestLoadImage: timeout",!1,m,T),u.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else m(!1)}function Q(l,m){const y=new z,T=new AbortController,W=setTimeout(()=>{T.abort(),ne(y,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:T.signal}).then(X=>{clearTimeout(W),X.ok?ne(y,"TestPingServer: ok",!0,m):ne(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),ne(y,"TestPingServer: error",!1,m)})}function ne(l,m,y,T,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),T(y)}catch{}}function ue(){this.g=new Vs}function Ve(l,m,y){const T=y||"";try{un(l,function(W,X){let le=W;d(W)&&(le=an(W)),m.push(T+X+"="+encodeURIComponent(le))})}catch(W){throw m.push(T+"type="+encodeURIComponent("_badmap")),W}}function Pe(l){this.l=l.Ub||null,this.j=l.eb||!1}F(Pe,Di),Pe.prototype.g=function(){return new vt(this.l,this.j)},Pe.prototype.i=function(l){return function(){return l}}({});function vt(l,m){je.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(vt,je),t=vt.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,er(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||u).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vn(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gr(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gr(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?vn(this):er(this),this.readyState==3&&Gr(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,vn(this))},t.Qa=function(l){this.g&&(this.response=l,vn(this))},t.ga=function(){this.g&&vn(this)};function vn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,er(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=m.next();return l.join(`\r
`)};function er(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(vt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Li(l){let m="";return f(l,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function tr(l,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Li(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):gt(l,m,y))}function ot(l){je.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ot,je);var Nu=/^https?$/i,Du=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?Zn(this.o):Zn(xe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(X){xc(this,X);return}if(l=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var W in T)y.set(W,T[W]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())y.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(X=>X.toLowerCase()=="content-type"),W=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Du,m,void 0))||T||W||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of y)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E(this),this.u=!0,this.g.send(l),this.u=!1}catch(X){xc(this,X)}};function xc(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Cc(l),vo(l)}function Cc(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,st(this,"complete"),st(this,"abort"),vo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vo(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sc(this):this.bb())},t.bb=function(){Sc(this)};function Sc(l){if(l.h&&typeof a<"u"&&(!l.v[1]||O(l)!=4||l.Z()!=2)){if(l.u&&O(l)==4)Ln(l.Ea,0,l);else if(st(l,"readystatechange"),O(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=le===0){var W=String(l.D).match(Os)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),T=!Nu.test(W?W.toLowerCase():"")}y=T}if(y)st(l,"complete"),st(l,"success");else{l.m=6;try{var X=2<O(l)?l.g.statusText:""}catch{X=""}l.l=X+" ["+l.Z()+"]",Cc(l)}}finally{vo(l)}}}}function vo(l,m){if(l.g){E(l);const y=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||st(l,"ready");try{y.onreadystatechange=T}catch{}}}function E(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function O(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<O(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),fi(m)}};function Y(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function J(l){const m={};l=(l.g&&2<=O(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(k(l[T]))continue;var y=B(l[T]);const W=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const X=m[W]||[];m[W]=X,X.push(y)}I(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ie(l,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||m}function Re(l){this.Aa=0,this.i=[],this.j=new z,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ie("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ie("baseRetryDelayMs",5e3,l),this.cb=ie("retryDelaySeedMs",1e4,l),this.Wa=ie("forwardChannelMaxRetries",2,l),this.wa=ie("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Se(l&&l.concurrentRequestLimit),this.Da=new ue,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Re.prototype,t.la=8,t.G=1,t.connect=function(l,m,y,T){Nt(0),this.W=l,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Wv(this,null,this.W),ct(this)};function pe(l){if(Xe(l),l.G==3){var m=l.U++,y=Mn(l.I);if(gt(y,"SID",l.K),gt(y,"RID",m),gt(y,"TYPE","terminate"),yt(l,y),m=new $e(l,l.j,m),m.L=2,m.v=Wr(Mn(y)),y=!1,u.navigator&&u.navigator.sendBeacon)try{y=u.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&u.Image&&(new Image().src=m.v,y=!0),y||(m.g=Gv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vn(m)}Tc(l)}function Fe(l){l.g&&(Ra(l),l.g.cancel(),l.g=null)}function Xe(l){Fe(l),l.u&&(u.clearTimeout(l.u),l.u=null),yo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function ct(l){if(!mt(l.h)&&!l.s){l.s=!0;var m=l.Ga;fe||we(),ae||(fe(),ae=!0),ve.add(m,l),l.B=0}}function Tt(l,m){return Gt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=j(A(l.Ga,l,m),Ic(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const W=new $e(this,this.j,l);let X=this.o;if(this.S&&(X?(X=x(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Mt(this,W,m),y=Mn(this.I),gt(y,"RID",l),gt(y,"CVER",22),this.D&&gt(y,"X-HTTP-Session-Id",this.D),yt(this,y),X&&(this.O?m="headers="+encodeURIComponent(String(Li(X)))+"&"+m:this.m&&tr(y,this.m,X)),gn(this.h,W),this.Ua&&gt(y,"TYPE","init"),this.P?(gt(y,"$req",m),gt(y,"SID","null"),W.T=!0,It(W,y,null)):It(W,y,m),this.G=2}}else this.G==3&&(l?xt(this,l):this.i.length==0||mt(this.h)||xt(this))};function xt(l,m){var y;m?y=m.l:y=l.U++;const T=Mn(l.I);gt(T,"SID",l.K),gt(T,"RID",y),gt(T,"AID",l.T),yt(l,T),l.m&&l.o&&tr(T,l.m,l.o),y=new $e(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Mt(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gn(l.h,y),It(y,T,m)}function yt(l,m){l.H&&f(l.H,function(y,T){gt(m,T,y)}),l.l&&un({},function(y,T){gt(m,T,y)})}function Mt(l,m,y){y=Math.min(l.i.length,y);var T=l.l?A(l.l.Na,l.l,l):null;e:{var W=l.i;let X=-1;for(;;){const le=["count="+y];X==-1?0<y?(X=W[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ct=!0;for(let Sn=0;Sn<y;Sn++){let ht=W[Sn].g;const jn=W[Sn].map;if(ht-=X,0>ht)X=Math.max(0,W[Sn].g-100),Ct=!1;else try{Ve(jn,le,"req"+ht+"_")}catch{T&&T(jn)}}if(Ct){T=le.join("&");break e}}}return l=l.i.splice(0,y),m.D=l,T}function Zt(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;fe||we(),ae||(fe(),ae=!0),ve.add(m,l),l.v=0}}function js(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=j(A(l.Fa,l),Ic(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=j(A(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Fe(this),Fu(this))};function Ra(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function Fu(l){l.g=new $e(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Mn(l.qa);gt(m,"RID","rpc"),gt(m,"SID",l.K),gt(m,"AID",l.T),gt(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&gt(m,"TO",l.ja),gt(m,"TYPE","xmlhttp"),yt(l,m),l.m&&l.o&&tr(m,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Wr(Mn(m)),y.m=null,y.P=!0,Et(y,l)}t.Za=function(){this.C!=null&&(this.C=null,Fe(this),js(this),Nt(19))};function yo(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function Lu(l,m){var y=null;if(l.g==m){yo(l),Ra(l),l.g=null;var T=2}else if(at(l.h,m))y=m.D,pi(l.h,m),T=1;else return;if(l.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var W=l.B;T=qr(),st(T,new hr(T,y)),ct(l)}else Zt(l);else if(W=m.s,W==3||W==0&&0<m.X||!(T==1&&Tt(l,m)||T==2&&js(l)))switch(y&&0<y.length&&(m=l.h,m.i=m.i.concat(y)),W){case 1:Vi(l,5);break;case 4:Vi(l,10);break;case 3:Vi(l,6);break;default:Vi(l,2)}}}function Ic(l,m){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*m}function Vi(l,m){if(l.j.info("Error code "+m),m==2){var y=A(l.fb,l),T=l.Xa;const W=!T;T=new Tr(T||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Bs(T,"https"),Wr(T),W?$(T.toString(),y):Q(T.toString(),y)}else Nt(2);l.G=0,l.l&&l.l.sa(m),Tc(l),Xe(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Tc(l){if(l.G=0,l.ka=[],l.l){const m=ss(l.h);(m.length!=0||l.i.length!=0)&&(M(l.ka,m),M(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function Wv(l,m,y){var T=y instanceof Tr?Mn(y):new Tr(y);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.s);else{var W=u.location;T=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var X=new Tr(null);T&&Bs(X,T),m&&(X.g=m),W&&os(X,W),y&&(X.l=y),T=X}return y=l.D,m=l.ya,y&&m&&gt(T,y,m),gt(T,"VER",l.la),yt(l,T),T}function Gv(l,m,y){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new ot(new Pe({eb:y})):new ot(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kv(){}t=Kv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kc(){}kc.prototype.g=function(l,m){return new Pr(l,m)};function Pr(l,m){je.call(this),this.g=new Re(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!k(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new _o(this)}F(Pr,je),Pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pr.prototype.close=function(){pe(this.g)},Pr.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=an(l),l=y);m.i.push(new fr(m.Ya++,l)),m.G==3&&ct(m)},Pr.prototype.N=function(){this.g.l=null,delete this.j,pe(this.g),delete this.g,Pr.aa.N.call(this)};function Qv(l){Ke.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const y in m){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}F(Qv,Ke);function Yv(){on.call(this),this.status=1}F(Yv,on);function _o(l){this.g=l}F(_o,Kv),_o.prototype.ua=function(){st(this.g,"a")},_o.prototype.ta=function(l){st(this.g,new Qv(l))},_o.prototype.sa=function(l){st(this.g,new Yv)},_o.prototype.ra=function(){st(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Pr.prototype.send=Pr.prototype.o,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,lA=function(){return new kc},uA=function(){return qr()},oA=Ae,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,ph=se,_e.COMPLETE="complete",aA=_e,Jt.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",je.prototype.listen=je.prototype.K,tl=Jt,sA=Pe,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,iA=ot}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new jd("@firebase/firestore");function Gu(){return Za.logLevel}function Ee(t,...e){if(Za.logLevel<=rt.DEBUG){const n=e.map(Rg);Za.debug(`Firestore (${wu}): ${t}`,...n)}}function Is(t,...e){if(Za.logLevel<=rt.ERROR){const n=e.map(Rg);Za.error(`Firestore (${wu}): ${t}`,...n)}}function au(t,...e){if(Za.logLevel<=rt.WARN){const n=e.map(Rg);Za.warn(`Firestore (${wu}): ${t}`,...n)}}function Rg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+t;throw Is(e),new Error(e)}function At(t,e){t||Oe()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class gP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vP{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new cA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Hn(e)}}class yP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _P{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new EP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new hn(0,0))}static max(){return new Ue(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends zl{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const xP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends zl{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return xP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(kt.fromString(e))}static fromName(e){return new be(kt.fromString(e).popFirst(5))}static empty(){return new be(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new kt(e.slice()))}}function CP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new ya(i,be.empty(),e)}function SP(t){return new ya(t.readTime,t.key,-1)}class ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ya(Ue.min(),be.empty(),-1)}static max(){return new ya(Ue.max(),be.empty(),-1)}}function IP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==TP)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(p=>{a[d]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ng.oe=-1;function Ud(t){return t==null}function Jh(t){return t===0&&1/t==-1/0}function PP(t){return typeof t=="number"&&Number.isInteger(t)&&!Jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Au(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RP(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function dA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Pn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fA("Invalid base64 string: "+s):s}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const NP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(At(!!t),typeof t=="string"){let e=0;const n=NP.exec(t);if(At(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dg(t){const e=t.mapValue.fields.__previous_value__;return zd(e)?Dg(e):e}function $l(t){const e=_a(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,i,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zd(t)?4:LP(t)?9007199254740991:FP(t)?10:11:Oe()}function Yi(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_a(i.timestampValue),u=_a(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Yt(i.doubleValue),u=Yt(s.doubleValue);return a===u?Jh(a)===Jh(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(q0(a)!==q0(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Yi(a[c],u[c])))return!1;return!0}(t,e);default:return Oe()}}function Hl(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function uu(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Yt(s.integerValue||s.doubleValue),c=Yt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return W0(t.timestampValue,e.timestampValue);case 4:return W0($l(t),$l(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return function(s,a){const u=eo(s),c=eo(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const p=dt(u[d],c[d]);if(p!==0)return p}return dt(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=dt(Yt(s.latitude),Yt(a.latitude));return u!==0?u:dt(Yt(s.longitude),Yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G0(t.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,d,p;const g=s.fields||{},A=a.fields||{},b=(u=g.value)===null||u===void 0?void 0:u.arrayValue,F=(c=A.value)===null||c===void 0?void 0:c.arrayValue,L=dt(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((p=F==null?void 0:F.values)===null||p===void 0?void 0:p.length)||0);return L!==0?L:G0(b,F)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Yc.mapValue&&a===Yc.mapValue)return 0;if(s===Yc.mapValue)return 1;if(a===Yc.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),d=a.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const A=dt(c[g],p[g]);if(A!==0)return A;const b=uu(u[c[g]],d[p[g]]);if(b!==0)return b}return dt(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function W0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=_a(t),r=_a(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function G0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=uu(n[i],r[i]);if(s)return s}return dt(n.length,r.length)}function lu(t){return cm(t)}function cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${cm(n.fields[a])}`;return i+"}"}(t.mapValue):Oe()}function Zh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function K0(t){return!!t&&"nullValue"in t}function Q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function FP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Au(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=pl(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Au(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zr(pl(this.value))}}function pA(t){const e=[];return Au(t.fields,(n,r)=>{const i=new kn([n]);if(mh(r)){const s=pA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Gn(e,0,Ue.min(),Ue.min(),Ue.min(),Zr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,Ue.min(),Ue.min(),Zr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Ue.min(),Ue.min(),Zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.position=e,this.inclusive=n}}function Y0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=uu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class rn extends mA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BP(e,n,r):n==="array-contains"?new UP(e,r):n==="in"?new zP(e,r):n==="not-in"?new $P(e,r):n==="array-contains-any"?new qP(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MP(e,r):new jP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uu(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends mA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bi(e,n)}matches(e){return gA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gA(t){return t.op==="and"}function vA(t){return OP(t)&&gA(t)}function OP(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function dm(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+lu(t.value);if(vA(t))return t.filters.map(e=>dm(e)).join(",");{const e=t.filters.map(n=>dm(n)).join(",");return`${t.op}(${e})`}}function yA(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(t,e):t instanceof bi?function(r,i){return i instanceof bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&yA(a,i.filters[u]),!0):!1}(t,e):void Oe()}function _A(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${lu(n.value)}`}(t):t instanceof bi?function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"}(t):"Filter"}class BP extends rn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class MP extends rn{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jP extends rn{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class UP extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fg(n)&&Hl(n.arrayValue,this.value)}}class zP extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class $P extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class qP extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function J0(t,e=null,n=[],r=[],i=null,s=null,a=null){return new HP(t,e,n,r,i,s,a)}function Lg(t){const e=Be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lu(r)).join(",")),e.ue=n}return e.ue}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}function fm(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WP(t,e,n,r,i,s,a,u){return new co(t,e,n,r,i,s,a,u)}function Og(t){return new co(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bg(t){return t.collectionGroup!==null}function Go(t){const e=Be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Pn(kn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wl(s,r))}),n.has(kn.keyField().canonicalString())||e.ce.push(new Wl(kn.keyField(),r))}return e.ce}function qi(t){const e=Be(t);return e.le||(e.le=wA(e,Go(t))),e.le}function GP(t){const e=Be(t);return e.he||(e.he=wA(e,t.explicitOrderBy)),e.he}function wA(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wl(i.field,s)});const n=t.endAt?new cu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cu(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pm(t,e){const n=t.filters.concat([e]);return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,n){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Vg(qi(t),qi(e))&&t.limitType===e.limitType}function AA(t){return`${Lg(qi(t))}|lt:${t.limitType}`}function So(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_A(i)).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lu(i)).join(",")),`Target(${r})`}(qi(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Go(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const d=Y0(a,u,c);return a.inclusive?d<=0:d<0}(r.startAt,Go(r),i)||r.endAt&&!function(a,u,c){const d=Y0(a,u,c);return a.inclusive?d>=0:d>0}(r.endAt,Go(r),i))}(t,e)}function KP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xA(t){return(e,n)=>{let r=!1;for(const i of Go(t)){const s=QP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QP(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),d=u.data.field(s);return c!==null&&d!==null?uu(c,d):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Ht(be.comparator);function Ts(){return YP}const CA=new Ht(be.comparator);function nl(...t){let e=CA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=CA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ua(){return ml()}function IA(){return ml()}function ml(){return new xu(t=>t.toString(),(t,e)=>t.isEqual(e))}const XP=new Ht(be.comparator),JP=new Pn(be.comparator);function Ze(...t){let e=JP;for(const n of t)e=e.add(n);return e}const ZP=new Pn(dt);function eR(){return ZP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function tR(t,e){return PP(e)?TA(e):Mg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function nR(t,e,n){return t instanceof td?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zd(s)&&(s=Dg(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Gl?bA(t,e):t instanceof Kl?PA(t,e):function(i,s){const a=kA(i,s),u=e_(a)+e_(i.Pe);return hm(a)&&hm(i.Pe)?TA(u):Mg(i.serializer,u)}(t,e)}function rR(t,e,n){return t instanceof Gl?bA(t,e):t instanceof Kl?PA(t,e):n}function kA(t,e){return t instanceof nd?function(r){return hm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class td extends Hd{}class Gl extends Hd{constructor(e){super(),this.elements=e}}function bA(t,e){const n=RA(e);for(const r of t.elements)n.some(i=>Yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Hd{constructor(e){super(),this.elements=e}}function PA(t,e){let n=RA(e);for(const r of t.elements)n=n.filter(i=>!Yi(i,r));return{arrayValue:{values:n}}}class nd extends Hd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e_(t){return Yt(t.integerValue||t.doubleValue)}function RA(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gl&&i instanceof Gl||r instanceof Kl&&i instanceof Kl?ou(r.elements,i.elements,Yi):r instanceof nd&&i instanceof nd?Yi(r.Pe,i.Pe):r instanceof td&&i instanceof td}(t.transform,e.transform)}class sR{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function NA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FA(t.key,Hi.none()):new uc(t.key,t.data,Hi.none());{const n=t.data,r=Zr.empty();let i=new Pn(kn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ho(t.key,r,new Ci(i.toArray()),Hi.none())}}function aR(t,e,n){t instanceof uc?function(i,s,a){const u=i.value.clone(),c=n_(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=n_(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(DA(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gl(t,e,n,r){return t instanceof uc?function(s,a,u,c){if(!gh(s.precondition,a))return u;const d=s.value.clone(),p=r_(s.fieldTransforms,c,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(s,a,u,c){if(!gh(s.precondition,a))return u;const d=r_(s.fieldTransforms,c,a),p=a.data;return p.setAll(DA(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function oR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kA(r.transform,i||null);s!=null&&(n===null&&(n=Zr.empty()),n.set(r.field,s))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ou(r,i,(s,a)=>iR(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends Wd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends Wd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;At(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,rR(a,u,n[i]))}return r}function r_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,nR(s,a,e))}return r}class FA extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IA();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=NA(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>t_(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length);let i=function(){return XP}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,it;function fR(t){switch(t){default:return Oe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function LA(t){if(t===void 0)return Is("GRPC error has no .code"),ee.UNKNOWN;switch(t){case en.OK:return ee.OK;case en.CANCELLED:return ee.CANCELLED;case en.UNKNOWN:return ee.UNKNOWN;case en.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case en.INTERNAL:return ee.INTERNAL;case en.UNAVAILABLE:return ee.UNAVAILABLE;case en.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case en.NOT_FOUND:return ee.NOT_FOUND;case en.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case en.ABORTED:return ee.ABORTED;case en.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case en.DATA_LOSS:return ee.DATA_LOSS;default:return Oe()}}(it=en||(en={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Ha([4294967295,4294967295],0);function i_(t){const e=pR().encode(t),n=new rA;return n.update(e),new Uint8Array(n.digest())}function s_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([i,s],0)]}class Ug{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ha.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ha.fromNumber(r)));return i.compare(mR)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=i_(e),[r,i]=s_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Ug(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=i_(e),[r,i]=s_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(Ue.min(),i,new Ht(dt),Ts(),Ze())}}class lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lc(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class VA{constructor(e,n){this.targetId=e,this.me=n}}class OA{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a_{constructor(){this.fe=0,this.ge=u_(),this.pe=Nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new lc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=u_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ts(),this.qe=o_(),this.Qe=new Ht(dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fm(s))if(r===0){const a=new be(s.path);this.Ue(n,a,Gn.newNoDocument(a,Ue.min()))}else At(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=eo(r).toUint8Array()}catch(c){if(c instanceof fA)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Ug(a,i,s)}catch(c){return au(c instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&fm(u.target)){const c=new be(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Gn.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ze();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Gd(e,n,this.Qe,this.ke,r);return this.ke=Ts(),this.qe=o_(),this.Qe=new Ht(dt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new a_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pn(dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new a_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function o_(){return new Ht(be.comparator)}function u_(){return new Ht(be.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},yR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_R={and:"AND",or:"OR"};class ER{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wR(t,e){return rd(t,e.toTimestamp())}function Wi(t){return At(!!t),Ue.fromTimestamp(function(n){const r=_a(n);return new hn(r.seconds,r.nanos)}(t))}function zg(t,e){return gm(t,e).canonicalString()}function gm(t,e){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){const e=kt.fromString(t);return At(HA(e)),e}function vm(t,e){return zg(t.databaseId,e.path)}function Qf(t,e){const n=MA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(UA(n))}function jA(t,e){return zg(t.databaseId,e)}function AR(t){const e=MA(t);return e.length===4?kt.emptyPath():UA(e)}function ym(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l_(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function xR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(At(p===void 0||typeof p=="string"),Nn.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Nn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(d){const p=d.code===void 0?ee.UNKNOWN:LA(d.code);return new he(p,d.message||"")}(a);n=new OA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qf(t,r.document.name),s=Wi(r.document.updateTime),a=r.document.createTime?Wi(r.document.createTime):Ue.min(),u=new Zr({mapValue:{fields:r.document.fields}}),c=Gn.newFoundDocument(i,s,a,u),d=r.targetIds||[],p=r.removedTargetIds||[];n=new vh(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qf(t,r.document),s=r.readTime?Wi(r.readTime):Ue.min(),a=Gn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new vh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qf(t,r.document),s=r.removedTargetIds||[];n=new vh([],s,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new dR(i,s),u=r.targetId;n=new VA(u,a)}}return n}function CR(t,e){let n;if(e instanceof uc)n={update:l_(t,e.key,e.value)};else if(e instanceof FA)n={delete:vm(t,e.key)};else if(e instanceof ho)n={update:l_(t,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof uR))return Oe();n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof td)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nd)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe()}(t,e.precondition)),n}function SR(t,e){return t&&t.length>0?(At(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Wi(i.updateTime):Wi(s);return a.isEqual(Ue.min())&&(a=Wi(s)),new sR(a,i.transformResults||[])}(n,e))):[]}function IR(t,e){return{documents:[jA(t,e.path)]}}function zA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jA(t,i);const s=function(d){if(d.length!==0)return qA(bi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(A){return{field:Qs(A.field),direction:PR(A.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=mm(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function TR(t,e,n,r){const{_t:i,parent:s}=zA(t,e),a={},u=[];let c=0;return n.forEach(d=>{const p="aggregate_"+c++;a[p]=d.alias,d.aggregateType==="count"?u.push({alias:p,count:{}}):d.aggregateType==="avg"?u.push({alias:p,avg:{field:Qs(d.fieldPath)}}):d.aggregateType==="sum"&&u.push({alias:p,sum:{field:Qs(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function kR(t){let e=AR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const A=$A(g);return A instanceof bi&&vA(A)?A.getFilters():[A]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(A=>function(F){return new Wl(Io(F.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(A))}(n.orderBy));let u=null;n.limit&&(u=function(g){let A;return A=typeof g=="object"?g.value:g,Ud(A)?null:A}(n.limit));let c=null;n.startAt&&(c=function(g){const A=!!g.before,b=g.values||[];return new cu(b,A)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const A=!g.before,b=g.values||[];return new cu(b,A)}(n.endAt)),WP(e,i,a,s,u,"F",c,d)}function bR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $A(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Io(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Io(n.unaryFilter.field);return rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Io(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bi.create(n.compositeFilter.filters.map(r=>$A(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function PR(t){return vR[t]}function RR(t){return yR[t]}function NR(t){return _R[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Io(t){return kn.fromServerFormat(t.fieldPath)}function qA(t){return t instanceof rn?function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:RR(n.op),value:n.value}}}(t):t instanceof bi?function(n){const r=n.getFilters().map(i=>qA(i));return r.length===1?r[0]:{compositeFilter:{op:NR(n.op),filters:r}}}(t):Oe()}function DR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,i,s=Ue.min(),a=Ue.min(),u=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.ct=e}}function LR(t){const e=kR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.un=new OR}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ya.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class OR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hu(0)}static kn(){return new hu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changes=new xu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gl(r.mutation,i,Ci.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Ua();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=nl();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=Ts();const a=ml(),u=function(){return ml()}();return n.forEach((c,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ho)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),gl(p.mutation,d,p.mutation.getFieldMask(),hn.now())):a.set(d.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var g;return u.set(d,new MR(p,(g=a.get(d))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=ml();let i=new Ht((a,u)=>a-u),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||Ci.empty();p=u.applyToLocalView(d,p),r.set(c,p);const g=(i.get(u.batchId)||Ze()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,g=IA();p.forEach(A=>{if(!s.has(A)){const b=NA(n.get(A),r.get(A));b!==null&&g.set(A,b),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(Ua());let u=-1,c=s;return a.next(d=>te.forEach(d,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?te.resolve():this.remoteDocumentCache.getEntry(e,p).next(A=>{c=c.insert(p,A)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Ze())).next(p=>({batchId:u,changes:SA(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=nl();return this.indexManager.getCollectionParents(e,s).next(u=>te.forEach(u,c=>{const d=function(g,A){return new co(A,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,A)=>{a=a.insert(g,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Gn.newInvalidDocument(p)))});let u=nl();return a.forEach((c,d)=>{const p=s.get(c);p!==void 0&&gl(p.mutation,d,Ci.empty(),hn.now()),qd(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wi(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:LR(i.bundledQuery),readTime:Wi(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.overlays=new Ht(be.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ua();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Ua(),s=n.length+1,a=new be(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ht((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ua(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Ua(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=i)););return te.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Tr=new Pn(yn.Er),this.dr=new Pn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new kt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new kt([])),r=new yn(n,e),i=new yn(n,e+1);let s=Ze();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||dt(e.wr,n.wr)}static Ar(e,n){return dt(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pn(yn.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lR(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new yn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const u=this.Dr(a.wr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(dt);return n.forEach(i=>{const s=new yn(i,0),a=new yn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;be.isDocumentKey(s)||(s=s.child(""));const a=new yn(new be(s),0);let u=new Pn(dt);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.wr)),!0)},a),te.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){At(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yn(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.Mr=e,this.docs=function(){return new Ht(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Ts();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ts();const a=n.path,u=new be(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||IP(SP(p),r)<=0||(i.has(p.key)||qd(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Oe()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WR(this)}getSize(e){return te.resolve(this.size)}}class WR extends BR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.persistence=e,this.Nr=new xu(n=>Lg(n),Vg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $g,this.targetCount=0,this.kr=hu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ng(0),this.Kr=!1,this.Kr=!0,this.$r=new $R,this.referenceDelegate=e(this),this.Ur=new GR(this),this.indexManager=new VR,this.remoteDocumentCache=function(i){return new HR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new FR(n),this.Gr=new UR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new qR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new QR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class QR extends kP{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.Jr=new $g,this.Yr=null}static Zr(e){return new qg(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Q2()?8:bP(Qn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new YR;return this.Xi(e,n,a).next(u=>{if(s.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gu()<=rt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Gu()<=rt.DEBUG&&Ee("QueryEngine","Query:",So(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gu()<=rt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):te.resolve())}Yi(e,n){if(Z0(n))return te.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ed(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ze(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,u);return this.ns(n,d,a,c.readTime)?this.Yi(e,ed(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,i){return Z0(n)||i.isEqual(Ue.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?te.resolve(null):(Gu()<=rt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),So(n)),this.rs(e,a,n,CP(i,-1)).next(u=>u))})}ts(e,n){let r=new Pn(xA(e));return n.forEach((i,s)=>{qd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Gu()<=rt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",So(n)),this.Ji.getDocumentsMatchingQuery(e,n,ya.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ht(dt),this._s=new xu(s=>Lg(s),Vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZR(t,e,n,r){return new JR(t,e,n,r)}async function WA(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=Ze();for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of s){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:u}))})})}function eN(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,p){const g=d.batch,A=g.keys();let b=te.resolve();return A.forEach(F=>{b=b.next(()=>p.getEntry(c,F)).next(L=>{const M=d.docVersions.get(F);At(M!==null),L.version.compareTo(M)<0&&(g.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),p.addEntry(L)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ze();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GA(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tN(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((p,g)=>{const A=i.get(g);if(!A)return;u.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let b=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Nn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),function(L,M,R){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(A,b,p)&&u.push(n.Ur.updateTargetData(s,b))});let c=Ts(),d=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(nN(s,a,e.documentUpdates).next(p=>{c=p.Ps,d=p.Is})),!r.isEqual(Ue.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return te.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.os=i,s))}function nN(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ts();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ee("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function rN(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iN(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new na(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _m(t,e,n){const r=Be(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!oc(a))throw a;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function c_(t,e,n){const r=Be(t);let i=Ue.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,p){const g=Be(c),A=g._s.get(p);return A!==void 0?te.resolve(g.os.get(A)):g.Ur.getTargetData(d,p)}(r,a,qi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ue.min(),n?s:Ze())).next(u=>(sN(r,KP(e),u),{documents:u,Ts:s})))}function sN(t,e,n){let r=t.us.get(e)||Ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class h_{constructor(){this.activeTargetIds=eR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aN{constructor(){this.so=new h_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Yf(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class cN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const u=Yf(),c=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(n,c,d,i).then(p=>(Ee("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw au("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(n,r,i,s,a,u){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=uN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Yf();return new Promise((a,u)=>{const c=new iA;c.setWithCredentials(!0),c.listenOnce(aA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ph.NO_ERROR:const p=c.getResponseJson();Ee(qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ph.TIMEOUT:Ee(qn,`RPC '${e}' ${s} timed out`),u(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const g=c.getStatus();if(Ee(qn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let A=c.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const F=function(M){const R=M.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(R)>=0?R:ee.UNKNOWN}(b.status);u(new he(F,b.message))}else u(new he(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(qn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ee(qn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=Yf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lA(),u=uA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new sA({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");Ee(qn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);let A=!1,b=!1;const F=new lN({Io:M=>{b?Ee(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(A||(Ee(qn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),A=!0),Ee(qn,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),L=(M,R,k)=>{M.listen(R,P=>{try{k(P)}catch(H){setTimeout(()=>{throw H},0)}})};return L(g,tl.EventType.OPEN,()=>{b||(Ee(qn,`RPC '${e}' stream ${i} transport opened.`),F.yo())}),L(g,tl.EventType.CLOSE,()=>{b||(b=!0,Ee(qn,`RPC '${e}' stream ${i} transport closed`),F.So())}),L(g,tl.EventType.ERROR,M=>{b||(b=!0,au(qn,`RPC '${e}' stream ${i} transport errored:`,M),F.So(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),L(g,tl.EventType.MESSAGE,M=>{var R;if(!b){const k=M.data[0];At(!!k);const P=k,H=P.error||((R=P[0])===null||R===void 0?void 0:R.error);if(H){Ee(qn,`RPC '${e}' stream ${i} received error:`,H);const G=H.status;let f=function(S){const D=en[S];if(D!==void 0)return LA(D)}(G),I=H.message;f===void 0&&(f=ee.INTERNAL,I="Unknown error status: "+G+" with message "+H.message),b=!0,F.So(new he(f,I)),g.close()}else Ee(qn,`RPC '${e}' stream ${i} received:`,k),F.bo(k)}}),L(u,oA.STAT_EVENT,M=>{M.stat===lm.PROXY?Ee(qn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===lm.NOPROXY&&Ee(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new ER(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends QA{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xR(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ue.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?Wi(a.readTime):Ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=fm(c)?{documents:IR(s,c)}:{query:zA(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=BA(s,a.resumeToken);const d=mm(s,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ue.min())>0){u.readTime=rd(s,a.snapshotVersion.toTimestamp());const d=mm(s,a.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=bR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.a_(n)}}class dN extends QA{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SR(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ym(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,gm(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ee.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,gm(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ee.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Is(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{fo(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Be(c);d.L_.add(4),await cc(d),d.q_.set("Unknown"),d.L_.delete(4),await Qd(d)}(this))})}),this.q_=new pN(r,i)}}async function Qd(t){if(fo(t))for(const e of t.B_)await e(!0)}async function cc(t){for(const e of t.B_)await e(!1)}function YA(t,e){const n=Be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qg(n)?Kg(n):Cu(n).r_()&&Gg(n,e))}function Wg(t,e){const n=Be(t),r=Cu(n);n.N_.delete(e),r.r_()&&XA(n,e),n.N_.size===0&&(r.r_()?r.o_():fo(n)&&n.q_.set("Unknown"))}function Gg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).A_(e)}function XA(t,e){t.Q_.xe(e),Cu(t).R_(e)}function Kg(t){t.Q_=new gR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.q_.v_()}function Qg(t){return fo(t)&&!Cu(t).n_()&&t.N_.size>0}function fo(t){return Be(t).L_.size===0}function JA(t){t.Q_=void 0}async function gN(t){t.q_.set("Online")}async function vN(t){t.N_.forEach((e,n)=>{Gg(t,e)})}async function yN(t,e){JA(t),Qg(t)?(t.q_.M_(e),Kg(t)):t.q_.set("Unknown")}async function _N(t,e,n){if(t.q_.set("Online"),e instanceof OA&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await id(t,r)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof VA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const r=await GA(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,d)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(Nn.EMPTY_BYTE_STRING,p.snapshotVersion)),XA(s,c);const g=new na(p.target,c,d,p.sequenceNumber);Gg(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await id(t,r)}}async function id(t,e,n){if(!oc(e))throw e;t.L_.add(1),await cc(t),t.q_.set("Offline"),n||(n=()=>GA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qd(t)})}function ZA(t,e){return e().catch(n=>id(t,n,e))}async function Yd(t){const e=Be(t),n=Ea(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EN(e);)try{const i=await rN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,wN(e,i)}catch(i){await id(e,i)}ex(e)&&tx(e)}function EN(t){return fo(t)&&t.O_.length<10}function wN(t,e){t.O_.push(e);const n=Ea(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ex(t){return fo(t)&&!Ea(t).n_()&&t.O_.length>0}function tx(t){Ea(t).start()}async function AN(t){Ea(t).p_()}async function xN(t){const e=Ea(t);for(const n of t.O_)e.m_(n.mutations)}async function CN(t,e,n){const r=t.O_.shift(),i=jg.from(r,e,n);await ZA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yd(t)}async function SN(t,e){e&&Ea(t).V_&&await async function(r,i){if(function(a){return fR(a)&&a!==ee.ABORTED}(i.code)){const s=r.O_.shift();Ea(r).s_(),await ZA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yd(r)}}(t,e),ex(t)&&tx(t)}async function f_(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=fo(n);n.L_.add(3),await cc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qd(n)}async function IN(t,e){const n=Be(t);e?(n.L_.delete(2),await Qd(n)):e||(n.L_.add(2),await cc(n),n.q_.set("Unknown"))}function Cu(t){return t.K_||(t.K_=function(n,r,i){const s=Be(n);return s.w_(),new hN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gN.bind(null,t),Ro:vN.bind(null,t),mo:yN.bind(null,t),d_:_N.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Qg(t)?Kg(t):t.q_.set("Unknown")):(await t.K_.stop(),JA(t))})),t.K_}function Ea(t){return t.U_||(t.U_=function(n,r,i){const s=Be(n);return s.w_(),new dN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:AN.bind(null,t),mo:SN.bind(null,t),f_:xN.bind(null,t),g_:CN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yd(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new Yg(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(t,e){if(Is("AsyncQueue",`${e}: ${t}`),oc(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=nl(),this.sortedSet=new Ht(this.comparator)}static emptySet(e){return new Ko(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.W_=new Ht(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class du{constructor(e,n,r,i,s,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new du(e,n,Ko.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kN{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Be(n),s=i.queries;i.queries=m_(),s.forEach((a,u)=>{for(const c of u.j_)c.onError(r)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function m_(){return new xu(t=>AA(t),$d)}async function nx(t,e){const n=Be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new TN,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Xg(a,`Initialization of query '${So(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jg(n)}async function rx(t,e){const n=Be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bN(t,e){const n=Be(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Jg(n)}function PN(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Jg(t){t.Y_.forEach(e=>{e.next()})}var Em,g_;(g_=Em||(Em={})).ea="default",g_.Cache="cache";class ix{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.key=e}}class ax{constructor(e){this.key=e}}class RN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=xA(e),this.Ra=new Ko(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new p_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const A=i.get(p),b=qd(this.query,g)?g:null,F=!!A&&this.mutatedKeys.has(A.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;A&&b?A.data.isEqual(b.data)?F!==L&&(r.track({type:3,doc:b}),M=!0):this.ga(A,b)||(r.track({type:2,doc:b}),M=!0,(c&&this.Aa(b,c)>0||d&&this.Aa(b,d)<0)&&(u=!0)):!A&&b?(r.track({type:0,doc:b}),M=!0):A&&!b&&(r.track({type:1,doc:A}),M=!0,(c||d)&&(u=!0)),M&&(b?(a=a.add(b),s=L?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,g)=>function(b,F){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return L(b)-L(F)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new du(this.query,e.Ra,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ax(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return du.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DN{constructor(e){this.key=e,this.va=!1}}class FN{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new xu(u=>AA(u),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new Ht(be.comparator),this.Na=new Map,this.La=new $g,this.Ba={},this.ka=new Map,this.qa=hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LN(t,e,n=!0){const r=dx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ox(r,e,n,!0),i}async function VN(t,e){const n=dx(t);await ox(n,e,!0,!1)}async function ox(t,e,n,r){const i=await iN(t.localStore,qi(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await ON(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&YA(t.remoteStore,i),u}async function ON(t,e,n,r,i){t.Ka=(g,A,b)=>async function(L,M,R,k){let P=M.view.ma(R);P.ns&&(P=await c_(L.localStore,M.query,!1).then(({documents:I})=>M.view.ma(I,P)));const H=k&&k.targetChanges.get(M.targetId),G=k&&k.targetMismatches.get(M.targetId)!=null,f=M.view.applyChanges(P,L.isPrimaryClient,H,G);return y_(L,M.targetId,f.wa),f.snapshot}(t,g,A,b);const s=await c_(t.localStore,e,!0),a=new RN(e,s.Ts),u=a.ma(s.documents),c=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(u,t.isPrimaryClient,c);y_(t,n,d.wa);const p=new NN(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function BN(t,e,n){const r=Be(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!$d(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _m(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wg(r.remoteStore,i.targetId),wm(r,i.targetId)}).catch(ac)):(wm(r,i.targetId),await _m(r.localStore,i.targetId,!0))}async function MN(t,e){const n=Be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wg(n.remoteStore,r.targetId))}async function jN(t,e,n){const r=GN(t);try{const i=await function(a,u){const c=Be(a),d=hn.now(),p=u.reduce((b,F)=>b.add(F.key),Ze());let g,A;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let F=Ts(),L=Ze();return c.cs.getEntries(b,p).next(M=>{F=M,F.forEach((R,k)=>{k.isValidDocument()||(L=L.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,F)).next(M=>{g=M;const R=[];for(const k of u){const P=oR(k,g.get(k.key).overlayedDocument);P!=null&&R.push(new ho(k.key,P,pA(P.value.mapValue),Hi.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,R,u)}).next(M=>{A=M;const R=M.applyToLocalDocumentSet(g,L);return c.documentOverlayCache.saveOverlays(b,M.batchId,R)})}).then(()=>({batchId:A.batchId,changes:SA(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new Ht(dt)),d=d.insert(u,c),a.Ba[a.currentUser.toKey()]=d}(r,i.batchId,n),await hc(r,i.changes),await Yd(r.remoteStore)}catch(i){const s=Xg(i,"Failed to persist write");n.reject(s)}}async function ux(t,e){const n=Be(t);try{const r=await tN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?At(a.va):i.removedDocuments.size>0&&(At(a.va),a.va=!1))}),await hc(n,r,e)}catch(r){await ac(r)}}function v_(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Be(a);c.onlineState=u;let d=!1;c.queries.forEach((p,g)=>{for(const A of g.j_)A.Z_(u)&&(d=!0)}),d&&Jg(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UN(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Ht(be.comparator);a=a.insert(s,Gn.newNoDocument(s,Ue.min()));const u=Ze().add(s),c=new Gd(Ue.min(),new Map,new Ht(dt),a,u);await ux(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Zg(r)}else await _m(r.localStore,e,!1).then(()=>wm(r,e,n)).catch(ac)}async function zN(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await eN(n.localStore,e);cx(n,r,null),lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,i)}catch(i){await ac(i)}}async function $N(t,e,n){const r=Be(t);try{const i=await function(a,u){const c=Be(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,u).next(g=>(At(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(r.localStore,e);cx(r,e,n),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hc(r,i)}catch(i){await ac(i)}}function lx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cx(t,e,n){const r=Be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hx(t,r)})}function hx(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zg(t))}function y_(t,e,n){for(const r of n)r instanceof sx?(t.La.addReference(r.key,e),qN(t,r)):r instanceof ax?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hx(t,r.key)):Oe()}function qN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Zg(t))}function Zg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(kt.fromString(e)),r=t.qa.next();t.Na.set(r,new DN(n)),t.Oa=t.Oa.insert(n,r),YA(t.remoteStore,new na(qi(Og(n.path)),r,"TargetPurposeLimboResolution",Ng.oe))}}async function hc(t,e,n){const r=Be(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{a.push(r.Ka(c,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){i.push(d);const g=Hg.Wi(c.targetId,d);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,d){const p=Be(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(d,A=>te.forEach(A.$i,b=>p.persistence.referenceDelegate.addReference(g,A.targetId,b)).next(()=>te.forEach(A.Ui,b=>p.persistence.referenceDelegate.removeReference(g,A.targetId,b)))))}catch(g){if(!oc(g))throw g;Ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const A=g.targetId;if(!g.fromCache){const b=p.os.get(A),F=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(F);p.os=p.os.insert(A,L)}}}(r.localStore,s))}async function HN(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await WA(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new he(ee.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(n,r.hs)}}function WN(t,e){const n=Be(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let i=Ze();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const u=n.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function dx(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.Ca.d_=bN.bind(null,e.eventManager),e.Ca.$a=PN.bind(null,e.eventManager),e}function GN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$N.bind(null,e),e}class __{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZR(this.persistence,new XR,e.initialUser,this.serializer)}createPersistence(e){return new KR(qg.Zr,this.serializer)}createSharedClientState(e){return new aN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kN}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=function(s){return new cN(s)}(e.databaseInfo);return function(s,a,u,c){return new fN(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new mN(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>v_(this.syncEngine,n,0),function(){return d_.D()?new d_:new oN}())}createSyncEngine(e,n){return function(i,s,a,u,c,d,p){const g=new FN(i,s,a,u,c,d);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Be(i);Ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await cc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=hA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jf(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XN(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>f_(e.remoteStore,i)),t._onlineComponents=e}function YN(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YN(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Jf(t,new __)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Jf(t,new __);return t._offlineComponents}async function ev(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await E_(t,new KN))),t._onlineComponents}function JN(t){return ev(t).then(e=>e.syncEngine)}function ZN(t){return ev(t).then(e=>e.datastore)}async function px(t){const e=await ev(t),n=e.eventManager;return n.onListen=LN.bind(null,e.syncEngine),n.onUnlisten=BN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),n}function eD(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,d){const p=new fx({next:A=>{a.enqueueAndForget(()=>rx(s,g));const b=A.docs.has(u);!b&&A.fromCache?d.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&c&&c.source==="server"?d.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),g=new ix(Og(u.path),p,{includeMetadataChanges:!0,_a:!0});return nx(s,g)}(await px(t),t.asyncQueue,e,n,r)),r.promise}function tD(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,d){const p=new fx({next:A=>{a.enqueueAndForget(()=>rx(s,g)),A.fromCache&&c.source==="server"?d.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),g=new ix(u,p,{includeMetadataChanges:!0,_a:!0});return nx(s,g)}(await px(t),t.asyncQueue,e,n,r)),r.promise}function nD(t,e,n){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await ZN(t);r.resolve(async function(a,u,c){var d;const p=Be(a),{request:g,ut:A,parent:b}=TR(p.serializer,GP(u),c);p.connection.Fo||delete g.parent;const F=(await p.Lo("RunAggregationQuery",p.serializer.databaseId,b,g,1)).filter(M=>!!M.result);At(F.length===1);const L=(d=F[0].result)===null||d===void 0?void 0:d.aggregateFields;return Object.keys(L).reduce((M,R)=>(M[A[R]]=L[R],M),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rD(t,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A_(t){if(!be.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x_(t){if(be.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iD(t,e){if(e<=0)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mP;switch(r.type){case"firstParty":return new _P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w_.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),w_.delete(n),r.terminate())}(this),Promise.resolve()}}function sD(t,e,n,r={}){var i;const s=(t=ks(t,Jd))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Hn.MOCK_USER;else{u=q2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Hn(d)}t._authCredentials=new gP(new cA(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class pa extends Fs{constructor(e,n,r){super(e,n,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new be(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Su(t,e,...n){if(t=wn(t),gx("collection","path",e),t instanceof Jd){const r=kt.fromString(e,...n);return x_(r),new pa(t,null,r)}{if(!(t instanceof Er||t instanceof pa))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return x_(r),new pa(t.firestore,null,r)}}function Zi(t,e,...n){if(t=wn(t),arguments.length===1&&(e=hA.newId()),gx("doc","path",e),t instanceof Jd){const r=kt.fromString(e,...n);return A_(r),new Er(t,null,new be(r))}{if(!(t instanceof Er||t instanceof pa))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return A_(r),new Er(t.firestore,t instanceof pa?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new KA(this,"async_queue_retry"),this.Eu=()=>{const n=Xf();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Xf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new $i;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!oc(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Is("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Yg.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Oe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Iu extends Jd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vx(this),this._firestoreClient.terminate()}}function oD(t,e){const n=Pg(),r="(default)",i=lo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=z2("firestore");s&&sD(i,...s)}return i}function Zd(t){return t._firestoreClient||vx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vx(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,d,p){return new DP(u,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QN(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class lD{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Nn.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^__.*__$/;class hD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}function _x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class iv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return sd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(_x(this.wu)&&cD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class dD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Nu(e,n,r,i=!1){return new iv({wu:e,methodName:n,Ou:r,path:kn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new dD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ex(t,e,n,r,i,s={}){const a=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Cx("Data must be an object, but it was:",a,r);const u=Ax(r,a);let c,d;if(s.merge)c=new Ci(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const A=fD(e,g,n);if(!a.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mD(p,A)||p.push(A)}c=new Ci(p),d=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=a.fieldTransforms;return new hD(new Zr(u),c,d)}function wx(t,e,n,r=!1){return sv(n,t.Nu(r?4:3,e))}function sv(t,e){if(xx(t=wn(t)))return Cx("Unsupported field value:",e,t),Ax(t,e);if(t instanceof yx)return function(r,i){if(!_x(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=sv(u,i.Fu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=hn.fromDate(r);return{timestampValue:rd(i.serializer,s)}}if(r instanceof hn){const s=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(i.serializer,s)}}if(r instanceof nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:BA(i.serializer,r._byteString)};if(r instanceof Er){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rv)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Mu("VectorValues must only contain numeric values.");return Mg(u.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Xd(r)}`)}(t,e)}function Ax(t,e){const n={};return dA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Au(t,(r,i)=>{const s=sv(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof nv||t instanceof fu||t instanceof Er||t instanceof yx||t instanceof rv)}function Cx(t,e,n){if(!xx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function fD(t,e,n){if((e=wn(e))instanceof tv)return e._internalPath;if(typeof e=="string")return Sx(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function Sx(t,e,n){if(e.search(pD)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tv(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new he(ee.INVALID_ARGUMENT,u+t+c)}function mD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends av{data(){return super.data()}}function ov(t,e){return typeof e=="string"?Sx(t,e):e instanceof tv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uv{}class tf extends uv{}function lv(t,e,...n){let r=[];e instanceof uv&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof hv).length,u=s.filter(c=>c instanceof cv).length;if(a>1||a>0&&u>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cv extends tf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cv(e,n,r)}_apply(e){const n=this._parse(e);return Ix(e._query,n),new Fs(e.firestore,e.converter,pm(e._query,n))}_parse(e){const n=ef(e.firestore);return function(s,a,u,c,d,p,g){let A;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){I_(g,p);const b=[];for(const F of g)b.push(S_(c,s,F));A={arrayValue:{values:b}}}else A=S_(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||I_(g,p),A=wx(u,a,g,p==="in"||p==="not-in");return rn.create(d,p,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hv extends uv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)Ix(a,c),a=pm(a,c)}(e._query,n),new Fs(e.firestore,e.converter,pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends tf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dv(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(s,a)}(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new co(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fv(t,e="asc"){const n=e,r=ov("orderBy",t);return dv._create(r,n)}class pv extends tf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new pv(e,n,r)}_apply(e){return new Fs(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function mv(t){return iD("limit",t),pv._create("limit",t,"F")}class gv extends tf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gv(e,n,r)}_apply(e){const n=_D(e,this.type,this._docOrFields,this._inclusive);return new Fs(e.firestore,e.converter,function(i,s){return new co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yD(...t){return gv._create("startAfter",t,!1)}function _D(t,e,n,r){if(n[0]=wn(n[0]),n[0]instanceof av)return function(s,a,u,c,d){if(!c)throw new he(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const p=[];for(const g of Go(s))if(g.field.isKeyField())p.push(Zh(a,c.key));else{const A=c.data.field(g.field);if(zd(A))throw new he(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const b=g.field.canonicalString();throw new he(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(A)}return new cu(p,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ef(t.firestore);return function(a,u,c,d,p,g){const A=a.explicitOrderBy;if(p.length>A.length)throw new he(ee.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let F=0;F<p.length;F++){const L=p[F];if(A[F].field.isKeyField()){if(typeof L!="string")throw new he(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof L}`);if(!Bg(a)&&L.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${L}' contains a slash.`);const M=a.path.child(kt.fromString(L));if(!be.isDocumentKey(M))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const R=new be(M);b.push(Zh(u,R))}else{const M=wx(c,d,L);b.push(M)}}return new cu(b,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function S_(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bg(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!be.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zh(t,new be(r))}if(n instanceof Er)return Zh(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function I_(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ix(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ED{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Au(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yt(a.doubleValue));return new rv(s)}convertGeoPoint(e){return new nv(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=_a(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);At(HA(r));const i=new ql(r.get(1),r.get(3)),s=new be(r.popFirst(5));return i.isEqual(n)||Is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function wD(){return new uD("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kx extends av{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends kx{data(e={}){return super.data(e)}}class AD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new il(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new il(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:xD(u.type),doc:c,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t){t=ks(t,Er);const e=ks(t.firestore,Iu);return eD(Zd(e),t._key).then(n=>SD(e,t,n))}class vv extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function yv(t){t=ks(t,Fs);const e=ks(t.firestore,Iu),n=Zd(e),r=new vv(e);return vD(t._query),tD(n,t._query).then(i=>new AD(e,r,t,i))}function CD(t,e,n){t=ks(t,Er);const r=ks(t.firestore,Iu),i=Tx(t.converter,e);return bx(r,[Ex(ef(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hi.none())])}function _v(t,e){const n=ks(t.firestore,Iu),r=Zi(t),i=Tx(t.converter,e);return bx(n,[Ex(ef(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then(()=>r)}function bx(t,e){return function(r,i){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>jN(await JN(r),i,s)),s.promise}(Zd(t),e)}function SD(t,e,n){const r=n.docs.get(e._key),i=new vv(t);return new kx(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return TD(t,{count:wD()})}function TD(t,e){const n=ks(t.firestore,Iu),r=Zd(n),i=RP(e,(s,a)=>new hR(a,s.aggregateType,s._internalFieldPath));return nD(r,t._query,i).then(s=>function(u,c,d){const p=new vv(u);return new lD(c,p,d)}(n,t,s))}(function(e,n=!0){(function(i){wu=i})(Eu),Qi(new ki("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Iu(new vP(r.getProvider("auth-internal")),new wP(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ri($0,"4.7.1",e),ri($0,"4.7.1","esm2017")})();function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kD=Px,Rx=new uo("auth","Firebase",Px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new jd("@firebase/auth");function bD(t,...e){ad.logLevel<=rt.WARN&&ad.warn(`Auth (${Eu}): ${t}`,...e)}function _h(t,...e){ad.logLevel<=rt.ERROR&&ad.error(`Auth (${Eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw wv(t,...e)}function Gi(t,...e){return wv(t,...e)}function Nx(t,e,n){const r=Object.assign(Object.assign({},kD()),{[e]:n});return new uo("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return Nx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rx.create(t,...e)}function Le(t,e,...n){if(!t)throw wv(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _h(e),new Error(e)}function bs(t,e){t||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PD(){return T_()==="http:"||T_()==="https:"}function T_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PD()||Kw()||"connection"in navigator)?navigator.onLine:!0}function ND(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=H2()||G2()}get(){return RD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new dc(3e4,6e4);function Ta(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ka(t,e,n,r,i={}){return Fx(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=sc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Dx.fetch()(Lx(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function Fx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DD),e);try{const i=new VD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Jc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Jc(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Nx(t,p,d);Pi(t,p)}}catch(i){if(i instanceof Ri)throw i;Pi(t,"network-request-failed",{message:String(i)})}}async function fc(t,e,n,r,i={}){const s=await ka(t,e,n,r,i);return"mfaPendingCredential"in s&&Pi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Lx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Av(t.config,i):`${t.config.apiScheme}://${i}`}function LD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),FD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gi(t,e,r);return i.customData._tokenResponse=n,i}function k_(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BD(t,e){return ka(t,"GET","/v2/recaptchaConfig",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return ka(t,"POST","/v1/accounts:delete",e)}async function Vx(t,e){return ka(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(t,e=!1){const n=wn(t),r=await n.getIdToken(e),i=xv(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(Zf(i.auth_time)),issuedAtTime:vl(Zf(i.iat)),expirationTime:vl(Zf(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zf(t){return Number(t)*1e3}function xv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const i=qw(n);return i?JSON.parse(i):(_h("Failed to decode base64 JWT payload"),null)}catch(i){return _h("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b_(t){const e=xv(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&UD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ql(t,Vx(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ox(s.providerUserInfo):[],u=qD(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new xm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function $D(t){const e=wn(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ox(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){const n=await Fx(t,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Lx(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Dx.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(t,e){return ka(t,"POST","/v2/accounts:revokeToken",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Qo;return r&&(Le(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Le(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Ql(this,MD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,d,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,A=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,F=(a=n.photoURL)!==null&&a!==void 0?a:void 0,L=(u=n.tenantId)!==null&&u!==void 0?u:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(d=n.createdAt)!==null&&d!==void 0?d:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:H,isAnonymous:G,providerData:f,stsTokenManager:I}=n;Le(P&&I,e,"internal-error");const x=Qo.fromJSON(this.name,I);Le(typeof P=="string",e,"internal-error"),$s(g,e.name),$s(A,e.name),Le(typeof H=="boolean",e,"internal-error"),Le(typeof G=="boolean",e,"internal-error"),$s(b,e.name),$s(F,e.name),$s(L,e.name),$s(M,e.name),$s(R,e.name),$s(k,e.name);const S=new ms({uid:P,auth:e,email:A,emailVerified:H,displayName:g,isAnonymous:G,photoURL:F,phoneNumber:b,tenantId:L,stsTokenManager:x,createdAt:R,lastLoginAt:k});return f&&Array.isArray(f)&&(S.providerData=f.map(D=>Object.assign({},D))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qo;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await od(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ox(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Qo;u.updateFromIdToken(r);const c=new ms({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function gs(t){bs(t instanceof Function,"Expected a class definition");let e=P_.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bx.type="NONE";const R_=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(gs(R_),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||gs(R_);const a=Eh(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(a);if(p){const g=ms._fromJSON(e,p);d!==s&&(u=g),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Yo(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Hx(e))return"Webos";if(jx(e))return"Safari";if((e.includes("chrome/")||Ux(e))&&!e.includes("edge/"))return"Chrome";if($x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mx(t=Qn()){return/firefox\//i.test(t)}function jx(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ux(t=Qn()){return/crios\//i.test(t)}function zx(t=Qn()){return/iemobile/i.test(t)}function $x(t=Qn()){return/android/i.test(t)}function qx(t=Qn()){return/blackberry/i.test(t)}function Hx(t=Qn()){return/webos/i.test(t)}function Cv(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=Qn()){var e;return Cv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KD(){return K2()&&document.documentMode===10}function Wx(t=Qn()){return Cv(t)||$x(t)||Hx(t)||qx(t)||/windows phone/i.test(t)||zx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e=[]){let n;switch(t){case"Browser":n=N_(Qn());break;case"Worker":n=`${N_(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e={}){return ka(t,"GET","/v2/passwordPolicy",Ta(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class JD{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vx(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ji(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ND()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Es(this));const n=e?wn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),n=new JD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gs(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function po(t){return wn(t)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=tb(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eF(t){nf=t}function Kx(t){return nf.loadJS(t)}function tF(){return nf.recaptchaEnterpriseScript}function nF(){return nf.gapiScript}function rF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iF="recaptcha-enterprise",sF="NO_RECAPTCHA";class aF{constructor(e){this.type=iF,this.auth=po(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{BD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new OD(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;k_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(sF)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&k_(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tF();c.length!==0&&(c+=u),Kx(c).then(()=>{i(u,s,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function F_(t,e,n,r=!1){const i=new aF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await F_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await F_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){const n=lo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;Pi(i,"already-initialized")}return n.initialize({options:e})}function uF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lF(t,e,n){const r=po(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Qx(e),{host:a,port:u}=cF(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hF()}function Qx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cF(t){const e=Qx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:L_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:L_(a)}}}function L_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function dF(t,e){return ka(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}async function mF(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Sv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",fF);case"emailLink":return pF(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,r,"signUpPassword",dF);case"emailLink":return mF(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="http://localhost";class no extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ev(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new no(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:gF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yF(t){const e=Zu(el(t)).link,n=e?Zu(el(e)).deep_link_id:null,r=Zu(el(t)).deep_link_id;return(r?Zu(el(r)).link:null)||r||n||e||t}class Iv{constructor(e){var n,r,i,s,a,u;const c=Zu(el(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=vF((i=c.mode)!==null&&i!==void 0?i:null);Le(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=yF(e);try{return new Iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.providerId=Tu.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return Le(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Tu.PROVIDER_ID="password";Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends pc{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends pc{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends pc{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return fc(t,"POST","/v1/accounts:signUp",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ms._fromIdTokenResponse(e,r,i),a=V_(r);return new ro({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=V_(r);return new ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function V_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends Ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ud(e,n,r,i)}}function Xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,s,e,r):s})}async function EF(t,e,n=!1){const r=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,n=!1){const{auth:r}=t;if(ji(r.app))return Promise.reject(Es(r));const i="reauthenticate";try{const s=await Ql(t,Xx(r,i,e,t),n);Le(s.idToken,r,"internal-error");const a=xv(s.idToken);Le(a,r,"internal-error");const{sub:u}=a;return Le(t.uid===u,r,"user-mismatch"),ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e,n=!1){if(ji(t.app))return Promise.reject(Es(t));const r="signIn",i=await Xx(t,r,e),s=await ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AF(t,e){return Jx(po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t){const e=po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xF(t,e,n){if(ji(t.app))return Promise.reject(Es(t));const r=po(t),a=await Cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_F).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Zx(t),c}),u=await ro._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function CF(t,e,n){return ji(t.app)?Promise.reject(Es(t)):AF(wn(t),Tu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Zx(t),r})}function SF(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function IF(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function eC(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function TF(t){return wn(t).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1e3,bF=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);KD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const PF=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async d=>d(n.origin,s)),c=await RF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=Tv("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const A=g;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function DF(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function FF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VF(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebaseLocalStorageDb",OF=1,cd="firebaseLocalStorage",oC="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function BF(){const t=indexedDB.deleteDatabase(aC);return new mc(t).toPromise()}function Sm(){const t=indexedDB.open(aC,OF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cd,{keyPath:oC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await BF(),e(await Sm()))})})}async function O_(t,e,n){const r=sf(t,!0).put({[oC]:e,value:n});return new mc(r).toPromise()}async function MF(t,e){const n=sf(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function B_(t,e){const n=sf(t,!0).delete(e);return new mc(n).toPromise()}const jF=800,UF=3;class uC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(VF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FF(),!this.activeServiceWorker)return;this.sender=new NF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await O_(e,ld,"1"),await B_(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sf(i,!1).getAll();return new mc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uC.type="LOCAL";const zF=uC;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e){return e?gs(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qF(t){return Jx(t.auth,new kv(t),t.bypassAuthState)}function HF(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),wF(n,new kv(t),t.bypassAuthState)}async function WF(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),EF(n,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qF;case"linkViaPopup":case"linkViaRedirect":return WF;case"reauthViaPopup":case"reauthViaRedirect":return HF;default:Pi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new dc(2e3,1e4);class jo extends lC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GF.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="pendingRedirect",wh=new Map;class QF extends lC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await YF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YF(t,e){const n=ZF(e),r=JF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XF(t,e){wh.set(t._key(),e)}function JF(t){return gs(t._redirectPersistence)}function ZF(t){return Eh(KF,t.config.apiKey,t.name)}async function eL(t,e,n=!1){if(ji(t.app))return Promise.reject(Es(t));const r=po(t),i=$F(r,e),a=await new QF(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=10*60*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return ka(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function oL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iL(t);for(const n of e)try{if(uL(n))return}catch{}Pi(t,"unauthorized-domain")}function uL(t){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!aL.test(n))return!1;if(sL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new dc(3e4,6e4);function j_(){const t=Ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{var r,i,s;function a(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(Gi(t,"network-request-failed"))},timeout:lL.get()})}if(!((i=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ki().gapi)===null||s===void 0)&&s.load)a();else{const u=rF("iframefcb");return Ki()[u]=()=>{gapi.load?a():n(Gi(t,"network-request-failed"))},Kx(`${nF()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function hL(t){return Ah=Ah||cL(t),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new dc(5e3,15e3),fL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Av(e,pL):`https://${t.config.authDomain}/${fL}`,r={apiKey:e.apiKey,appName:t.name,v:Eu},i=gL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sc(r).slice(1)}`}async function yL(t){const e=await hL(t),n=Ki().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Gi(t,"network-request-failed"),u=Ki().setTimeout(()=>{s(a)},dL.get());function c(){Ki().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EL=500,wL=600,AL="_blank",xL="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CL(t,e,n,r=EL,i=wL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},_L),{width:r.toString(),height:i.toString(),top:s,left:a}),d=Qn().toLowerCase();n&&(u=Ux(d)?AL:n),Mx(d)&&(e=e||xL,c.scrollbars="yes");const p=Object.entries(c).reduce((A,[b,F])=>`${A}${b}=${F},`,"");if(GD(d)&&u!=="_self")return SL(e||"",u),new U_(null);const g=window.open(e||"",u,p);Le(g,t,"popup-blocked");try{g.focus()}catch{}return new U_(g)}function SL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="__/auth/handler",TL="emulator/auth/handler",kL=encodeURIComponent("fac");async function z_(t,e,n,r,i,s){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eu,eventId:i};if(e instanceof Yx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof pc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${kL}=${encodeURIComponent(c)}`:"";return`${bL(t)}?${sc(u).slice(1)}${d}`}function bL({config:t}){return t.emulator?Av(t,TL):`https://${t.authDomain}/${IL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class PL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=eL,this._overrideRedirectResult=XF}async _openPopup(e,n,r,i){var s;bs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await z_(e,n,r,Am(),i);return CL(e,a,Tv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z_(e,n,r,Am(),i);return DF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(bs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yL(e),r=new nL(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ep];a!==void 0&&n(!!a),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wx()||jx()||Cv()}}const RL=PL;var $_="@firebase/auth",q_="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FL(t){Qi(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Le(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gx(t)},d=new ZD(r,i,s,c);return uF(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new ki("auth-internal",e=>{const n=po(e.getProvider("auth").getImmediate());return(r=>new NL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri($_,q_,DL(t)),ri($_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=5*60,VL=Gw("authIdTokenMaxAge")||LL;let H_=null;const OL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VL)return;const i=n==null?void 0:n.token;H_!==i&&(H_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BL(t=Pg()){const e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oF(t,{popupRedirectResolver:RL,persistence:[zF,PF,iC]}),r=Gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=OL(s.toString());IF(n,a,()=>a(n.currentUser)),SF(n,u=>a(u))}}const i=Hw("auth");return i&&lF(n,`http://${i}`),n}function ML(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FL("Browser");const hC="@firebase/installations",bv="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1e4,fC=`w:${bv}`,pC="FIS_v2",jL="https://firebaseinstallations.googleapis.com/v1",UL=60*60*1e3,zL="installations",$L="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},io=new uo(zL,$L,qL);function mC(t){return t instanceof Ri&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC({projectId:t}){return`${jL}/projects/${t}/installations`}function vC(t){return{token:t.token,requestStatus:2,expiresIn:WL(t.expiresIn),creationTime:Date.now()}}async function yC(t,e){const r=(await e.json()).error;return io.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _C({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HL(t,{refreshToken:e}){const n=_C(t);return n.append("Authorization",GL(e)),n}async function EC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WL(t){return Number(t.replace("s","000"))}function GL(t){return`${pC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gC(t),i=_C(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:n,authVersion:pC,appId:t.appId,sdkVersion:fC},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await EC(()=>fetch(r,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:vC(d.authToken)}}else throw await yC("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^[cdef][\w-]{21}$/,Im="";function XL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JL(t);return YL.test(n)?n:Im}catch{return Im}}function JL(t){return QL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Map;function xC(t,e){const n=af(t);CC(n,e),ZL(n,e)}function CC(t,e){const n=AC.get(t);if(n)for(const r of n)r(e)}function ZL(t,e){const n=eV();n&&n.postMessage({key:t,fid:e}),tV()}let za=null;function eV(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=t=>{CC(t.data.key,t.data.fid)}),za}function tV(){AC.size===0&&za&&(za.close(),za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="firebase-installations-database",rV=1,so="firebase-installations-store";let tp=null;function Pv(){return tp||(tp=Zw(nV,rV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(so)}}})),tp}async function hd(t,e){const n=af(t),i=(await Pv()).transaction(so,"readwrite"),s=i.objectStore(so),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&xC(t,e.fid),e}async function SC(t){const e=af(t),r=(await Pv()).transaction(so,"readwrite");await r.objectStore(so).delete(e),await r.done}async function of(t,e){const n=af(t),i=(await Pv()).transaction(so,"readwrite"),s=i.objectStore(so),a=await s.get(n),u=e(a);return u===void 0?await s.delete(n):await s.put(u,n),await i.done,u&&(!a||a.fid!==u.fid)&&xC(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t){let e;const n=await of(t.appConfig,r=>{const i=iV(r),s=sV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Im?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iV(t){const e=t||{fid:XL(),registrationStatus:0};return IC(e)}function sV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(io.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oV(t)}:{installationEntry:e}}async function aV(t,e){try{const n=await KL(t,e);return hd(t.appConfig,n)}catch(n){throw mC(n)&&n.customData.serverCode===409?await SC(t.appConfig):await hd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oV(t){let e=await W_(t.appConfig);for(;e.registrationStatus===1;)await wC(100),e=await W_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Rv(t);return r||n}return e}function W_(t){return of(t,e=>{if(!e)throw io.create("installation-not-found");return IC(e)})}function IC(t){return uV(t)?{fid:t.fid,registrationStatus:0}:t}function uV(t){return t.registrationStatus===1&&t.registrationTime+dC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV({appConfig:t,heartbeatServiceProvider:e},n){const r=cV(t,n),i=HL(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:fC,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await EC(()=>fetch(r,u));if(c.ok){const d=await c.json();return vC(d)}else throw await yC("Generate Auth Token",c)}function cV(t,{fid:e}){return`${gC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!TC(s))throw io.create("not-registered");const a=s.authToken;if(!e&&fV(a))return s;if(a.requestStatus===1)return n=hV(t,e),s;{if(!navigator.onLine)throw io.create("app-offline");const u=mV(s);return n=dV(t,u),u}});return n?await n:r.authToken}async function hV(t,e){let n=await G_(t.appConfig);for(;n.authToken.requestStatus===1;)await wC(100),n=await G_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Nv(t,e):r}function G_(t){return of(t,e=>{if(!TC(e))throw io.create("not-registered");const n=e.authToken;return gV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dV(t,e){try{const n=await lV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await hd(t.appConfig,r),n}catch(n){if(mC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SC(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hd(t.appConfig,r)}throw n}}function TC(t){return t!==void 0&&t.registrationStatus===2}function fV(t){return t.requestStatus===2&&!pV(t)}function pV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UL}function mV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gV(t){return t.requestStatus===1&&t.requestTime+dC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t){const e=t,{installationEntry:n,registrationPromise:r}=await Rv(e);return r?r.catch(console.error):Nv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e=!1){const n=t;return await _V(n),(await Nv(n,e)).token}async function _V(t){const{registrationPromise:e}=await Rv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(!t||!t.options)throw np("App Configuration");if(!t.name)throw np("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw np(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function np(t){return io.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="installations",wV="installations-internal",AV=t=>{const e=t.getProvider("app").getImmediate(),n=EV(e),r=lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xV=t=>{const e=t.getProvider("app").getImmediate(),n=lo(e,kC).getImmediate();return{getId:()=>vV(n),getToken:i=>yV(n,i)}};function CV(){Qi(new ki(kC,AV,"PUBLIC")),Qi(new ki(wV,xV,"PRIVATE"))}CV();ri(hC,bv);ri(hC,bv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="analytics",SV="firebase_id",IV="origin",TV=60*1e3,kV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new jd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vr=new uo("analytics","Analytics",bV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){if(!t.startsWith(Dv)){const e=Vr.create("invalid-gtag-resource",{gtagURL:t});return wr.warn(e.message),""}return t}function bC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NV(t,e){const n=RV("firebase-js-sdk-policy",{createScriptURL:PV}),r=document.createElement("script"),i=`${Dv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function DV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function FV(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await bC(n)).find(d=>d.measurementId===i);c&&await e[c.appId]}}catch(u){wr.error(u)}t("config",i,s)}async function LV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await bC(n);for(const c of a){const d=u.find(g=>g.measurementId===c),p=d&&e[d.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){wr.error(s)}}function VV(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[u,c]=a;await LV(t,e,n,u,c)}else if(s==="config"){const[u,c]=a;await FV(t,e,n,r,u,c)}else if(s==="consent"){const[u,c]=a;t("consent",u,c)}else if(s==="get"){const[u,c,d]=a;t("get",u,c,d)}else if(s==="set"){const[u]=a;t("set",u)}else t(s,...a)}catch(u){wr.error(u)}}return i}function OV(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=VV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function BV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=30,jV=1e3;class UV{constructor(e={},n=jV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PC=new UV;function zV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $V(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:zV(r)},s=kV.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function qV(t,e=PC,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new GV;return setTimeout(async()=>{u.abort()},TV),RC({appId:r,apiKey:i,measurementId:s},a,u,e)}async function RC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PC){var s;const{appId:a,measurementId:u}=t;try{await HV(r,e)}catch(c){if(u)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await $V(t);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!WV(d)){if(i.deleteThrottleMetadata(a),u)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:u};throw c}const p=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?D0(n,i.intervalMillis,MV):D0(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,g),wr.debug(`Calling attemptFetch again in ${p} millis`),RC(t,g,r,i)}}function HV(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WV(t){if(!(t instanceof Ri)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(){if(Qw())try{await Yw()}catch(t){return wr.warn(Vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wr.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YV(t,e,n,r,i,s,a){var u;const c=qV(t);c.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>wr.error(b)),e.push(c);const d=QV().then(b=>{if(b)return r.getId()}),[p,g]=await Promise.all([c,d]);BV(s)||NV(s,p.measurementId),i("js",new Date);const A=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return A[IV]="firebase",A.update=!0,g!=null&&(A[SV]=g),i("config",p.measurementId,A),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.app=e}_delete(){return delete yl[this.app.options.appId],Promise.resolve()}}let yl={},K_=[];const Q_={};let rp="dataLayer",JV="gtag",Y_,NC,X_=!1;function ZV(){const t=[];if(Kw()&&t.push("This is a browser extension environment."),Y2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});wr.warn(n.message)}}function e3(t,e,n){ZV();const r=t.options.appId;if(!r)throw Vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vr.create("no-api-key");if(yl[r]!=null)throw Vr.create("already-exists",{id:r});if(!X_){DV(rp);const{wrappedGtag:s,gtagCore:a}=OV(yl,K_,Q_,rp,JV);NC=s,Y_=a,X_=!0}return yl[r]=YV(t,K_,Q_,e,Y_,rp,n),new XV(t)}function t3(t=Pg()){t=wn(t);const e=lo(t,dd);return e.isInitialized()?e.getImmediate():n3(t)}function n3(t,e={}){const n=lo(t,dd);if(n.isInitialized()){const i=n.getImmediate();if(jl(e,n.getOptions()))return i;throw Vr.create("already-initialized")}return n.initialize({options:e})}function r3(t,e,n,r){t=wn(t),KV(NC,yl[t.app.options.appId],e,n,r).catch(i=>wr.error(i))}const J_="@firebase/analytics",Z_="0.10.7";function i3(){Qi(new ki(dd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return e3(r,i,n)},"PUBLIC")),Qi(new ki("analytics-internal",t,"PRIVATE")),ri(J_,Z_),ri(J_,Z_,"esm2017");function t(e){try{const n=e.getProvider(dd).getImmediate();return{logEvent:(r,i,s)=>r3(n,r,i,s)}}catch(n){throw Vr.create("interop-component-reg-failed",{reason:n})}}}i3();const s3={apiKey:"AIzaSyDR27NVCQmVwVNZfNXVGpLKSsJj8f2Filg",authDomain:"darelom-students.firebaseapp.com",projectId:"darelom-students",storageBucket:"darelom-students.appspot.com",messagingSenderId:"993473208393",appId:"1:993473208393:web:294652795108cc161c5f98",measurementId:"G-1K85RQXZQ1"},a3=eA(s3),or=oD(),gc=BL();t3(a3);const o3=()=>{const t=fn(),e=JSON.parse(localStorage.getItem("loggedinUser")),n=JSON.parse(localStorage.getItem("loggedinUserInfo"));async function r(){await TF(gc),localStorage.setItem("loggedinUser",null),localStorage.setItem("loggedinUserInfo",null)}return _.jsx("div",{className:"border-bottom",children:_.jsxs("div",{className:"container-xl py-3",children:[e&&_.jsx(_.Fragment,{children:_.jsxs("p",{className:"fs-4",children:[_.jsx("span",{children:" "}),_.jsxs("span",{className:"fw-bold",children:[n.name,"!"]})]})}),n?_.jsxs("div",{className:"d-flex gap-2",children:[_.jsxs("button",{className:`btn btn-primary w-100 p-2 ${!(n!=null&&n.write_permission)&&"disabled"}`,onClick:()=>t(`/${n==null?void 0:n.grade}/send_question_selector`),children:["  ",!(n!=null&&n.write_permission)&&"[  ]"]}),_.jsx("button",{className:"btn btn-danger w-100 p-2",onClick:r,children:" "})]}):_.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t("signin"),children:" "})]})})},jr=({hasText:t=!0})=>_.jsxs("div",{className:"d-block text-center py-4",children:[_.jsx("div",{className:"spinner-border text-primary",role:"status",children:_.jsx("span",{className:"sr-only d-none",children:"..."})}),t?_.jsx("p",{className:"fw-bold fs-5 mt-2",children:"  ."}):""]}),u3=()=>{const[t,e]=q.useState(!0);return q.useEffect(()=>{eC(gc,n=>{e(!1)})},[]),_.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[_.jsx(R2,{}),_.jsx(N2,{}),_.jsx(o3,{}),_.jsx("div",{className:"container-xl flex-grow-1 py-3",children:_.jsx("div",{children:t?_.jsx(jr,{}):_.jsx(u2,{})})}),_.jsx(D2,{}),_.jsx(F2,{})]})},oi=({children:t,fontSize:e,py:n})=>_.jsx("h2",{className:`fs-${e||4} py-${n||2} fw-medium bg-dark text-center text-light`,children:t}),Fv="https://iabdwahab.me",l3=({currentStepIndex:t,setCurrentStepIndex:e,selections:n,setSelections:r})=>{function i(){t>0&&(e(t-1),r(n.slice(0,n.length-1)))}const s=t===0;return _.jsx("button",{className:`btn btn-danger ${s?"d-none":"d-block"}`,onClick:i,children:""})},c3=({option:t,stepsList:e,currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})=>{const a=fn();function u(){if(t.option_data==="test_yourself")return a("/test_yourself");n<e.length-1&&t.will_next?(r(n+1),s([...i,t.option_data])):a(`${i.join("/")}/${t.option_data}`)}const c=t.available,d=`${t.option_text} ${c?"":"[]"}`,p=`btn btn-primary w-100 p-2 ${c?"":"disabled"}`;return _.jsx("button",{className:p,onClick:u,children:d})},h3=({stepsList:t})=>{var u,c;const e=Ji(),[n,r]=q.useState(((u=e.state)==null?void 0:u.initialStepIndex)||0),[i,s]=q.useState(((c=e.state)==null?void 0:c.selections)||[]),a=t[n];return _.jsxs("div",{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:a.title}),_.jsx(l3,{currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})]}),_.jsx("div",{className:"row g-2 my-2",children:a.options.map((d,p)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(c3,{option:d,stepsList:t,currentStepIndex:n,setCurrentStepIndex:r,selections:i,setSelections:s})},p))})]})},d3=()=>_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",children:"#"}),_.jsx("th",{scope:"col",children:""}),_.jsx("th",{scope:"col",className:"text-center",children:""})]})});async function f3(){const t=[{grade:"grade_1",grade_ar_name:" "},{grade:"grade_2",grade_ar_name:" "},{grade:"grade_3",grade_ar_name:" "},{grade:"grade_4",grade_ar_name:" "}];for(let e=1;e<=4;e++){const n=lv(Su(or,`grade_${e}/degrees/2023_24`),fv("rank"),mv(3)),r=[];(await yv(n)).docs.forEach(s=>{r.push(s.data())}),t[e-1].list=r}return t}const p3=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0);return q.useEffect(()=>{async function i(){let s;s=await f3(),e(s),r(!1)}i()},[]),_.jsxs("div",{className:"top-students",children:[_.jsx(oi,{children:" "}),n?_.jsx(jr,{}):_.jsx("div",{className:"row g-2 mt-1",children:t.map((i,s)=>_.jsxs("div",{className:"border-secondary-subtle rounded-2 py-1 my-0 col-lg-6",children:[_.jsx("h3",{className:"fs-5 bg-dark text-light p-2 my-0",children:i.grade_ar_name}),_.jsxs("table",{className:"table table-striped border",children:[_.jsx(d3,{}),_.jsx(m3,{gradeDegree:i})]}),_.jsx(va,{to:`degrees/${i.grade}/2023_24`,className:"d-block my-2 btn btn-primary fw-bold",children:"  "})]},s))})]})};function m3({gradeDegree:t}){return _.jsx("tbody",{children:t.list.map((e,n)=>_.jsx(g3,{student:e,grade:t.grade},n))})}function g3({student:t,grade:e}){const n=fn();return _.jsxs("tr",{className:"degree_tr-linked",onClick:()=>n(`/degrees/${e}/2023_24/${t.id}`),children:[_.jsx("th",{scope:"row",children:t.rank}),_.jsx("td",{children:t.name}),_.jsxs("td",{className:"text-center",children:["%",t.total_percentage]})]})}const v3=[{title:" :",options:[{option_text:" ",option_data:"grade_1",will_next:!0,available:!0},{option_text:" ",option_data:"grade_2",will_next:!0,available:!0},{option_text:" ",option_data:"grade_3",will_next:!0,available:!0},{option_text:" ",option_data:"grade_4",will_next:!0,available:!0}]},{title:" ",options:[{option_text:" ",option_data:"schedule",will_next:!1,available:!0},{option_text:" ",option_data:"books",will_next:!0,available:!0},{option_text:" ",option_data:"lectures_recordings",will_next:!0,available:!0},{option_text:"  -  ",option_data:"test_yourself_students",will_next:!0,available:!0},{option_text:"  [ ]",option_data:"test_yourself",will_next:!1,available:!0},{option_text:" ",option_data:"more_resources",will_next:!0,available:!0},{option_text:"",option_data:"explanations",will_next:!1,available:!1},{option_text:"  ",option_data:"books",will_next:!0,available:!1}]},{title:"  :",options:[{option_text:"  ",option_data:"term_1",will_next:!1,available:!0},{option_text:"  ",option_data:"term_2",will_next:!1,available:!0}]}],y3=()=>_.jsxs(_.Fragment,{children:[_.jsx(h3,{stepsList:v3}),_.jsx(p3,{})]}),_3=({student:t,grade:e})=>{const{id:n,name:r,rank:i,total:s,total_percentage:a}=t,u=fn();function c(){u(`/degrees/${e}/2023_24/${t.id}`)}return _.jsxs("tr",{className:"degree_tr-linked",onClick:c,children:[_.jsx("th",{scope:"row",className:"text-center",children:i}),_.jsx("td",{className:"text-center",children:n}),_.jsx("td",{style:{whiteSpace:"nowrap"},children:r}),_.jsx("td",{className:"text-center",children:s}),_.jsxs("td",{className:"text-center",children:["%",a]})]})},E3=()=>{const t=[{isCentered:!0,text:"#"},{isCentered:!0,text:" "},{isCentered:!1,text:""},{isCentered:!0,text:""},{isCentered:!0,text:""}];return _.jsx("thead",{children:_.jsx("tr",{children:t.map((e,n)=>_.jsx("th",{scope:"col",className:`${e.isCentered&&"text-center"}`,children:e.text},n))})})};async function w3(t){const e=await yv(t),n=e.docs.map(i=>i.data()),r=e.docs[e.docs.length-1];return{degreesData:n,lastStudentData:r}}async function A3(t){return(await ID(t)).data().count}function Ar(t){return{grade_1:" ",grade_2:" ",grade_3:" ",grade_4:" ",term_1:"  ",term_2:"  ",nahw:"",sarf:"",english:"",elm_allugha:" ",albalagha:"",adab_gahily:" ",falsafa:"",seera_khoalfaa:"  ",quran_ebadat:" ",naqd_qadim:"  ",nsoos_gahilya:" ",farsy:"",ebry:"",riyadat_aamal:" ",nazm_oslobiya:" ",quran_ahwal:"   ",adab_islamy_omawy:"  ",mawarith:"",maajim_aswat:"  ",nsoos_islamya_omawya:"  ",tareekh_omawy_abasy:"  ",aqida:"",adab_moqaran:" ",adab_abasy_andalusy:"  ",olom_quran:" ",tareekh_misr:"  ",tafseer:"",elm_kalam:" ",nsoos_abasya_andalusya:"  ",ittijahat_lughawiya:" ",adab_hadith:" ",hadara_nozom:" ",tasawof:"",osool_fiqh:" ",horoob_salibiya:" ",nsoos_haditha:"  ",naqd_hadith:"  ",mojalad_tasgilat:"  ",groupped_channel:"  "}[t]}const x3=({studentsCount:t})=>{const e=_.jsx("span",{className:"fw-bold",children:t||" "});return _.jsxs("h3",{className:"py-2 fs-4",children:[" : ",e,"."]})},C3=({degreesCollection:t,lastStudent:e,setDataAndHideLoaderFirestore:n})=>{function r(){const i=lv(t,fv("rank","asc"),yD(e),mv(40));n(i)}return _.jsx("button",{className:"btn btn-primary w-100",onClick:r,children:" "})},S3=()=>_.jsx("h3",{className:"fw-bold text-center fs-5",children:" ."}),I3=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),{grade:i}=ai(),[s,a]=q.useState(null),[u,c]=q.useState(null),[d,p]=q.useState(!1),g=Su(or,`${i}/degrees/2023_24`);async function A(b){const F=await A3(g),{degreesData:L,lastStudentData:M}=await w3(b);a(F),e([...t,...L]),c(M),M.data().rank===F&&p(!0),r(!1)}return q.useEffect(()=>{A(lv(g,fv("rank","asc"),mv(40)))},[]),_.jsxs("div",{children:[_.jsxs(oi,{fontSize:3,py:3,children:["  ",Ar(i)," 2023/24"]}),_.jsx(x3,{studentsCount:s}),_.jsxs("div",{className:"table-responsive border",children:[_.jsxs("table",{className:"table table-striped table-bordered",children:[_.jsx(E3,{}),_.jsx("tbody",{children:t.map(b=>_.jsx(_3,{student:b,grade:i},b.id))})]}),n&&_.jsx(jr,{})]}),_.jsx("div",{className:"mt-3 mb-1",children:d?_.jsx(S3,{}):_.jsx(C3,{degreesCollection:g,lastStudent:u,setDataAndHideLoaderFirestore:A})})]})},T3=({subject:t,student:e,index:n})=>{const r=e.degrees[n],i=r>=50?"bg-success":"bg-danger";return _.jsxs("tr",{children:[_.jsx("th",{scope:"row",children:t.name},n),_.jsx("td",{className:`text-center text-light ${i}`,children:r})]})},k3=()=>{},b3=({title:t,value:e})=>_.jsxs("h4",{className:"mb-1",children:[_.jsxs("span",{className:"fw-bold text-primary",children:[t,": "]}),_.jsxs("span",{children:[e,"."]})]}),P3=({student:t})=>{const e=[{title:"",value:t.name},{title:" ",value:t.id},{title:"",value:t.rank},{title:"",value:t.total_grade}];return _.jsx("div",{children:e.map((n,r)=>_.jsx(b3,{title:n.title,value:n.value},r))})};async function R3(t,e){const n=Zi(or,`${t}/degrees/2023_24`,e);return(await Ia(n)).data()}const N3=()=>{const{grade:t,studentId:e}=ai(),[n,r]=q.useState({}),[i,s]=q.useState([]),[a,u]=q.useState(!0);return q.useEffect(()=>{async function c(){let d;{d=await R3(t,e);const p=(await Ia(Zi(or,`${t}`,"degrees"))).data().subjects;s(p)}r(d),u(!1)}c()},[]),_.jsxs(_.Fragment,{children:[_.jsx(oi,{fontSize:3,children:" "}),a?_.jsx(jr,{}):_.jsxs("div",{className:"mt-3",children:[_.jsx(P3,{student:n}),_.jsxs("table",{className:"table table-striped border table-bordered mt-4",children:[_.jsx(k3,{}),_.jsx("tbody",{children:i.map((c,d)=>_.jsx(T3,{subject:c,student:n,index:d},d))})]})]})]})},Zc=()=>_.jsxs("div",{className:"min-vh-100 d-flex flex-column gap-4 justify-content-center align-items-center",children:[_.jsx("h1",{children:"  ."}),_.jsx(va,{to:"/",className:"btn btn-primary",children:" "})]}),uf=()=>{const t=fn();function e(){t("/")}return _.jsx("button",{className:"btn btn-danger",onClick:e,children:" "})},Lv=({grade:t,backFrom:e})=>{const n=fn();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return _.jsx("button",{className:"btn btn-danger",onClick:r,children:""})};function vs({text:t,color:e,widthPercentage:n,onClick:r}){return _.jsx("button",{className:`btn btn-${e||"primary"} w-${n||"100"} p-2`,onClick:r,children:t})}const D3=({book:t})=>{const e=fn(),[n,r]=q.useState(!1);function i(){window.location.href=`https://drive.google.com/uc?export=download&id=${t.book_gdrive_id}`}function s(){e(`/book/${t.book_gdrive_id}`,{state:{book_name:t.book_name}})}return n?_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(vs,{text:"",color:"success",onClick:s}),_.jsx(vs,{text:"",onClick:i}),_.jsx(vs,{text:"",color:"danger",onClick:()=>r(!1)})]}):_.jsx(vs,{text:t.book_name,onClick:()=>r(!0)})},F3=()=>{const{grade:t,term:e}=ai(),[n,r]=q.useState([]),[i,s]=q.useState(!0);return q.useEffect(()=>{fetch(`${Fv}/darelom-students-data/books/2023_24/books_${t}.json`).then(a=>a.json()).then(a=>{r(a[e]),s(!1)})},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[_.jsx("h2",{children:" :"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(Lv,{grade:t,backFrom:"books"}),_.jsx(uf,{})]})]}),_.jsxs(oi,{children:[Ar(t)," - ",Ar(e)]}),i?_.jsx(jr,{}):_.jsx("div",{className:"row g-2 my-2",children:n.map((a,u)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(D3,{book:a,grade:t,term:e})},u))})]})};function L3(){const t="btn btn-danger p-2 px-5 w-100",e=fn();function n(){e(-1)}return _.jsx("button",{className:t,onClick:n,children:""})}const V3=({bookId:t,isIframeLoading:e,setIsIframeLoading:n})=>{const r=`https://drive.google.com/file/d/${t}/preview`,i=`${e&&"d-none"} w-100`,s={height:"500px"};function a(){n(!1)}return _.jsx("iframe",{src:r,onLoad:a,className:i,style:s})},O3=({bookId:t})=>{const e="btn btn-primary p-2 px-5 w-100";function n(){window.location.href=`https://drive.google.com/uc?export=download&id=${t}`}return _.jsx("button",{className:e,onClick:n,children:""})},e1=({children:t})=>_.jsx("div",{className:"col-md-auto col-6",children:t}),B3=()=>{var s;const{bookId:t}=ai(),n=(s=Ji().state)==null?void 0:s.book_name,[r,i]=q.useState(!0);return _.jsxs(_.Fragment,{children:[_.jsxs(oi,{children:[': "',n,'".']}),_.jsxs("div",{className:"my-2 d-flex justify-content-end row gx-2",children:[_.jsx(e1,{children:_.jsx(O3,{bookId:t})}),_.jsx(e1,{children:_.jsx(L3,{})})]}),r&&_.jsx(jr,{}),_.jsx(V3,{bookId:t,isIframeLoading:r,setIsIframeLoading:i})]})},M3=({currentQuestionIndex:t,questionsLength:e,creatorName:n})=>{const r=t+1;return _.jsx("div",{className:"d-flex justify-content-between ",children:_.jsxs("p",{className:"mb-0",children:["",_.jsxs("span",{className:"fw-bold",children:[" ",r," "]}),"",_.jsxs("span",{className:"fw-bold",children:[" ",e]}),"."]})})},j3=({questionText:t})=>_.jsx("h3",{className:"bg-black text-light p-2 py-3 text-center my-4 rounded-2 lh-base",children:t});function U3({currentQuestionIndex:t,setCurrentQuestionIndex:e,setIsAnswered:n,answerButtons:r}){function i(){n(!1),e(t+1),r.forEach(s=>{s.disabled=!1,s.classList.remove("btn-danger","btn-success")})}return _.jsx(vs,{text:"",onClick:i})}function z3({questionsLength:t,score:e}){const n=fn();function r(){n("/test_yourself/test_result",{state:{result:e,fullMark:t}})}return _.jsx(vs,{text:" ",onClick:r})}const $3=({children:t})=>_.jsx("div",{className:"modal-header",children:_.jsx("h5",{className:"modal-title text-center w-100",children:t})}),q3=({children:t})=>_.jsx("div",{className:"modal-body pb-1",children:_.jsx("p",{className:"text-center fw-bold",children:t})}),H3=({children:t})=>_.jsx("div",{className:"modal-footer border-0 pt-0",children:t}),W3=({setIsModalOpen:t,answerReason:e})=>_.jsx("div",{className:"modal d-block bg-black bg-opacity-75",tabIndex:"-1",children:_.jsx("div",{className:"modal-dialog modal-dialog-centered",children:_.jsxs("div",{className:"modal-content",children:[_.jsx($3,{children:'"   "'}),_.jsx(q3,{children:e||"      ."}),_.jsx(H3,{children:_.jsx(vs,{text:"",color:"danger",onClick:()=>t(!1)})})]})})}),G3=({setIsModalOpen:t})=>_.jsx(vs,{text:" ",onClick:()=>t(!0)});function K3(t,e,n,r,i,s,a,u){function c(){r.current.forEach(g=>{g.disabled=!0}),p.disabled=!1}n(!0);const d=r.current[s[i].question_answer],p=t.target;e==s[i].question_answer?(p.classList.add("btn-success"),a(u+1),c()):(c(),p.classList.add("btn-danger"),d.classList.add("btn-success"))}const ip=()=>{var H,G,f,I,x,S;const{grade:t,term:e,subject:n}=ai(),[r,i]=q.useState(!1),[s,a]=q.useState(((H=location.state)==null?void 0:H.currentQuestionIndex)||0),[u,c]=q.useState(0),[d,p]=q.useState([]),[g,A]=q.useState(!1),b=q.useRef([]),[F,L]=q.useState(!0),R=Ji().pathname;function k(D){yv(Su(or,D)).then(B=>{const U=[];B.docs.forEach(V=>{U.push(V.data())}),p(U),L(!1)})}q.useEffect(()=>{R=="/test_yourself/sended_questions"?k("test_yourself/sended_questions"):R==`/${t}/${e}/${n}/test_yourself_students`?k(`${t}/test_yourself_students/questions/${e}/${n}`):fetch(`${Fv}/darelom-students-data/questions/test_questions.json`).then(D=>D.json()).then(D=>{p(D),L(!1)})},[]);const P=s>=d.length-1;return _.jsxs(_.Fragment,{children:[_.jsx(oi,{fontSize:"2",children:" "}),F?_.jsx(jr,{}):d.length?_.jsxs("div",{className:"mt-2",children:[_.jsx(M3,{currentQuestionIndex:s,questionsLength:d.length,creatorName:(f=(G=d[s])==null?void 0:G.question_creator)==null?void 0:f.name}),_.jsx(j3,{questionText:(I=d[s])==null?void 0:I.question_text}),_.jsx("div",{className:"row g-2",children:(x=d[s])==null?void 0:x.question_options.map((D,B)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100 p-2",ref:U=>b.current[B]=U,onClick:U=>K3(U,B,i,b,s,d,c,u),children:D})},B))}),_.jsx("hr",{}),_.jsxs("div",{className:"mt-3 d-flex gap-2",children:[r&&P?_.jsx(z3,{questionsLength:d.length,score:u}):r&&!P&&_.jsx(U3,{currentQuestionIndex:s,setCurrentQuestionIndex:a,setIsAnswered:i,answerButtons:b.current}),r&&_.jsx(G3,{setIsModalOpen:A})]}),g&&_.jsx(W3,{setIsModalOpen:A,answerReason:(S=d[s])==null?void 0:S.answer_reason})]}):_.jsx("p",{className:"text-center fs-2 fw-bold my-2",children:"   ."})]})},Q3=()=>{const t=Ji(),{result:e,fullMark:n}=t.state;return _.jsxs(_.Fragment,{children:[_.jsx("h2",{children:" :"}),_.jsxs("p",{className:"text-center fs-1",children:[_.jsxs("span",{className:"fw-bold",children:[e," "]}),"",_.jsxs("span",{className:"fw-bold",children:[" ",n]}),"."]})]})};var Y3=Object.create,t1=Object.defineProperty,X3=Object.getPrototypeOf,J3=Object.getOwnPropertyNames,Z3=Object.prototype.hasOwnProperty,Vv=(t,e,n)=>{n=t!=null?Y3(X3(t)):{};const r=t1(n,"default",{value:t,enumerable:!0});for(let i of J3(t))Z3.call(r,i)||t1(r,i,{get:()=>t[i],enumerable:!0});return r},vc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),n1=vc((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.acorn={}))})(t,function(n){var r=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],i=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],s="-----------------------------------------------------------------------------------------------------------------------------------------------------",a="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",u={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},c="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",d={5:c,"5module":c+" export import",6:c+" const class extends export import super"},p=/^in(stanceof)?$/,g=new RegExp("["+a+"]"),A=new RegExp("["+a+s+"]");function b(o,h){for(var v=65536,w=0;w<h.length;w+=2){if(v+=h[w],v>o)return!1;if(v+=h[w+1],v>=o)return!0}return!1}function F(o,h){return o<65?o===36:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&g.test(String.fromCharCode(o)):h===!1?!1:b(o,i)}function L(o,h){return o<48?o===36:o<58?!0:o<65?!1:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&A.test(String.fromCharCode(o)):h===!1?!1:b(o,i)||b(o,r)}var M=function(h,v){v===void 0&&(v={}),this.label=h,this.keyword=v.keyword,this.beforeExpr=!!v.beforeExpr,this.startsExpr=!!v.startsExpr,this.isLoop=!!v.isLoop,this.isAssign=!!v.isAssign,this.prefix=!!v.prefix,this.postfix=!!v.postfix,this.binop=v.binop||null,this.updateContext=null};function R(o,h){return new M(o,{beforeExpr:!0,binop:h})}var k={beforeExpr:!0},P={startsExpr:!0},H={};function G(o,h){return h===void 0&&(h={}),h.keyword=o,H[o]=new M(o,h)}var f={num:new M("num",P),regexp:new M("regexp",P),string:new M("string",P),name:new M("name",P),privateId:new M("privateId",P),eof:new M("eof"),bracketL:new M("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new M("]"),braceL:new M("{",{beforeExpr:!0,startsExpr:!0}),braceR:new M("}"),parenL:new M("(",{beforeExpr:!0,startsExpr:!0}),parenR:new M(")"),comma:new M(",",k),semi:new M(";",k),colon:new M(":",k),dot:new M("."),question:new M("?",k),questionDot:new M("?."),arrow:new M("=>",k),template:new M("template"),invalidTemplate:new M("invalidTemplate"),ellipsis:new M("...",k),backQuote:new M("`",P),dollarBraceL:new M("${",{beforeExpr:!0,startsExpr:!0}),eq:new M("=",{beforeExpr:!0,isAssign:!0}),assign:new M("_=",{beforeExpr:!0,isAssign:!0}),incDec:new M("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new M("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:R("||",1),logicalAND:R("&&",2),bitwiseOR:R("|",3),bitwiseXOR:R("^",4),bitwiseAND:R("&",5),equality:R("==/!=/===/!==",6),relational:R("</>/<=/>=",7),bitShift:R("<</>>/>>>",8),plusMin:new M("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:R("%",10),star:R("*",10),slash:R("/",10),starstar:new M("**",{beforeExpr:!0}),coalesce:R("??",1),_break:G("break"),_case:G("case",k),_catch:G("catch"),_continue:G("continue"),_debugger:G("debugger"),_default:G("default",k),_do:G("do",{isLoop:!0,beforeExpr:!0}),_else:G("else",k),_finally:G("finally"),_for:G("for",{isLoop:!0}),_function:G("function",P),_if:G("if"),_return:G("return",k),_switch:G("switch"),_throw:G("throw",k),_try:G("try"),_var:G("var"),_const:G("const"),_while:G("while",{isLoop:!0}),_with:G("with"),_new:G("new",{beforeExpr:!0,startsExpr:!0}),_this:G("this",P),_super:G("super",P),_class:G("class",P),_extends:G("extends",k),_export:G("export"),_import:G("import",P),_null:G("null",P),_true:G("true",P),_false:G("false",P),_in:G("in",{beforeExpr:!0,binop:7}),_instanceof:G("instanceof",{beforeExpr:!0,binop:7}),_typeof:G("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:G("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:G("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},I=/\r\n?|\n|\u2028|\u2029/,x=new RegExp(I.source,"g");function S(o){return o===10||o===13||o===8232||o===8233}function D(o,h,v){v===void 0&&(v=o.length);for(var w=h;w<v;w++){var N=o.charCodeAt(w);if(S(N))return w<v-1&&N===13&&o.charCodeAt(w+1)===10?w+2:w+1}return-1}var B=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,U=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,V=Object.prototype,He=V.hasOwnProperty,Pt=V.toString,Bt=Object.hasOwn||function(o,h){return He.call(o,h)},fe=Array.isArray||function(o){return Pt.call(o)==="[object Array]"},ae=Object.create(null);function ve(o){return ae[o]||(ae[o]=new RegExp("^(?:"+o.replace(/ /g,"|")+")$"))}function we(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}var Ge=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ne=function(h,v){this.line=h,this.column=v};Ne.prototype.offset=function(h){return new Ne(this.line,this.column+h)};var Qe=function(h,v,w){this.start=v,this.end=w,h.sourceFile!==null&&(this.source=h.sourceFile)};function ft(o,h){for(var v=1,w=0;;){var N=D(o,w,h);if(N<0)return new Ne(v,h-w);++v,w=N}}var St={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Wt=!1;function An(o){var h={};for(var v in St)h[v]=o&&Bt(o,v)?o[v]:St[v];if(h.ecmaVersion==="latest"?h.ecmaVersion=1e8:h.ecmaVersion==null?(!Wt&&typeof console=="object"&&console.warn&&(Wt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),h.ecmaVersion=11):h.ecmaVersion>=2015&&(h.ecmaVersion-=2009),h.allowReserved==null&&(h.allowReserved=h.ecmaVersion<5),(!o||o.allowHashBang==null)&&(h.allowHashBang=h.ecmaVersion>=14),fe(h.onToken)){var w=h.onToken;h.onToken=function(N){return w.push(N)}}return fe(h.onComment)&&(h.onComment=Ni(h,h.onComment)),h}function Ni(o,h){return function(v,w,N,$,Q,ne){var ue={type:v?"Block":"Line",value:w,start:N,end:$};o.locations&&(ue.loc=new Qe(this,Q,ne)),o.ranges&&(ue.range=[N,$]),h.push(ue)}}var xr=1,xn=2,Ur=4,Lt=8,pn=16,ci=32,hi=64,Dn=128,lr=256,ns=xr|xn|lr;function zr(o,h){return xn|(o?Ur:0)|(h?Lt:0)}var sn=0,cr=1,Fn=2,di=3,Yn=4,Xn=5,je=function(h,v,w){this.options=h=An(h),this.sourceFile=h.sourceFile,this.keywords=ve(d[h.ecmaVersion>=6?6:h.sourceType==="module"?"5module":5]);var N="";h.allowReserved!==!0&&(N=u[h.ecmaVersion>=6?6:h.ecmaVersion===5?5:3],h.sourceType==="module"&&(N+=" await")),this.reservedWords=ve(N);var $=(N?N+" ":"")+u.strict;this.reservedWordsStrict=ve($),this.reservedWordsStrictBind=ve($+" "+u.strictBind),this.input=String(v),this.containsEsc=!1,w?(this.pos=w,this.lineStart=this.input.lastIndexOf(`
`,w-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(I).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=f.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=h.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&h.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(xr),this.regexpState=null,this.privateNameStack=[]},st={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};je.prototype.parse=function(){var h=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(h)},st.inFunction.get=function(){return(this.currentVarScope().flags&xn)>0},st.inGenerator.get=function(){return(this.currentVarScope().flags&Lt)>0&&!this.currentVarScope().inClassFieldInit},st.inAsync.get=function(){return(this.currentVarScope().flags&Ur)>0&&!this.currentVarScope().inClassFieldInit},st.canAwait.get=function(){for(var o=this.scopeStack.length-1;o>=0;o--){var h=this.scopeStack[o];if(h.inClassFieldInit||h.flags&lr)return!1;if(h.flags&xn)return(h.flags&Ur)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},st.allowSuper.get=function(){var o=this.currentThisScope(),h=o.flags,v=o.inClassFieldInit;return(h&hi)>0||v||this.options.allowSuperOutsideMethod},st.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Dn)>0},st.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},st.allowNewDotTarget.get=function(){var o=this.currentThisScope(),h=o.flags,v=o.inClassFieldInit;return(h&(xn|lr))>0||v},st.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&lr)>0},je.extend=function(){for(var h=[],v=arguments.length;v--;)h[v]=arguments[v];for(var w=this,N=0;N<h.length;N++)w=h[N](w);return w},je.parse=function(h,v){return new this(v,h).parse()},je.parseExpressionAt=function(h,v,w){var N=new this(w,h,v);return N.nextToken(),N.parseExpression()},je.tokenizer=function(h,v){return new this(v,h)},Object.defineProperties(je.prototype,st);var pt=je.prototype,Ln=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;pt.strictDirective=function(o){if(this.options.ecmaVersion<5)return!1;for(;;){U.lastIndex=o,o+=U.exec(this.input)[0].length;var h=Ln.exec(this.input.slice(o));if(!h)return!1;if((h[1]||h[2])==="use strict"){U.lastIndex=o+h[0].length;var v=U.exec(this.input),w=v.index+v[0].length,N=this.input.charAt(w);return N===";"||N==="}"||I.test(v[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(N)||N==="!"&&this.input.charAt(w+1)==="=")}o+=h[0].length,U.lastIndex=o,o+=U.exec(this.input)[0].length,this.input[o]===";"&&o++}},pt.eat=function(o){return this.type===o?(this.next(),!0):!1},pt.isContextual=function(o){return this.type===f.name&&this.value===o&&!this.containsEsc},pt.eatContextual=function(o){return this.isContextual(o)?(this.next(),!0):!1},pt.expectContextual=function(o){this.eatContextual(o)||this.unexpected()},pt.canInsertSemicolon=function(){return this.type===f.eof||this.type===f.braceR||I.test(this.input.slice(this.lastTokEnd,this.start))},pt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pt.semicolon=function(){!this.eat(f.semi)&&!this.insertSemicolon()&&this.unexpected()},pt.afterTrailingComma=function(o,h){if(this.type===o)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),h||this.next(),!0},pt.expect=function(o){this.eat(o)||this.unexpected()},pt.unexpected=function(o){this.raise(o??this.start,"Unexpected token")};var $r=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pt.checkPatternErrors=function(o,h){if(o){o.trailingComma>-1&&this.raiseRecoverable(o.trailingComma,"Comma is not permitted after the rest element");var v=h?o.parenthesizedAssign:o.parenthesizedBind;v>-1&&this.raiseRecoverable(v,h?"Assigning to rvalue":"Parenthesized pattern")}},pt.checkExpressionErrors=function(o,h){if(!o)return!1;var v=o.shorthandAssign,w=o.doubleProto;if(!h)return v>=0||w>=0;v>=0&&this.raise(v,"Shorthand property assignments are valid only in destructuring patterns"),w>=0&&this.raiseRecoverable(w,"Redefinition of __proto__ property")},pt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pt.isSimpleAssignTarget=function(o){return o.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(o.expression):o.type==="Identifier"||o.type==="MemberExpression"};var de=je.prototype;de.parseTopLevel=function(o){var h=Object.create(null);for(o.body||(o.body=[]);this.type!==f.eof;){var v=this.parseStatement(null,!0,h);o.body.push(v)}if(this.inModule)for(var w=0,N=Object.keys(this.undefinedExports);w<N.length;w+=1){var $=N[w];this.raiseRecoverable(this.undefinedExports[$].start,"Export '"+$+"' is not defined")}return this.adaptDirectivePrologue(o.body),this.next(),o.sourceType=this.options.sourceType,this.finishNode(o,"Program")};var Cr={kind:"loop"},Jn={kind:"switch"};de.isLet=function(o){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;U.lastIndex=this.pos;var h=U.exec(this.input),v=this.pos+h[0].length,w=this.input.charCodeAt(v);if(w===91||w===92)return!0;if(o)return!1;if(w===123||w>55295&&w<56320)return!0;if(F(w,!0)){for(var N=v+1;L(w=this.input.charCodeAt(N),!0);)++N;if(w===92||w>55295&&w<56320)return!0;var $=this.input.slice(v,N);if(!p.test($))return!0}return!1},de.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;U.lastIndex=this.pos;var o=U.exec(this.input),h=this.pos+o[0].length,v;return!I.test(this.input.slice(this.pos,h))&&this.input.slice(h,h+8)==="function"&&(h+8===this.input.length||!(L(v=this.input.charCodeAt(h+8))||v>55295&&v<56320))},de.parseStatement=function(o,h,v){var w=this.type,N=this.startNode(),$;switch(this.isLet(o)&&(w=f._var,$="let"),w){case f._break:case f._continue:return this.parseBreakContinueStatement(N,w.keyword);case f._debugger:return this.parseDebuggerStatement(N);case f._do:return this.parseDoStatement(N);case f._for:return this.parseForStatement(N);case f._function:return o&&(this.strict||o!=="if"&&o!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(N,!1,!o);case f._class:return o&&this.unexpected(),this.parseClass(N,!0);case f._if:return this.parseIfStatement(N);case f._return:return this.parseReturnStatement(N);case f._switch:return this.parseSwitchStatement(N);case f._throw:return this.parseThrowStatement(N);case f._try:return this.parseTryStatement(N);case f._const:case f._var:return $=$||this.value,o&&$!=="var"&&this.unexpected(),this.parseVarStatement(N,$);case f._while:return this.parseWhileStatement(N);case f._with:return this.parseWithStatement(N);case f.braceL:return this.parseBlock(!0,N);case f.semi:return this.parseEmptyStatement(N);case f._export:case f._import:if(this.options.ecmaVersion>10&&w===f._import){U.lastIndex=this.pos;var Q=U.exec(this.input),ne=this.pos+Q[0].length,ue=this.input.charCodeAt(ne);if(ue===40||ue===46)return this.parseExpressionStatement(N,this.parseExpression())}return this.options.allowImportExportEverywhere||(h||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),w===f._import?this.parseImport(N):this.parseExport(N,v);default:if(this.isAsyncFunction())return o&&this.unexpected(),this.next(),this.parseFunctionStatement(N,!0,!o);var Ve=this.value,Pe=this.parseExpression();return w===f.name&&Pe.type==="Identifier"&&this.eat(f.colon)?this.parseLabeledStatement(N,Ve,Pe,o):this.parseExpressionStatement(N,Pe)}},de.parseBreakContinueStatement=function(o,h){var v=h==="break";this.next(),this.eat(f.semi)||this.insertSemicolon()?o.label=null:this.type!==f.name?this.unexpected():(o.label=this.parseIdent(),this.semicolon());for(var w=0;w<this.labels.length;++w){var N=this.labels[w];if((o.label==null||N.name===o.label.name)&&(N.kind!=null&&(v||N.kind==="loop")||o.label&&v))break}return w===this.labels.length&&this.raise(o.start,"Unsyntactic "+h),this.finishNode(o,v?"BreakStatement":"ContinueStatement")},de.parseDebuggerStatement=function(o){return this.next(),this.semicolon(),this.finishNode(o,"DebuggerStatement")},de.parseDoStatement=function(o){return this.next(),this.labels.push(Cr),o.body=this.parseStatement("do"),this.labels.pop(),this.expect(f._while),o.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(f.semi):this.semicolon(),this.finishNode(o,"DoWhileStatement")},de.parseForStatement=function(o){this.next();var h=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Cr),this.enterScope(0),this.expect(f.parenL),this.type===f.semi)return h>-1&&this.unexpected(h),this.parseFor(o,null);var v=this.isLet();if(this.type===f._var||this.type===f._const||v){var w=this.startNode(),N=v?"let":this.value;return this.next(),this.parseVar(w,!0,N),this.finishNode(w,"VariableDeclaration"),(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&w.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===f._in?h>-1&&this.unexpected(h):o.await=h>-1),this.parseForIn(o,w)):(h>-1&&this.unexpected(h),this.parseFor(o,w))}var $=this.isContextual("let"),Q=!1,ne=this.containsEsc,ue=new $r,Ve=this.start,Pe=h>-1?this.parseExprSubscripts(ue,"await"):this.parseExpression(!0,ue);return this.type===f._in||(Q=this.options.ecmaVersion>=6&&this.isContextual("of"))?(h>-1?(this.type===f._in&&this.unexpected(h),o.await=!0):Q&&this.options.ecmaVersion>=8&&(Pe.start===Ve&&!ne&&Pe.type==="Identifier"&&Pe.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(o.await=!1)),$&&Q&&this.raise(Pe.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Pe,!1,ue),this.checkLValPattern(Pe),this.parseForIn(o,Pe)):(this.checkExpressionErrors(ue,!0),h>-1&&this.unexpected(h),this.parseFor(o,Pe))},de.parseFunctionStatement=function(o,h,v){return this.next(),this.parseFunction(o,an|(v?0:fi),!1,h)},de.parseIfStatement=function(o){return this.next(),o.test=this.parseParenExpression(),o.consequent=this.parseStatement("if"),o.alternate=this.eat(f._else)?this.parseStatement("if"):null,this.finishNode(o,"IfStatement")},de.parseReturnStatement=function(o){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(f.semi)||this.insertSemicolon()?o.argument=null:(o.argument=this.parseExpression(),this.semicolon()),this.finishNode(o,"ReturnStatement")},de.parseSwitchStatement=function(o){this.next(),o.discriminant=this.parseParenExpression(),o.cases=[],this.expect(f.braceL),this.labels.push(Jn),this.enterScope(0);for(var h,v=!1;this.type!==f.braceR;)if(this.type===f._case||this.type===f._default){var w=this.type===f._case;h&&this.finishNode(h,"SwitchCase"),o.cases.push(h=this.startNode()),h.consequent=[],this.next(),w?h.test=this.parseExpression():(v&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),v=!0,h.test=null),this.expect(f.colon)}else h||this.unexpected(),h.consequent.push(this.parseStatement(null));return this.exitScope(),h&&this.finishNode(h,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(o,"SwitchStatement")},de.parseThrowStatement=function(o){return this.next(),I.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),o.argument=this.parseExpression(),this.semicolon(),this.finishNode(o,"ThrowStatement")};var rs=[];de.parseCatchClauseParam=function(){var o=this.parseBindingAtom(),h=o.type==="Identifier";return this.enterScope(h?ci:0),this.checkLValPattern(o,h?Yn:Fn),this.expect(f.parenR),o},de.parseTryStatement=function(o){if(this.next(),o.block=this.parseBlock(),o.handler=null,this.type===f._catch){var h=this.startNode();this.next(),this.eat(f.parenL)?h.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),h.param=null,this.enterScope(0)),h.body=this.parseBlock(!1),this.exitScope(),o.handler=this.finishNode(h,"CatchClause")}return o.finalizer=this.eat(f._finally)?this.parseBlock():null,!o.handler&&!o.finalizer&&this.raise(o.start,"Missing catch or finally clause"),this.finishNode(o,"TryStatement")},de.parseVarStatement=function(o,h,v){return this.next(),this.parseVar(o,!1,h,v),this.semicolon(),this.finishNode(o,"VariableDeclaration")},de.parseWhileStatement=function(o){return this.next(),o.test=this.parseParenExpression(),this.labels.push(Cr),o.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(o,"WhileStatement")},de.parseWithStatement=function(o){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),o.object=this.parseParenExpression(),o.body=this.parseStatement("with"),this.finishNode(o,"WithStatement")},de.parseEmptyStatement=function(o){return this.next(),this.finishNode(o,"EmptyStatement")},de.parseLabeledStatement=function(o,h,v,w){for(var N=0,$=this.labels;N<$.length;N+=1){var Q=$[N];Q.name===h&&this.raise(v.start,"Label '"+h+"' is already declared")}for(var ne=this.type.isLoop?"loop":this.type===f._switch?"switch":null,ue=this.labels.length-1;ue>=0;ue--){var Ve=this.labels[ue];if(Ve.statementStart===o.start)Ve.statementStart=this.start,Ve.kind=ne;else break}return this.labels.push({name:h,kind:ne,statementStart:this.start}),o.body=this.parseStatement(w?w.indexOf("label")===-1?w+"label":w:"label"),this.labels.pop(),o.label=v,this.finishNode(o,"LabeledStatement")},de.parseExpressionStatement=function(o,h){return o.expression=h,this.semicolon(),this.finishNode(o,"ExpressionStatement")},de.parseBlock=function(o,h,v){for(o===void 0&&(o=!0),h===void 0&&(h=this.startNode()),h.body=[],this.expect(f.braceL),o&&this.enterScope(0);this.type!==f.braceR;){var w=this.parseStatement(null);h.body.push(w)}return v&&(this.strict=!1),this.next(),o&&this.exitScope(),this.finishNode(h,"BlockStatement")},de.parseFor=function(o,h){return o.init=h,this.expect(f.semi),o.test=this.type===f.semi?null:this.parseExpression(),this.expect(f.semi),o.update=this.type===f.parenR?null:this.parseExpression(),this.expect(f.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,"ForStatement")},de.parseForIn=function(o,h){var v=this.type===f._in;return this.next(),h.type==="VariableDeclaration"&&h.declarations[0].init!=null&&(!v||this.options.ecmaVersion<8||this.strict||h.kind!=="var"||h.declarations[0].id.type!=="Identifier")&&this.raise(h.start,(v?"for-in":"for-of")+" loop variable declaration may not have an initializer"),o.left=h,o.right=v?this.parseExpression():this.parseMaybeAssign(),this.expect(f.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,v?"ForInStatement":"ForOfStatement")},de.parseVar=function(o,h,v,w){for(o.declarations=[],o.kind=v;;){var N=this.startNode();if(this.parseVarId(N,v),this.eat(f.eq)?N.init=this.parseMaybeAssign(h):!w&&v==="const"&&!(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!w&&N.id.type!=="Identifier"&&!(h&&(this.type===f._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):N.init=null,o.declarations.push(this.finishNode(N,"VariableDeclarator")),!this.eat(f.comma))break}return o},de.parseVarId=function(o,h){o.id=this.parseBindingAtom(),this.checkLValPattern(o.id,h==="var"?cr:Fn,!1)};var an=1,fi=2,Vs=4;de.parseFunction=function(o,h,v,w,N){this.initFunction(o),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!w)&&(this.type===f.star&&h&fi&&this.unexpected(),o.generator=this.eat(f.star)),this.options.ecmaVersion>=8&&(o.async=!!w),h&an&&(o.id=h&Vs&&this.type!==f.name?null:this.parseIdent(),o.id&&!(h&fi)&&this.checkLValSimple(o.id,this.strict||o.generator||o.async?this.treatFunctionsAsVar?cr:Fn:di));var $=this.yieldPos,Q=this.awaitPos,ne=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(zr(o.async,o.generator)),h&an||(o.id=this.type===f.name?this.parseIdent():null),this.parseFunctionParams(o),this.parseFunctionBody(o,v,!1,N),this.yieldPos=$,this.awaitPos=Q,this.awaitIdentPos=ne,this.finishNode(o,h&an?"FunctionDeclaration":"FunctionExpression")},de.parseFunctionParams=function(o){this.expect(f.parenL),o.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},de.parseClass=function(o,h){this.next();var v=this.strict;this.strict=!0,this.parseClassId(o,h),this.parseClassSuper(o);var w=this.enterClassBody(),N=this.startNode(),$=!1;for(N.body=[],this.expect(f.braceL);this.type!==f.braceR;){var Q=this.parseClassElement(o.superClass!==null);Q&&(N.body.push(Q),Q.type==="MethodDefinition"&&Q.kind==="constructor"?($&&this.raiseRecoverable(Q.start,"Duplicate constructor in the same class"),$=!0):Q.key&&Q.key.type==="PrivateIdentifier"&&Di(w,Q)&&this.raiseRecoverable(Q.key.start,"Identifier '#"+Q.key.name+"' has already been declared"))}return this.strict=v,this.next(),o.body=this.finishNode(N,"ClassBody"),this.exitClassBody(),this.finishNode(o,h?"ClassDeclaration":"ClassExpression")},de.parseClassElement=function(o){if(this.eat(f.semi))return null;var h=this.options.ecmaVersion,v=this.startNode(),w="",N=!1,$=!1,Q="method",ne=!1;if(this.eatContextual("static")){if(h>=13&&this.eat(f.braceL))return this.parseClassStaticBlock(v),v;this.isClassElementNameStart()||this.type===f.star?ne=!0:w="static"}if(v.static=ne,!w&&h>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===f.star)&&!this.canInsertSemicolon()?$=!0:w="async"),!w&&(h>=9||!$)&&this.eat(f.star)&&(N=!0),!w&&!$&&!N){var ue=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Q=ue:w=ue)}if(w?(v.computed=!1,v.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),v.key.name=w,this.finishNode(v.key,"Identifier")):this.parseClassElementName(v),h<13||this.type===f.parenL||Q!=="method"||N||$){var Ve=!v.static&&Zn(v,"constructor"),Pe=Ve&&o;Ve&&Q!=="method"&&this.raise(v.key.start,"Constructor can't have get/set modifier"),v.kind=Ve?"constructor":Q,this.parseClassMethod(v,N,$,Pe)}else this.parseClassField(v);return v},de.isClassElementNameStart=function(){return this.type===f.name||this.type===f.privateId||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword},de.parseClassElementName=function(o){this.type===f.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),o.computed=!1,o.key=this.parsePrivateIdent()):this.parsePropertyName(o)},de.parseClassMethod=function(o,h,v,w){var N=o.key;o.kind==="constructor"?(h&&this.raise(N.start,"Constructor can't be a generator"),v&&this.raise(N.start,"Constructor can't be an async method")):o.static&&Zn(o,"prototype")&&this.raise(N.start,"Classes may not have a static property named prototype");var $=o.value=this.parseMethod(h,v,w);return o.kind==="get"&&$.params.length!==0&&this.raiseRecoverable($.start,"getter should have no params"),o.kind==="set"&&$.params.length!==1&&this.raiseRecoverable($.start,"setter should have exactly one param"),o.kind==="set"&&$.params[0].type==="RestElement"&&this.raiseRecoverable($.params[0].start,"Setter cannot use rest params"),this.finishNode(o,"MethodDefinition")},de.parseClassField=function(o){if(Zn(o,"constructor")?this.raise(o.key.start,"Classes can't have a field named 'constructor'"):o.static&&Zn(o,"prototype")&&this.raise(o.key.start,"Classes can't have a static field named 'prototype'"),this.eat(f.eq)){var h=this.currentThisScope(),v=h.inClassFieldInit;h.inClassFieldInit=!0,o.value=this.parseMaybeAssign(),h.inClassFieldInit=v}else o.value=null;return this.semicolon(),this.finishNode(o,"PropertyDefinition")},de.parseClassStaticBlock=function(o){o.body=[];var h=this.labels;for(this.labels=[],this.enterScope(lr|hi);this.type!==f.braceR;){var v=this.parseStatement(null);o.body.push(v)}return this.next(),this.exitScope(),this.labels=h,this.finishNode(o,"StaticBlock")},de.parseClassId=function(o,h){this.type===f.name?(o.id=this.parseIdent(),h&&this.checkLValSimple(o.id,Fn,!1)):(h===!0&&this.unexpected(),o.id=null)},de.parseClassSuper=function(o){o.superClass=this.eat(f._extends)?this.parseExprSubscripts(null,!1):null},de.enterClassBody=function(){var o={declared:Object.create(null),used:[]};return this.privateNameStack.push(o),o.declared},de.exitClassBody=function(){var o=this.privateNameStack.pop(),h=o.declared,v=o.used;if(this.options.checkPrivateFields)for(var w=this.privateNameStack.length,N=w===0?null:this.privateNameStack[w-1],$=0;$<v.length;++$){var Q=v[$];Bt(h,Q.name)||(N?N.used.push(Q):this.raiseRecoverable(Q.start,"Private field '#"+Q.name+"' must be declared in an enclosing class"))}};function Di(o,h){var v=h.key.name,w=o[v],N="true";return h.type==="MethodDefinition"&&(h.kind==="get"||h.kind==="set")&&(N=(h.static?"s":"i")+h.kind),w==="iget"&&N==="iset"||w==="iset"&&N==="iget"||w==="sget"&&N==="sset"||w==="sset"&&N==="sget"?(o[v]="true",!1):w?!0:(o[v]=N,!1)}function Zn(o,h){var v=o.computed,w=o.key;return!v&&(w.type==="Identifier"&&w.name===h||w.type==="Literal"&&w.value===h)}de.parseExportAllDeclaration=function(o,h){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(o.exported=this.parseModuleExportName(),this.checkExport(h,o.exported,this.lastTokStart)):o.exported=null),this.expectContextual("from"),this.type!==f.string&&this.unexpected(),o.source=this.parseExprAtom(),this.semicolon(),this.finishNode(o,"ExportAllDeclaration")},de.parseExport=function(o,h){if(this.next(),this.eat(f.star))return this.parseExportAllDeclaration(o,h);if(this.eat(f._default))return this.checkExport(h,"default",this.lastTokStart),o.declaration=this.parseExportDefaultDeclaration(),this.finishNode(o,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())o.declaration=this.parseExportDeclaration(o),o.declaration.type==="VariableDeclaration"?this.checkVariableExport(h,o.declaration.declarations):this.checkExport(h,o.declaration.id,o.declaration.id.start),o.specifiers=[],o.source=null;else{if(o.declaration=null,o.specifiers=this.parseExportSpecifiers(h),this.eatContextual("from"))this.type!==f.string&&this.unexpected(),o.source=this.parseExprAtom();else{for(var v=0,w=o.specifiers;v<w.length;v+=1){var N=w[v];this.checkUnreserved(N.local),this.checkLocalExport(N.local),N.local.type==="Literal"&&this.raise(N.local.start,"A string literal cannot be used as an exported binding without `from`.")}o.source=null}this.semicolon()}return this.finishNode(o,"ExportNamedDeclaration")},de.parseExportDeclaration=function(o){return this.parseStatement(null)},de.parseExportDefaultDeclaration=function(){var o;if(this.type===f._function||(o=this.isAsyncFunction())){var h=this.startNode();return this.next(),o&&this.next(),this.parseFunction(h,an|Vs,!1,o)}else if(this.type===f._class){var v=this.startNode();return this.parseClass(v,"nullableID")}else{var w=this.parseMaybeAssign();return this.semicolon(),w}},de.checkExport=function(o,h,v){o&&(typeof h!="string"&&(h=h.type==="Identifier"?h.name:h.value),Bt(o,h)&&this.raiseRecoverable(v,"Duplicate export '"+h+"'"),o[h]=!0)},de.checkPatternExport=function(o,h){var v=h.type;if(v==="Identifier")this.checkExport(o,h,h.start);else if(v==="ObjectPattern")for(var w=0,N=h.properties;w<N.length;w+=1){var $=N[w];this.checkPatternExport(o,$)}else if(v==="ArrayPattern")for(var Q=0,ne=h.elements;Q<ne.length;Q+=1){var ue=ne[Q];ue&&this.checkPatternExport(o,ue)}else v==="Property"?this.checkPatternExport(o,h.value):v==="AssignmentPattern"?this.checkPatternExport(o,h.left):v==="RestElement"&&this.checkPatternExport(o,h.argument)},de.checkVariableExport=function(o,h){if(o)for(var v=0,w=h;v<w.length;v+=1){var N=w[v];this.checkPatternExport(o,N.id)}},de.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},de.parseExportSpecifier=function(o){var h=this.startNode();return h.local=this.parseModuleExportName(),h.exported=this.eatContextual("as")?this.parseModuleExportName():h.local,this.checkExport(o,h.exported,h.exported.start),this.finishNode(h,"ExportSpecifier")},de.parseExportSpecifiers=function(o){var h=[],v=!0;for(this.expect(f.braceL);!this.eat(f.braceR);){if(v)v=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;h.push(this.parseExportSpecifier(o))}return h},de.parseImport=function(o){return this.next(),this.type===f.string?(o.specifiers=rs,o.source=this.parseExprAtom()):(o.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),o.source=this.type===f.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(o,"ImportDeclaration")},de.parseImportSpecifier=function(){var o=this.startNode();return o.imported=this.parseModuleExportName(),this.eatContextual("as")?o.local=this.parseIdent():(this.checkUnreserved(o.imported),o.local=o.imported),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportSpecifier")},de.parseImportDefaultSpecifier=function(){var o=this.startNode();return o.local=this.parseIdent(),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportDefaultSpecifier")},de.parseImportNamespaceSpecifier=function(){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,Fn),this.finishNode(o,"ImportNamespaceSpecifier")},de.parseImportSpecifiers=function(){var o=[],h=!0;if(this.type===f.name&&(o.push(this.parseImportDefaultSpecifier()),!this.eat(f.comma)))return o;if(this.type===f.star)return o.push(this.parseImportNamespaceSpecifier()),o;for(this.expect(f.braceL);!this.eat(f.braceR);){if(h)h=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;o.push(this.parseImportSpecifier())}return o},de.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===f.string){var o=this.parseLiteral(this.value);return Ge.test(o.value)&&this.raise(o.start,"An export name cannot include a lone surrogate."),o}return this.parseIdent(!0)},de.adaptDirectivePrologue=function(o){for(var h=0;h<o.length&&this.isDirectiveCandidate(o[h]);++h)o[h].directive=o[h].expression.raw.slice(1,-1)},de.isDirectiveCandidate=function(o){return this.options.ecmaVersion>=5&&o.type==="ExpressionStatement"&&o.expression.type==="Literal"&&typeof o.expression.value=="string"&&(this.input[o.start]==='"'||this.input[o.start]==="'")};var Jt=je.prototype;Jt.toAssignable=function(o,h,v){if(this.options.ecmaVersion>=6&&o)switch(o.type){case"Identifier":this.inAsync&&o.name==="await"&&this.raise(o.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":o.type="ObjectPattern",v&&this.checkPatternErrors(v,!0);for(var w=0,N=o.properties;w<N.length;w+=1){var $=N[w];this.toAssignable($,h),$.type==="RestElement"&&($.argument.type==="ArrayPattern"||$.argument.type==="ObjectPattern")&&this.raise($.argument.start,"Unexpected token")}break;case"Property":o.kind!=="init"&&this.raise(o.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(o.value,h);break;case"ArrayExpression":o.type="ArrayPattern",v&&this.checkPatternErrors(v,!0),this.toAssignableList(o.elements,h);break;case"SpreadElement":o.type="RestElement",this.toAssignable(o.argument,h),o.argument.type==="AssignmentPattern"&&this.raise(o.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":o.operator!=="="&&this.raise(o.left.end,"Only '=' operator can be used for specifying default value."),o.type="AssignmentPattern",delete o.operator,this.toAssignable(o.left,h);break;case"ParenthesizedExpression":this.toAssignable(o.expression,h,v);break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!h)break;default:this.raise(o.start,"Assigning to rvalue")}else v&&this.checkPatternErrors(v,!0);return o},Jt.toAssignableList=function(o,h){for(var v=o.length,w=0;w<v;w++){var N=o[w];N&&this.toAssignable(N,h)}if(v){var $=o[v-1];this.options.ecmaVersion===6&&h&&$&&$.type==="RestElement"&&$.argument.type!=="Identifier"&&this.unexpected($.argument.start)}return o},Jt.parseSpread=function(o){var h=this.startNode();return this.next(),h.argument=this.parseMaybeAssign(!1,o),this.finishNode(h,"SpreadElement")},Jt.parseRestBinding=function(){var o=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==f.name&&this.unexpected(),o.argument=this.parseBindingAtom(),this.finishNode(o,"RestElement")},Jt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case f.bracketL:var o=this.startNode();return this.next(),o.elements=this.parseBindingList(f.bracketR,!0,!0),this.finishNode(o,"ArrayPattern");case f.braceL:return this.parseObj(!0)}return this.parseIdent()},Jt.parseBindingList=function(o,h,v,w){for(var N=[],$=!0;!this.eat(o);)if($?$=!1:this.expect(f.comma),h&&this.type===f.comma)N.push(null);else{if(v&&this.afterTrailingComma(o))break;if(this.type===f.ellipsis){var Q=this.parseRestBinding();this.parseBindingListItem(Q),N.push(Q),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(o);break}else N.push(this.parseAssignableListItem(w))}return N},Jt.parseAssignableListItem=function(o){var h=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(h),h},Jt.parseBindingListItem=function(o){return o},Jt.parseMaybeDefault=function(o,h,v){if(v=v||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(f.eq))return v;var w=this.startNodeAt(o,h);return w.left=v,w.right=this.parseMaybeAssign(),this.finishNode(w,"AssignmentPattern")},Jt.checkLValSimple=function(o,h,v){h===void 0&&(h=sn);var w=h!==sn;switch(o.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(o.name)&&this.raiseRecoverable(o.start,(w?"Binding ":"Assigning to ")+o.name+" in strict mode"),w&&(h===Fn&&o.name==="let"&&this.raiseRecoverable(o.start,"let is disallowed as a lexically bound name"),v&&(Bt(v,o.name)&&this.raiseRecoverable(o.start,"Argument name clash"),v[o.name]=!0),h!==Xn&&this.declareName(o.name,h,o.start));break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":w&&this.raiseRecoverable(o.start,"Binding member expression");break;case"ParenthesizedExpression":return w&&this.raiseRecoverable(o.start,"Binding parenthesized expression"),this.checkLValSimple(o.expression,h,v);default:this.raise(o.start,(w?"Binding":"Assigning to")+" rvalue")}},Jt.checkLValPattern=function(o,h,v){switch(h===void 0&&(h=sn),o.type){case"ObjectPattern":for(var w=0,N=o.properties;w<N.length;w+=1){var $=N[w];this.checkLValInnerPattern($,h,v)}break;case"ArrayPattern":for(var Q=0,ne=o.elements;Q<ne.length;Q+=1){var ue=ne[Q];ue&&this.checkLValInnerPattern(ue,h,v)}break;default:this.checkLValSimple(o,h,v)}},Jt.checkLValInnerPattern=function(o,h,v){switch(h===void 0&&(h=sn),o.type){case"Property":this.checkLValInnerPattern(o.value,h,v);break;case"AssignmentPattern":this.checkLValPattern(o.left,h,v);break;case"RestElement":this.checkLValPattern(o.argument,h,v);break;default:this.checkLValPattern(o,h,v)}};var Rt=function(h,v,w,N,$){this.token=h,this.isExpr=!!v,this.preserveSpace=!!w,this.override=N,this.generator=!!$},Ke={b_stat:new Rt("{",!1),b_expr:new Rt("{",!0),b_tmpl:new Rt("${",!1),p_stat:new Rt("(",!1),p_expr:new Rt("(",!0),q_tmpl:new Rt("`",!0,!0,function(o){return o.tryReadTemplateToken()}),f_stat:new Rt("function",!1),f_expr:new Rt("function",!0),f_expr_gen:new Rt("function",!0,!1,null,!0),f_gen:new Rt("function",!1,!1,null,!0)},on=je.prototype;on.initialContext=function(){return[Ke.b_stat]},on.curContext=function(){return this.context[this.context.length-1]},on.braceIsBlock=function(o){var h=this.curContext();return h===Ke.f_expr||h===Ke.f_stat?!0:o===f.colon&&(h===Ke.b_stat||h===Ke.b_expr)?!h.isExpr:o===f._return||o===f.name&&this.exprAllowed?I.test(this.input.slice(this.lastTokEnd,this.start)):o===f._else||o===f.semi||o===f.eof||o===f.parenR||o===f.arrow?!0:o===f.braceL?h===Ke.b_stat:o===f._var||o===f._const||o===f.name?!1:!this.exprAllowed},on.inGeneratorContext=function(){for(var o=this.context.length-1;o>=1;o--){var h=this.context[o];if(h.token==="function")return h.generator}return!1},on.updateContext=function(o){var h,v=this.type;v.keyword&&o===f.dot?this.exprAllowed=!1:(h=v.updateContext)?h.call(this,o):this.exprAllowed=v.beforeExpr},on.overrideContext=function(o){this.curContext()!==o&&(this.context[this.context.length-1]=o)},f.parenR.updateContext=f.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var o=this.context.pop();o===Ke.b_stat&&this.curContext().token==="function"&&(o=this.context.pop()),this.exprAllowed=!o.isExpr},f.braceL.updateContext=function(o){this.context.push(this.braceIsBlock(o)?Ke.b_stat:Ke.b_expr),this.exprAllowed=!0},f.dollarBraceL.updateContext=function(){this.context.push(Ke.b_tmpl),this.exprAllowed=!0},f.parenL.updateContext=function(o){var h=o===f._if||o===f._for||o===f._with||o===f._while;this.context.push(h?Ke.p_stat:Ke.p_expr),this.exprAllowed=!0},f.incDec.updateContext=function(){},f._function.updateContext=f._class.updateContext=function(o){o.beforeExpr&&o!==f._else&&!(o===f.semi&&this.curContext()!==Ke.p_stat)&&!(o===f._return&&I.test(this.input.slice(this.lastTokEnd,this.start)))&&!((o===f.colon||o===f.braceL)&&this.curContext()===Ke.b_stat)?this.context.push(Ke.f_expr):this.context.push(Ke.f_stat),this.exprAllowed=!1},f.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},f.backQuote.updateContext=function(){this.curContext()===Ke.q_tmpl?this.context.pop():this.context.push(Ke.q_tmpl),this.exprAllowed=!1},f.star.updateContext=function(o){if(o===f._function){var h=this.context.length-1;this.context[h]===Ke.f_expr?this.context[h]=Ke.f_expr_gen:this.context[h]=Ke.f_gen}this.exprAllowed=!0},f.name.updateContext=function(o){var h=!1;this.options.ecmaVersion>=6&&o!==f.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(h=!0),this.exprAllowed=h};var Ae=je.prototype;Ae.checkPropClash=function(o,h,v){if(!(this.options.ecmaVersion>=9&&o.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(o.computed||o.method||o.shorthand))){var w=o.key,N;switch(w.type){case"Identifier":N=w.name;break;case"Literal":N=String(w.value);break;default:return}var $=o.kind;if(this.options.ecmaVersion>=6){N==="__proto__"&&$==="init"&&(h.proto&&(v?v.doubleProto<0&&(v.doubleProto=w.start):this.raiseRecoverable(w.start,"Redefinition of __proto__ property")),h.proto=!0);return}N="$"+N;var Q=h[N];if(Q){var ne;$==="init"?ne=this.strict&&Q.init||Q.get||Q.set:ne=Q.init||Q[$],ne&&this.raiseRecoverable(w.start,"Redefinition of property")}else Q=h[N]={init:!1,get:!1,set:!1};Q[$]=!0}},Ae.parseExpression=function(o,h){var v=this.start,w=this.startLoc,N=this.parseMaybeAssign(o,h);if(this.type===f.comma){var $=this.startNodeAt(v,w);for($.expressions=[N];this.eat(f.comma);)$.expressions.push(this.parseMaybeAssign(o,h));return this.finishNode($,"SequenceExpression")}return N},Ae.parseMaybeAssign=function(o,h,v){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(o);this.exprAllowed=!1}var w=!1,N=-1,$=-1,Q=-1;h?(N=h.parenthesizedAssign,$=h.trailingComma,Q=h.doubleProto,h.parenthesizedAssign=h.trailingComma=-1):(h=new $r,w=!0);var ne=this.start,ue=this.startLoc;(this.type===f.parenL||this.type===f.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=o==="await");var Ve=this.parseMaybeConditional(o,h);if(v&&(Ve=v.call(this,Ve,ne,ue)),this.type.isAssign){var Pe=this.startNodeAt(ne,ue);return Pe.operator=this.value,this.type===f.eq&&(Ve=this.toAssignable(Ve,!1,h)),w||(h.parenthesizedAssign=h.trailingComma=h.doubleProto=-1),h.shorthandAssign>=Ve.start&&(h.shorthandAssign=-1),this.type===f.eq?this.checkLValPattern(Ve):this.checkLValSimple(Ve),Pe.left=Ve,this.next(),Pe.right=this.parseMaybeAssign(o),Q>-1&&(h.doubleProto=Q),this.finishNode(Pe,"AssignmentExpression")}else w&&this.checkExpressionErrors(h,!0);return N>-1&&(h.parenthesizedAssign=N),$>-1&&(h.trailingComma=$),Ve},Ae.parseMaybeConditional=function(o,h){var v=this.start,w=this.startLoc,N=this.parseExprOps(o,h);if(this.checkExpressionErrors(h))return N;if(this.eat(f.question)){var $=this.startNodeAt(v,w);return $.test=N,$.consequent=this.parseMaybeAssign(),this.expect(f.colon),$.alternate=this.parseMaybeAssign(o),this.finishNode($,"ConditionalExpression")}return N},Ae.parseExprOps=function(o,h){var v=this.start,w=this.startLoc,N=this.parseMaybeUnary(h,!1,!1,o);return this.checkExpressionErrors(h)||N.start===v&&N.type==="ArrowFunctionExpression"?N:this.parseExprOp(N,v,w,-1,o)},Ae.parseExprOp=function(o,h,v,w,N){var $=this.type.binop;if($!=null&&(!N||this.type!==f._in)&&$>w){var Q=this.type===f.logicalOR||this.type===f.logicalAND,ne=this.type===f.coalesce;ne&&($=f.logicalAND.binop);var ue=this.value;this.next();var Ve=this.start,Pe=this.startLoc,vt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,N),Ve,Pe,$,N),Gr=this.buildBinary(h,v,o,vt,ue,Q||ne);return(Q&&this.type===f.coalesce||ne&&(this.type===f.logicalOR||this.type===f.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Gr,h,v,w,N)}return o},Ae.buildBinary=function(o,h,v,w,N,$){w.type==="PrivateIdentifier"&&this.raise(w.start,"Private identifier can only be left side of binary expression");var Q=this.startNodeAt(o,h);return Q.left=v,Q.operator=N,Q.right=w,this.finishNode(Q,$?"LogicalExpression":"BinaryExpression")},Ae.parseMaybeUnary=function(o,h,v,w){var N=this.start,$=this.startLoc,Q;if(this.isContextual("await")&&this.canAwait)Q=this.parseAwait(w),h=!0;else if(this.type.prefix){var ne=this.startNode(),ue=this.type===f.incDec;ne.operator=this.value,ne.prefix=!0,this.next(),ne.argument=this.parseMaybeUnary(null,!0,ue,w),this.checkExpressionErrors(o,!0),ue?this.checkLValSimple(ne.argument):this.strict&&ne.operator==="delete"&&Fi(ne.argument)?this.raiseRecoverable(ne.start,"Deleting local variable in strict mode"):ne.operator==="delete"&&qr(ne.argument)?this.raiseRecoverable(ne.start,"Private fields can not be deleted"):h=!0,Q=this.finishNode(ne,ue?"UpdateExpression":"UnaryExpression")}else if(!h&&this.type===f.privateId)(w||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Q=this.parsePrivateIdent(),this.type!==f._in&&this.unexpected();else{if(Q=this.parseExprSubscripts(o,w),this.checkExpressionErrors(o))return Q;for(;this.type.postfix&&!this.canInsertSemicolon();){var Ve=this.startNodeAt(N,$);Ve.operator=this.value,Ve.prefix=!1,Ve.argument=Q,this.checkLValSimple(Q),this.next(),Q=this.finishNode(Ve,"UpdateExpression")}}if(!v&&this.eat(f.starstar))if(h)this.unexpected(this.lastTokStart);else return this.buildBinary(N,$,Q,this.parseMaybeUnary(null,!1,!1,w),"**",!1);else return Q};function Fi(o){return o.type==="Identifier"||o.type==="ParenthesizedExpression"&&Fi(o.expression)}function qr(o){return o.type==="MemberExpression"&&o.property.type==="PrivateIdentifier"||o.type==="ChainExpression"&&qr(o.expression)||o.type==="ParenthesizedExpression"&&qr(o.expression)}Ae.parseExprSubscripts=function(o,h){var v=this.start,w=this.startLoc,N=this.parseExprAtom(o,h);if(N.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return N;var $=this.parseSubscripts(N,v,w,!1,h);return o&&$.type==="MemberExpression"&&(o.parenthesizedAssign>=$.start&&(o.parenthesizedAssign=-1),o.parenthesizedBind>=$.start&&(o.parenthesizedBind=-1),o.trailingComma>=$.start&&(o.trailingComma=-1)),$},Ae.parseSubscripts=function(o,h,v,w,N){for(var $=this.options.ecmaVersion>=8&&o.type==="Identifier"&&o.name==="async"&&this.lastTokEnd===o.end&&!this.canInsertSemicolon()&&o.end-o.start===5&&this.potentialArrowAt===o.start,Q=!1;;){var ne=this.parseSubscript(o,h,v,w,$,Q,N);if(ne.optional&&(Q=!0),ne===o||ne.type==="ArrowFunctionExpression"){if(Q){var ue=this.startNodeAt(h,v);ue.expression=ne,ne=this.finishNode(ue,"ChainExpression")}return ne}o=ne}},Ae.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(f.arrow)},Ae.parseSubscriptAsyncArrow=function(o,h,v,w){return this.parseArrowExpression(this.startNodeAt(o,h),v,!0,w)},Ae.parseSubscript=function(o,h,v,w,N,$,Q){var ne=this.options.ecmaVersion>=11,ue=ne&&this.eat(f.questionDot);w&&ue&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Ve=this.eat(f.bracketL);if(Ve||ue&&this.type!==f.parenL&&this.type!==f.backQuote||this.eat(f.dot)){var Pe=this.startNodeAt(h,v);Pe.object=o,Ve?(Pe.property=this.parseExpression(),this.expect(f.bracketR)):this.type===f.privateId&&o.type!=="Super"?Pe.property=this.parsePrivateIdent():Pe.property=this.parseIdent(this.options.allowReserved!=="never"),Pe.computed=!!Ve,ne&&(Pe.optional=ue),o=this.finishNode(Pe,"MemberExpression")}else if(!w&&this.eat(f.parenL)){var vt=new $r,Gr=this.yieldPos,vn=this.awaitPos,er=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Li=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1,vt);if(N&&!ue&&this.shouldParseAsyncArrow())return this.checkPatternErrors(vt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Gr,this.awaitPos=vn,this.awaitIdentPos=er,this.parseSubscriptAsyncArrow(h,v,Li,Q);this.checkExpressionErrors(vt,!0),this.yieldPos=Gr||this.yieldPos,this.awaitPos=vn||this.awaitPos,this.awaitIdentPos=er||this.awaitIdentPos;var tr=this.startNodeAt(h,v);tr.callee=o,tr.arguments=Li,ne&&(tr.optional=ue),o=this.finishNode(tr,"CallExpression")}else if(this.type===f.backQuote){(ue||$)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var ot=this.startNodeAt(h,v);ot.tag=o,ot.quasi=this.parseTemplate({isTagged:!0}),o=this.finishNode(ot,"TaggedTemplateExpression")}return o},Ae.parseExprAtom=function(o,h,v){this.type===f.slash&&this.readRegexp();var w,N=this.potentialArrowAt===this.start;switch(this.type){case f._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),w=this.startNode(),this.next(),this.type===f.parenL&&!this.allowDirectSuper&&this.raise(w.start,"super() call outside constructor of a subclass"),this.type!==f.dot&&this.type!==f.bracketL&&this.type!==f.parenL&&this.unexpected(),this.finishNode(w,"Super");case f._this:return w=this.startNode(),this.next(),this.finishNode(w,"ThisExpression");case f.name:var $=this.start,Q=this.startLoc,ne=this.containsEsc,ue=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ne&&ue.name==="async"&&!this.canInsertSemicolon()&&this.eat(f._function))return this.overrideContext(Ke.f_expr),this.parseFunction(this.startNodeAt($,Q),0,!1,!0,h);if(N&&!this.canInsertSemicolon()){if(this.eat(f.arrow))return this.parseArrowExpression(this.startNodeAt($,Q),[ue],!1,h);if(this.options.ecmaVersion>=8&&ue.name==="async"&&this.type===f.name&&!ne&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return ue=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(f.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt($,Q),[ue],!0,h)}return ue;case f.regexp:var Ve=this.value;return w=this.parseLiteral(Ve.value),w.regex={pattern:Ve.pattern,flags:Ve.flags},w;case f.num:case f.string:return this.parseLiteral(this.value);case f._null:case f._true:case f._false:return w=this.startNode(),w.value=this.type===f._null?null:this.type===f._true,w.raw=this.type.keyword,this.next(),this.finishNode(w,"Literal");case f.parenL:var Pe=this.start,vt=this.parseParenAndDistinguishExpression(N,h);return o&&(o.parenthesizedAssign<0&&!this.isSimpleAssignTarget(vt)&&(o.parenthesizedAssign=Pe),o.parenthesizedBind<0&&(o.parenthesizedBind=Pe)),vt;case f.bracketL:return w=this.startNode(),this.next(),w.elements=this.parseExprList(f.bracketR,!0,!0,o),this.finishNode(w,"ArrayExpression");case f.braceL:return this.overrideContext(Ke.b_expr),this.parseObj(!1,o);case f._function:return w=this.startNode(),this.next(),this.parseFunction(w,0);case f._class:return this.parseClass(this.startNode(),!1);case f._new:return this.parseNew();case f.backQuote:return this.parseTemplate();case f._import:return this.options.ecmaVersion>=11?this.parseExprImport(v):this.unexpected();default:return this.parseExprAtomDefault()}},Ae.parseExprAtomDefault=function(){this.unexpected()},Ae.parseExprImport=function(o){var h=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===f.parenL&&!o)return this.parseDynamicImport(h);if(this.type===f.dot){var v=this.startNodeAt(h.start,h.loc&&h.loc.start);return v.name="import",h.meta=this.finishNode(v,"Identifier"),this.parseImportMeta(h)}else this.unexpected()},Ae.parseDynamicImport=function(o){if(this.next(),o.source=this.parseMaybeAssign(),!this.eat(f.parenR)){var h=this.start;this.eat(f.comma)&&this.eat(f.parenR)?this.raiseRecoverable(h,"Trailing comma is not allowed in import()"):this.unexpected(h)}return this.finishNode(o,"ImportExpression")},Ae.parseImportMeta=function(o){this.next();var h=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="meta"&&this.raiseRecoverable(o.property.start,"The only valid meta property for import is 'import.meta'"),h&&this.raiseRecoverable(o.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(o.start,"Cannot use 'import.meta' outside a module"),this.finishNode(o,"MetaProperty")},Ae.parseLiteral=function(o){var h=this.startNode();return h.value=o,h.raw=this.input.slice(this.start,this.end),h.raw.charCodeAt(h.raw.length-1)===110&&(h.bigint=h.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(h,"Literal")},Ae.parseParenExpression=function(){this.expect(f.parenL);var o=this.parseExpression();return this.expect(f.parenR),o},Ae.shouldParseArrow=function(o){return!this.canInsertSemicolon()},Ae.parseParenAndDistinguishExpression=function(o,h){var v=this.start,w=this.startLoc,N,$=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Q=this.start,ne=this.startLoc,ue=[],Ve=!0,Pe=!1,vt=new $r,Gr=this.yieldPos,vn=this.awaitPos,er;for(this.yieldPos=0,this.awaitPos=0;this.type!==f.parenR;)if(Ve?Ve=!1:this.expect(f.comma),$&&this.afterTrailingComma(f.parenR,!0)){Pe=!0;break}else if(this.type===f.ellipsis){er=this.start,ue.push(this.parseParenItem(this.parseRestBinding())),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else ue.push(this.parseMaybeAssign(!1,vt,this.parseParenItem));var Li=this.lastTokEnd,tr=this.lastTokEndLoc;if(this.expect(f.parenR),o&&this.shouldParseArrow(ue)&&this.eat(f.arrow))return this.checkPatternErrors(vt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Gr,this.awaitPos=vn,this.parseParenArrowList(v,w,ue,h);(!ue.length||Pe)&&this.unexpected(this.lastTokStart),er&&this.unexpected(er),this.checkExpressionErrors(vt,!0),this.yieldPos=Gr||this.yieldPos,this.awaitPos=vn||this.awaitPos,ue.length>1?(N=this.startNodeAt(Q,ne),N.expressions=ue,this.finishNodeAt(N,"SequenceExpression",Li,tr)):N=ue[0]}else N=this.parseParenExpression();if(this.options.preserveParens){var ot=this.startNodeAt(v,w);return ot.expression=N,this.finishNode(ot,"ParenthesizedExpression")}else return N},Ae.parseParenItem=function(o){return o},Ae.parseParenArrowList=function(o,h,v,w){return this.parseArrowExpression(this.startNodeAt(o,h),v,!1,w)};var is=[];Ae.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var o=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===f.dot){var h=this.startNodeAt(o.start,o.loc&&o.loc.start);h.name="new",o.meta=this.finishNode(h,"Identifier"),this.next();var v=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="target"&&this.raiseRecoverable(o.property.start,"The only valid meta property for new is 'new.target'"),v&&this.raiseRecoverable(o.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(o.start,"'new.target' can only be used in functions and class static block"),this.finishNode(o,"MetaProperty")}var w=this.start,N=this.startLoc;return o.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),w,N,!0,!1),this.eat(f.parenL)?o.arguments=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1):o.arguments=is,this.finishNode(o,"NewExpression")},Ae.parseTemplateElement=function(o){var h=o.isTagged,v=this.startNode();return this.type===f.invalidTemplate?(h||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),v.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):v.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),v.tail=this.type===f.backQuote,this.finishNode(v,"TemplateElement")},Ae.parseTemplate=function(o){o===void 0&&(o={});var h=o.isTagged;h===void 0&&(h=!1);var v=this.startNode();this.next(),v.expressions=[];var w=this.parseTemplateElement({isTagged:h});for(v.quasis=[w];!w.tail;)this.type===f.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(f.dollarBraceL),v.expressions.push(this.parseExpression()),this.expect(f.braceR),v.quasis.push(w=this.parseTemplateElement({isTagged:h}));return this.next(),this.finishNode(v,"TemplateLiteral")},Ae.isAsyncProp=function(o){return!o.computed&&o.key.type==="Identifier"&&o.key.name==="async"&&(this.type===f.name||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===f.star)&&!I.test(this.input.slice(this.lastTokEnd,this.start))},Ae.parseObj=function(o,h){var v=this.startNode(),w=!0,N={};for(v.properties=[],this.next();!this.eat(f.braceR);){if(w)w=!1;else if(this.expect(f.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(f.braceR))break;var $=this.parseProperty(o,h);o||this.checkPropClash($,N,h),v.properties.push($)}return this.finishNode(v,o?"ObjectPattern":"ObjectExpression")},Ae.parseProperty=function(o,h){var v=this.startNode(),w,N,$,Q;if(this.options.ecmaVersion>=9&&this.eat(f.ellipsis))return o?(v.argument=this.parseIdent(!1),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(v,"RestElement")):(v.argument=this.parseMaybeAssign(!1,h),this.type===f.comma&&h&&h.trailingComma<0&&(h.trailingComma=this.start),this.finishNode(v,"SpreadElement"));this.options.ecmaVersion>=6&&(v.method=!1,v.shorthand=!1,(o||h)&&($=this.start,Q=this.startLoc),o||(w=this.eat(f.star)));var ne=this.containsEsc;return this.parsePropertyName(v),!o&&!ne&&this.options.ecmaVersion>=8&&!w&&this.isAsyncProp(v)?(N=!0,w=this.options.ecmaVersion>=9&&this.eat(f.star),this.parsePropertyName(v)):N=!1,this.parsePropertyValue(v,o,w,N,$,Q,h,ne),this.finishNode(v,"Property")},Ae.parseGetterSetter=function(o){o.kind=o.key.name,this.parsePropertyName(o),o.value=this.parseMethod(!1);var h=o.kind==="get"?0:1;if(o.value.params.length!==h){var v=o.value.start;o.kind==="get"?this.raiseRecoverable(v,"getter should have no params"):this.raiseRecoverable(v,"setter should have exactly one param")}else o.kind==="set"&&o.value.params[0].type==="RestElement"&&this.raiseRecoverable(o.value.params[0].start,"Setter cannot use rest params")},Ae.parsePropertyValue=function(o,h,v,w,N,$,Q,ne){(v||w)&&this.type===f.colon&&this.unexpected(),this.eat(f.colon)?(o.value=h?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Q),o.kind="init"):this.options.ecmaVersion>=6&&this.type===f.parenL?(h&&this.unexpected(),o.kind="init",o.method=!0,o.value=this.parseMethod(v,w)):!h&&!ne&&this.options.ecmaVersion>=5&&!o.computed&&o.key.type==="Identifier"&&(o.key.name==="get"||o.key.name==="set")&&this.type!==f.comma&&this.type!==f.braceR&&this.type!==f.eq?((v||w)&&this.unexpected(),this.parseGetterSetter(o)):this.options.ecmaVersion>=6&&!o.computed&&o.key.type==="Identifier"?((v||w)&&this.unexpected(),this.checkUnreserved(o.key),o.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=N),o.kind="init",h?o.value=this.parseMaybeDefault(N,$,this.copyNode(o.key)):this.type===f.eq&&Q?(Q.shorthandAssign<0&&(Q.shorthandAssign=this.start),o.value=this.parseMaybeDefault(N,$,this.copyNode(o.key))):o.value=this.copyNode(o.key),o.shorthand=!0):this.unexpected()},Ae.parsePropertyName=function(o){if(this.options.ecmaVersion>=6){if(this.eat(f.bracketL))return o.computed=!0,o.key=this.parseMaybeAssign(),this.expect(f.bracketR),o.key;o.computed=!1}return o.key=this.type===f.num||this.type===f.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Ae.initFunction=function(o){o.id=null,this.options.ecmaVersion>=6&&(o.generator=o.expression=!1),this.options.ecmaVersion>=8&&(o.async=!1)},Ae.parseMethod=function(o,h,v){var w=this.startNode(),N=this.yieldPos,$=this.awaitPos,Q=this.awaitIdentPos;return this.initFunction(w),this.options.ecmaVersion>=6&&(w.generator=o),this.options.ecmaVersion>=8&&(w.async=!!h),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(zr(h,w.generator)|hi|(v?Dn:0)),this.expect(f.parenL),w.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(w,!1,!0,!1),this.yieldPos=N,this.awaitPos=$,this.awaitIdentPos=Q,this.finishNode(w,"FunctionExpression")},Ae.parseArrowExpression=function(o,h,v,w){var N=this.yieldPos,$=this.awaitPos,Q=this.awaitIdentPos;return this.enterScope(zr(v,!1)|pn),this.initFunction(o),this.options.ecmaVersion>=8&&(o.async=!!v),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,o.params=this.toAssignableList(h,!0),this.parseFunctionBody(o,!0,!1,w),this.yieldPos=N,this.awaitPos=$,this.awaitIdentPos=Q,this.finishNode(o,"ArrowFunctionExpression")},Ae.parseFunctionBody=function(o,h,v,w){var N=h&&this.type!==f.braceL,$=this.strict,Q=!1;if(N)o.body=this.parseMaybeAssign(w),o.expression=!0,this.checkParams(o,!1);else{var ne=this.options.ecmaVersion>=7&&!this.isSimpleParamList(o.params);(!$||ne)&&(Q=this.strictDirective(this.end),Q&&ne&&this.raiseRecoverable(o.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ue=this.labels;this.labels=[],Q&&(this.strict=!0),this.checkParams(o,!$&&!Q&&!h&&!v&&this.isSimpleParamList(o.params)),this.strict&&o.id&&this.checkLValSimple(o.id,Xn),o.body=this.parseBlock(!1,void 0,Q&&!$),o.expression=!1,this.adaptDirectivePrologue(o.body.body),this.labels=ue}this.exitScope()},Ae.isSimpleParamList=function(o){for(var h=0,v=o;h<v.length;h+=1){var w=v[h];if(w.type!=="Identifier")return!1}return!0},Ae.checkParams=function(o,h){for(var v=Object.create(null),w=0,N=o.params;w<N.length;w+=1){var $=N[w];this.checkLValInnerPattern($,cr,h?null:v)}},Ae.parseExprList=function(o,h,v,w){for(var N=[],$=!0;!this.eat(o);){if($)$=!1;else if(this.expect(f.comma),h&&this.afterTrailingComma(o))break;var Q=void 0;v&&this.type===f.comma?Q=null:this.type===f.ellipsis?(Q=this.parseSpread(w),w&&this.type===f.comma&&w.trailingComma<0&&(w.trailingComma=this.start)):Q=this.parseMaybeAssign(!1,w),N.push(Q)}return N},Ae.checkUnreserved=function(o){var h=o.start,v=o.end,w=o.name;if(this.inGenerator&&w==="yield"&&this.raiseRecoverable(h,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&w==="await"&&this.raiseRecoverable(h,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&w==="arguments"&&this.raiseRecoverable(h,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(w==="arguments"||w==="await")&&this.raise(h,"Cannot use "+w+" in class static initialization block"),this.keywords.test(w)&&this.raise(h,"Unexpected keyword '"+w+"'"),!(this.options.ecmaVersion<6&&this.input.slice(h,v).indexOf("\\")!==-1)){var N=this.strict?this.reservedWordsStrict:this.reservedWords;N.test(w)&&(!this.inAsync&&w==="await"&&this.raiseRecoverable(h,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(h,"The keyword '"+w+"' is reserved"))}},Ae.parseIdent=function(o){var h=this.parseIdentNode();return this.next(!!o),this.finishNode(h,"Identifier"),o||(this.checkUnreserved(h),h.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=h.start)),h},Ae.parseIdentNode=function(){var o=this.startNode();return this.type===f.name?o.name=this.value:this.type.keyword?(o.name=this.type.keyword,(o.name==="class"||o.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=f.name):this.unexpected(),o},Ae.parsePrivateIdent=function(){var o=this.startNode();return this.type===f.privateId?o.name=this.value:this.unexpected(),this.next(),this.finishNode(o,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(o)),o},Ae.parseYield=function(o){this.yieldPos||(this.yieldPos=this.start);var h=this.startNode();return this.next(),this.type===f.semi||this.canInsertSemicolon()||this.type!==f.star&&!this.type.startsExpr?(h.delegate=!1,h.argument=null):(h.delegate=this.eat(f.star),h.argument=this.parseMaybeAssign(o)),this.finishNode(h,"YieldExpression")},Ae.parseAwait=function(o){this.awaitPos||(this.awaitPos=this.start);var h=this.startNode();return this.next(),h.argument=this.parseMaybeUnary(null,!0,!1,o),this.finishNode(h,"AwaitExpression")};var Cn=je.prototype;Cn.raise=function(o,h){var v=ft(this.input,o);h+=" ("+v.line+":"+v.column+")";var w=new SyntaxError(h);throw w.pos=o,w.loc=v,w.raisedAt=this.pos,w},Cn.raiseRecoverable=Cn.raise,Cn.curPosition=function(){if(this.options.locations)return new Ne(this.curLine,this.pos-this.lineStart)};var mn=je.prototype,Nt=function(h){this.flags=h,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};mn.enterScope=function(o){this.scopeStack.push(new Nt(o))},mn.exitScope=function(){this.scopeStack.pop()},mn.treatFunctionsAsVarInScope=function(o){return o.flags&xn||!this.inModule&&o.flags&xr},mn.declareName=function(o,h,v){var w=!1;if(h===Fn){var N=this.currentScope();w=N.lexical.indexOf(o)>-1||N.functions.indexOf(o)>-1||N.var.indexOf(o)>-1,N.lexical.push(o),this.inModule&&N.flags&xr&&delete this.undefinedExports[o]}else if(h===Yn){var $=this.currentScope();$.lexical.push(o)}else if(h===di){var Q=this.currentScope();this.treatFunctionsAsVar?w=Q.lexical.indexOf(o)>-1:w=Q.lexical.indexOf(o)>-1||Q.var.indexOf(o)>-1,Q.functions.push(o)}else for(var ne=this.scopeStack.length-1;ne>=0;--ne){var ue=this.scopeStack[ne];if(ue.lexical.indexOf(o)>-1&&!(ue.flags&ci&&ue.lexical[0]===o)||!this.treatFunctionsAsVarInScope(ue)&&ue.functions.indexOf(o)>-1){w=!0;break}if(ue.var.push(o),this.inModule&&ue.flags&xr&&delete this.undefinedExports[o],ue.flags&ns)break}w&&this.raiseRecoverable(v,"Identifier '"+o+"' has already been declared")},mn.checkLocalExport=function(o){this.scopeStack[0].lexical.indexOf(o.name)===-1&&this.scopeStack[0].var.indexOf(o.name)===-1&&(this.undefinedExports[o.name]=o)},mn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},mn.currentVarScope=function(){for(var o=this.scopeStack.length-1;;o--){var h=this.scopeStack[o];if(h.flags&ns)return h}},mn.currentThisScope=function(){for(var o=this.scopeStack.length-1;;o--){var h=this.scopeStack[o];if(h.flags&ns&&!(h.flags&pn))return h}};var hr=function(h,v,w){this.type="",this.start=v,this.end=0,h.options.locations&&(this.loc=new Qe(h,w)),h.options.directSourceFile&&(this.sourceFile=h.options.directSourceFile),h.options.ranges&&(this.range=[v,0])},j=je.prototype;j.startNode=function(){return new hr(this,this.start,this.startLoc)},j.startNodeAt=function(o,h){return new hr(this,o,h)};function z(o,h,v,w){return o.type=h,o.end=v,this.options.locations&&(o.loc.end=w),this.options.ranges&&(o.range[1]=v),o}j.finishNode=function(o,h){return z.call(this,o,h,this.lastTokEnd,this.lastTokEndLoc)},j.finishNodeAt=function(o,h,v,w){return z.call(this,o,h,v,w)},j.copyNode=function(o){var h=new hr(this,o.start,this.startLoc);for(var v in o)h[v]=o[v];return h};var K="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Z=K+" Extended_Pictographic",oe=Z,ge=oe+" EBase EComp EMod EPres ExtPict",Te=ge,se=Te,_e={9:K,10:Z,11:oe,12:ge,13:Te,14:se},xe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ce={9:"",10:"",11:"",12:"",13:"",14:xe},$e="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ye="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",tt=Ye+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",We=tt+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",It=We+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Et=It+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Hr=Et+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",dr={9:Ye,10:tt,11:We,12:It,13:Et,14:Hr},Vn={};function Sr(o){var h=Vn[o]={binary:ve(_e[o]+" "+$e),binaryOfStrings:ve(Ce[o]),nonBinary:{General_Category:ve($e),Script:ve(dr[o])}};h.nonBinary.Script_Extensions=h.nonBinary.Script,h.nonBinary.gc=h.nonBinary.General_Category,h.nonBinary.sc=h.nonBinary.Script,h.nonBinary.scx=h.nonBinary.Script_Extensions}for(var On=0,Qt=[9,10,11,12,13,14];On<Qt.length;On+=1){var Bn=Qt[On];Sr(Bn)}var ce=je.prototype,fr=function(h,v){this.parent=h,this.base=v||this};fr.prototype.separatedFrom=function(h){for(var v=this;v;v=v.parent)for(var w=h;w;w=w.parent)if(v.base===w.base&&v!==w)return!0;return!1},fr.prototype.sibling=function(){return new fr(this.parent,this.base)};var Se=function(h){this.parser=h,this.validFlags="gim"+(h.options.ecmaVersion>=6?"uy":"")+(h.options.ecmaVersion>=9?"s":"")+(h.options.ecmaVersion>=13?"d":"")+(h.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Vn[h.options.ecmaVersion>=14?14:h.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Se.prototype.reset=function(h,v,w){var N=w.indexOf("v")!==-1,$=w.indexOf("u")!==-1;this.start=h|0,this.source=v+"",this.flags=w,N&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=$&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=$&&this.parser.options.ecmaVersion>=9)},Se.prototype.raise=function(h){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+h)},Se.prototype.at=function(h,v){v===void 0&&(v=!1);var w=this.source,N=w.length;if(h>=N)return-1;var $=w.charCodeAt(h);if(!(v||this.switchU)||$<=55295||$>=57344||h+1>=N)return $;var Q=w.charCodeAt(h+1);return Q>=56320&&Q<=57343?($<<10)+Q-56613888:$},Se.prototype.nextIndex=function(h,v){v===void 0&&(v=!1);var w=this.source,N=w.length;if(h>=N)return N;var $=w.charCodeAt(h),Q;return!(v||this.switchU)||$<=55295||$>=57344||h+1>=N||(Q=w.charCodeAt(h+1))<56320||Q>57343?h+1:h+2},Se.prototype.current=function(h){return h===void 0&&(h=!1),this.at(this.pos,h)},Se.prototype.lookahead=function(h){return h===void 0&&(h=!1),this.at(this.nextIndex(this.pos,h),h)},Se.prototype.advance=function(h){h===void 0&&(h=!1),this.pos=this.nextIndex(this.pos,h)},Se.prototype.eat=function(h,v){return v===void 0&&(v=!1),this.current(v)===h?(this.advance(v),!0):!1},Se.prototype.eatChars=function(h,v){v===void 0&&(v=!1);for(var w=this.pos,N=0,$=h;N<$.length;N+=1){var Q=$[N],ne=this.at(w,v);if(ne===-1||ne!==Q)return!1;w=this.nextIndex(w,v)}return this.pos=w,!0},ce.validateRegExpFlags=function(o){for(var h=o.validFlags,v=o.flags,w=!1,N=!1,$=0;$<v.length;$++){var Q=v.charAt($);h.indexOf(Q)===-1&&this.raise(o.start,"Invalid regular expression flag"),v.indexOf(Q,$+1)>-1&&this.raise(o.start,"Duplicate regular expression flag"),Q==="u"&&(w=!0),Q==="v"&&(N=!0)}this.options.ecmaVersion>=15&&w&&N&&this.raise(o.start,"Invalid regular expression flag")};function mt(o){for(var h in o)return!0;return!1}ce.validateRegExpPattern=function(o){this.regexp_pattern(o),!o.switchN&&this.options.ecmaVersion>=9&&mt(o.groupNames)&&(o.switchN=!0,this.regexp_pattern(o))},ce.regexp_pattern=function(o){o.pos=0,o.lastIntValue=0,o.lastStringValue="",o.lastAssertionIsQuantifiable=!1,o.numCapturingParens=0,o.maxBackReference=0,o.groupNames=Object.create(null),o.backReferenceNames.length=0,o.branchID=null,this.regexp_disjunction(o),o.pos!==o.source.length&&(o.eat(41)&&o.raise("Unmatched ')'"),(o.eat(93)||o.eat(125))&&o.raise("Lone quantifier brackets")),o.maxBackReference>o.numCapturingParens&&o.raise("Invalid escape");for(var h=0,v=o.backReferenceNames;h<v.length;h+=1){var w=v[h];o.groupNames[w]||o.raise("Invalid named capture referenced")}},ce.regexp_disjunction=function(o){var h=this.options.ecmaVersion>=16;for(h&&(o.branchID=new fr(o.branchID,null)),this.regexp_alternative(o);o.eat(124);)h&&(o.branchID=o.branchID.sibling()),this.regexp_alternative(o);h&&(o.branchID=o.branchID.parent),this.regexp_eatQuantifier(o,!0)&&o.raise("Nothing to repeat"),o.eat(123)&&o.raise("Lone quantifier brackets")},ce.regexp_alternative=function(o){for(;o.pos<o.source.length&&this.regexp_eatTerm(o););},ce.regexp_eatTerm=function(o){return this.regexp_eatAssertion(o)?(o.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(o)&&o.switchU&&o.raise("Invalid quantifier"),!0):(o.switchU?this.regexp_eatAtom(o):this.regexp_eatExtendedAtom(o))?(this.regexp_eatQuantifier(o),!0):!1},ce.regexp_eatAssertion=function(o){var h=o.pos;if(o.lastAssertionIsQuantifiable=!1,o.eat(94)||o.eat(36))return!0;if(o.eat(92)){if(o.eat(66)||o.eat(98))return!0;o.pos=h}if(o.eat(40)&&o.eat(63)){var v=!1;if(this.options.ecmaVersion>=9&&(v=o.eat(60)),o.eat(61)||o.eat(33))return this.regexp_disjunction(o),o.eat(41)||o.raise("Unterminated group"),o.lastAssertionIsQuantifiable=!v,!0}return o.pos=h,!1},ce.regexp_eatQuantifier=function(o,h){return h===void 0&&(h=!1),this.regexp_eatQuantifierPrefix(o,h)?(o.eat(63),!0):!1},ce.regexp_eatQuantifierPrefix=function(o,h){return o.eat(42)||o.eat(43)||o.eat(63)||this.regexp_eatBracedQuantifier(o,h)},ce.regexp_eatBracedQuantifier=function(o,h){var v=o.pos;if(o.eat(123)){var w=0,N=-1;if(this.regexp_eatDecimalDigits(o)&&(w=o.lastIntValue,o.eat(44)&&this.regexp_eatDecimalDigits(o)&&(N=o.lastIntValue),o.eat(125)))return N!==-1&&N<w&&!h&&o.raise("numbers out of order in {} quantifier"),!0;o.switchU&&!h&&o.raise("Incomplete quantifier"),o.pos=v}return!1},ce.regexp_eatAtom=function(o){return this.regexp_eatPatternCharacters(o)||o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)},ce.regexp_eatReverseSolidusAtomEscape=function(o){var h=o.pos;if(o.eat(92)){if(this.regexp_eatAtomEscape(o))return!0;o.pos=h}return!1},ce.regexp_eatUncapturingGroup=function(o){var h=o.pos;if(o.eat(40)){if(o.eat(63)&&o.eat(58)){if(this.regexp_disjunction(o),o.eat(41))return!0;o.raise("Unterminated group")}o.pos=h}return!1},ce.regexp_eatCapturingGroup=function(o){if(o.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(o):o.current()===63&&o.raise("Invalid group"),this.regexp_disjunction(o),o.eat(41))return o.numCapturingParens+=1,!0;o.raise("Unterminated group")}return!1},ce.regexp_eatExtendedAtom=function(o){return o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)||this.regexp_eatInvalidBracedQuantifier(o)||this.regexp_eatExtendedPatternCharacter(o)},ce.regexp_eatInvalidBracedQuantifier=function(o){return this.regexp_eatBracedQuantifier(o,!0)&&o.raise("Nothing to repeat"),!1},ce.regexp_eatSyntaxCharacter=function(o){var h=o.current();return Gt(h)?(o.lastIntValue=h,o.advance(),!0):!1};function Gt(o){return o===36||o>=40&&o<=43||o===46||o===63||o>=91&&o<=94||o>=123&&o<=125}ce.regexp_eatPatternCharacters=function(o){for(var h=o.pos,v=0;(v=o.current())!==-1&&!Gt(v);)o.advance();return o.pos!==h},ce.regexp_eatExtendedPatternCharacter=function(o){var h=o.current();return h!==-1&&h!==36&&!(h>=40&&h<=43)&&h!==46&&h!==63&&h!==91&&h!==94&&h!==124?(o.advance(),!0):!1},ce.regexp_groupSpecifier=function(o){if(o.eat(63)){this.regexp_eatGroupName(o)||o.raise("Invalid group");var h=this.options.ecmaVersion>=16,v=o.groupNames[o.lastStringValue];if(v)if(h)for(var w=0,N=v;w<N.length;w+=1){var $=N[w];$.separatedFrom(o.branchID)||o.raise("Duplicate capture group name")}else o.raise("Duplicate capture group name");h?(v||(o.groupNames[o.lastStringValue]=[])).push(o.branchID):o.groupNames[o.lastStringValue]=!0}},ce.regexp_eatGroupName=function(o){if(o.lastStringValue="",o.eat(60)){if(this.regexp_eatRegExpIdentifierName(o)&&o.eat(62))return!0;o.raise("Invalid capture group name")}return!1},ce.regexp_eatRegExpIdentifierName=function(o){if(o.lastStringValue="",this.regexp_eatRegExpIdentifierStart(o)){for(o.lastStringValue+=we(o.lastIntValue);this.regexp_eatRegExpIdentifierPart(o);)o.lastStringValue+=we(o.lastIntValue);return!0}return!1},ce.regexp_eatRegExpIdentifierStart=function(o){var h=o.pos,v=this.options.ecmaVersion>=11,w=o.current(v);return o.advance(v),w===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,v)&&(w=o.lastIntValue),at(w)?(o.lastIntValue=w,!0):(o.pos=h,!1)};function at(o){return F(o,!0)||o===36||o===95}ce.regexp_eatRegExpIdentifierPart=function(o){var h=o.pos,v=this.options.ecmaVersion>=11,w=o.current(v);return o.advance(v),w===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,v)&&(w=o.lastIntValue),gn(w)?(o.lastIntValue=w,!0):(o.pos=h,!1)};function gn(o){return L(o,!0)||o===36||o===95||o===8204||o===8205}ce.regexp_eatAtomEscape=function(o){return this.regexp_eatBackReference(o)||this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)||o.switchN&&this.regexp_eatKGroupName(o)?!0:(o.switchU&&(o.current()===99&&o.raise("Invalid unicode escape"),o.raise("Invalid escape")),!1)},ce.regexp_eatBackReference=function(o){var h=o.pos;if(this.regexp_eatDecimalEscape(o)){var v=o.lastIntValue;if(o.switchU)return v>o.maxBackReference&&(o.maxBackReference=v),!0;if(v<=o.numCapturingParens)return!0;o.pos=h}return!1},ce.regexp_eatKGroupName=function(o){if(o.eat(107)){if(this.regexp_eatGroupName(o))return o.backReferenceNames.push(o.lastStringValue),!0;o.raise("Invalid named reference")}return!1},ce.regexp_eatCharacterEscape=function(o){return this.regexp_eatControlEscape(o)||this.regexp_eatCControlLetter(o)||this.regexp_eatZero(o)||this.regexp_eatHexEscapeSequence(o)||this.regexp_eatRegExpUnicodeEscapeSequence(o,!1)||!o.switchU&&this.regexp_eatLegacyOctalEscapeSequence(o)||this.regexp_eatIdentityEscape(o)},ce.regexp_eatCControlLetter=function(o){var h=o.pos;if(o.eat(99)){if(this.regexp_eatControlLetter(o))return!0;o.pos=h}return!1},ce.regexp_eatZero=function(o){return o.current()===48&&!us(o.lookahead())?(o.lastIntValue=0,o.advance(),!0):!1},ce.regexp_eatControlEscape=function(o){var h=o.current();return h===116?(o.lastIntValue=9,o.advance(),!0):h===110?(o.lastIntValue=10,o.advance(),!0):h===118?(o.lastIntValue=11,o.advance(),!0):h===102?(o.lastIntValue=12,o.advance(),!0):h===114?(o.lastIntValue=13,o.advance(),!0):!1},ce.regexp_eatControlLetter=function(o){var h=o.current();return pi(h)?(o.lastIntValue=h%32,o.advance(),!0):!1};function pi(o){return o>=65&&o<=90||o>=97&&o<=122}ce.regexp_eatRegExpUnicodeEscapeSequence=function(o,h){h===void 0&&(h=!1);var v=o.pos,w=h||o.switchU;if(o.eat(117)){if(this.regexp_eatFixedHexDigits(o,4)){var N=o.lastIntValue;if(w&&N>=55296&&N<=56319){var $=o.pos;if(o.eat(92)&&o.eat(117)&&this.regexp_eatFixedHexDigits(o,4)){var Q=o.lastIntValue;if(Q>=56320&&Q<=57343)return o.lastIntValue=(N-55296)*1024+(Q-56320)+65536,!0}o.pos=$,o.lastIntValue=N}return!0}if(w&&o.eat(123)&&this.regexp_eatHexDigits(o)&&o.eat(125)&&ss(o.lastIntValue))return!0;w&&o.raise("Invalid unicode escape"),o.pos=v}return!1};function ss(o){return o>=0&&o<=1114111}ce.regexp_eatIdentityEscape=function(o){if(o.switchU)return this.regexp_eatSyntaxCharacter(o)?!0:o.eat(47)?(o.lastIntValue=47,!0):!1;var h=o.current();return h!==99&&(!o.switchN||h!==107)?(o.lastIntValue=h,o.advance(),!0):!1},ce.regexp_eatDecimalEscape=function(o){o.lastIntValue=0;var h=o.current();if(h>=49&&h<=57){do o.lastIntValue=10*o.lastIntValue+(h-48),o.advance();while((h=o.current())>=48&&h<=57);return!0}return!1};var mo=0,Ir=1,un=2;ce.regexp_eatCharacterClassEscape=function(o){var h=o.current();if(Os(h))return o.lastIntValue=-1,o.advance(),Ir;var v=!1;if(o.switchU&&this.options.ecmaVersion>=9&&((v=h===80)||h===112)){o.lastIntValue=-1,o.advance();var w;if(o.eat(123)&&(w=this.regexp_eatUnicodePropertyValueExpression(o))&&o.eat(125))return v&&w===un&&o.raise("Invalid property name"),w;o.raise("Invalid property name")}return mo};function Os(o){return o===100||o===68||o===115||o===83||o===119||o===87}ce.regexp_eatUnicodePropertyValueExpression=function(o){var h=o.pos;if(this.regexp_eatUnicodePropertyName(o)&&o.eat(61)){var v=o.lastStringValue;if(this.regexp_eatUnicodePropertyValue(o)){var w=o.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(o,v,w),Ir}}if(o.pos=h,this.regexp_eatLoneUnicodePropertyNameOrValue(o)){var N=o.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(o,N)}return mo},ce.regexp_validateUnicodePropertyNameAndValue=function(o,h,v){Bt(o.unicodeProperties.nonBinary,h)||o.raise("Invalid property name"),o.unicodeProperties.nonBinary[h].test(v)||o.raise("Invalid property value")},ce.regexp_validateUnicodePropertyNameOrValue=function(o,h){if(o.unicodeProperties.binary.test(h))return Ir;if(o.switchV&&o.unicodeProperties.binaryOfStrings.test(h))return un;o.raise("Invalid property name")},ce.regexp_eatUnicodePropertyName=function(o){var h=0;for(o.lastStringValue="";as(h=o.current());)o.lastStringValue+=we(h),o.advance();return o.lastStringValue!==""};function as(o){return pi(o)||o===95}ce.regexp_eatUnicodePropertyValue=function(o){var h=0;for(o.lastStringValue="";Tr(h=o.current());)o.lastStringValue+=we(h),o.advance();return o.lastStringValue!==""};function Tr(o){return as(o)||us(o)}ce.regexp_eatLoneUnicodePropertyNameOrValue=function(o){return this.regexp_eatUnicodePropertyValue(o)},ce.regexp_eatCharacterClass=function(o){if(o.eat(91)){var h=o.eat(94),v=this.regexp_classContents(o);return o.eat(93)||o.raise("Unterminated character class"),h&&v===un&&o.raise("Negated character class may contain strings"),!0}return!1},ce.regexp_classContents=function(o){return o.current()===93?Ir:o.switchV?this.regexp_classSetExpression(o):(this.regexp_nonEmptyClassRanges(o),Ir)},ce.regexp_nonEmptyClassRanges=function(o){for(;this.regexp_eatClassAtom(o);){var h=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassAtom(o)){var v=o.lastIntValue;o.switchU&&(h===-1||v===-1)&&o.raise("Invalid character class"),h!==-1&&v!==-1&&h>v&&o.raise("Range out of order in character class")}}},ce.regexp_eatClassAtom=function(o){var h=o.pos;if(o.eat(92)){if(this.regexp_eatClassEscape(o))return!0;if(o.switchU){var v=o.current();(v===99||mi(v))&&o.raise("Invalid class escape"),o.raise("Invalid escape")}o.pos=h}var w=o.current();return w!==93?(o.lastIntValue=w,o.advance(),!0):!1},ce.regexp_eatClassEscape=function(o){var h=o.pos;if(o.eat(98))return o.lastIntValue=8,!0;if(o.switchU&&o.eat(45))return o.lastIntValue=45,!0;if(!o.switchU&&o.eat(99)){if(this.regexp_eatClassControlLetter(o))return!0;o.pos=h}return this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)},ce.regexp_classSetExpression=function(o){var h=Ir,v;if(!this.regexp_eatClassSetRange(o))if(v=this.regexp_eatClassSetOperand(o)){v===un&&(h=un);for(var w=o.pos;o.eatChars([38,38]);){if(o.current()!==38&&(v=this.regexp_eatClassSetOperand(o))){v!==un&&(h=Ir);continue}o.raise("Invalid character in character class")}if(w!==o.pos)return h;for(;o.eatChars([45,45]);)this.regexp_eatClassSetOperand(o)||o.raise("Invalid character in character class");if(w!==o.pos)return h}else o.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(o)){if(v=this.regexp_eatClassSetOperand(o),!v)return h;v===un&&(h=un)}},ce.regexp_eatClassSetRange=function(o){var h=o.pos;if(this.regexp_eatClassSetCharacter(o)){var v=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassSetCharacter(o)){var w=o.lastIntValue;return v!==-1&&w!==-1&&v>w&&o.raise("Range out of order in character class"),!0}o.pos=h}return!1},ce.regexp_eatClassSetOperand=function(o){return this.regexp_eatClassSetCharacter(o)?Ir:this.regexp_eatClassStringDisjunction(o)||this.regexp_eatNestedClass(o)},ce.regexp_eatNestedClass=function(o){var h=o.pos;if(o.eat(91)){var v=o.eat(94),w=this.regexp_classContents(o);if(o.eat(93))return v&&w===un&&o.raise("Negated character class may contain strings"),w;o.pos=h}if(o.eat(92)){var N=this.regexp_eatCharacterClassEscape(o);if(N)return N;o.pos=h}return null},ce.regexp_eatClassStringDisjunction=function(o){var h=o.pos;if(o.eatChars([92,113])){if(o.eat(123)){var v=this.regexp_classStringDisjunctionContents(o);if(o.eat(125))return v}else o.raise("Invalid escape");o.pos=h}return null},ce.regexp_classStringDisjunctionContents=function(o){for(var h=this.regexp_classString(o);o.eat(124);)this.regexp_classString(o)===un&&(h=un);return h},ce.regexp_classString=function(o){for(var h=0;this.regexp_eatClassSetCharacter(o);)h++;return h===1?Ir:un},ce.regexp_eatClassSetCharacter=function(o){var h=o.pos;if(o.eat(92))return this.regexp_eatCharacterEscape(o)||this.regexp_eatClassSetReservedPunctuator(o)?!0:o.eat(98)?(o.lastIntValue=8,!0):(o.pos=h,!1);var v=o.current();return v<0||v===o.lookahead()&&Mn(v)||Bs(v)?!1:(o.advance(),o.lastIntValue=v,!0)};function Mn(o){return o===33||o>=35&&o<=38||o>=42&&o<=44||o===46||o>=58&&o<=64||o===94||o===96||o===126}function Bs(o){return o===40||o===41||o===45||o===47||o>=91&&o<=93||o>=123&&o<=125}ce.regexp_eatClassSetReservedPunctuator=function(o){var h=o.current();return os(h)?(o.lastIntValue=h,o.advance(),!0):!1};function os(o){return o===33||o===35||o===37||o===38||o===44||o===45||o>=58&&o<=62||o===64||o===96||o===126}ce.regexp_eatClassControlLetter=function(o){var h=o.current();return us(h)||h===95?(o.lastIntValue=h%32,o.advance(),!0):!1},ce.regexp_eatHexEscapeSequence=function(o){var h=o.pos;if(o.eat(120)){if(this.regexp_eatFixedHexDigits(o,2))return!0;o.switchU&&o.raise("Invalid escape"),o.pos=h}return!1},ce.regexp_eatDecimalDigits=function(o){var h=o.pos,v=0;for(o.lastIntValue=0;us(v=o.current());)o.lastIntValue=10*o.lastIntValue+(v-48),o.advance();return o.pos!==h};function us(o){return o>=48&&o<=57}ce.regexp_eatHexDigits=function(o){var h=o.pos,v=0;for(o.lastIntValue=0;gt(v=o.current());)o.lastIntValue=16*o.lastIntValue+Wr(v),o.advance();return o.pos!==h};function gt(o){return o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102}function Wr(o){return o>=65&&o<=70?10+(o-65):o>=97&&o<=102?10+(o-97):o-48}ce.regexp_eatLegacyOctalEscapeSequence=function(o){if(this.regexp_eatOctalDigit(o)){var h=o.lastIntValue;if(this.regexp_eatOctalDigit(o)){var v=o.lastIntValue;h<=3&&this.regexp_eatOctalDigit(o)?o.lastIntValue=h*64+v*8+o.lastIntValue:o.lastIntValue=h*8+v}else o.lastIntValue=h;return!0}return!1},ce.regexp_eatOctalDigit=function(o){var h=o.current();return mi(h)?(o.lastIntValue=h-48,o.advance(),!0):(o.lastIntValue=0,!1)};function mi(o){return o>=48&&o<=55}ce.regexp_eatFixedHexDigits=function(o,h){var v=o.pos;o.lastIntValue=0;for(var w=0;w<h;++w){var N=o.current();if(!gt(N))return o.pos=v,!1;o.lastIntValue=16*o.lastIntValue+Wr(N),o.advance()}return!0};var kr=function(h){this.type=h.type,this.value=h.value,this.start=h.start,this.end=h.end,h.options.locations&&(this.loc=new Qe(h,h.startLoc,h.endLoc)),h.options.ranges&&(this.range=[h.start,h.end])},ze=je.prototype;ze.next=function(o){!o&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new kr(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ze.getToken=function(){return this.next(),new kr(this)},typeof Symbol<"u"&&(ze[Symbol.iterator]=function(){var o=this;return{next:function(){var h=o.getToken();return{done:h.type===f.eof,value:h}}}}),ze.nextToken=function(){var o=this.curContext();if((!o||!o.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(f.eof);if(o.override)return o.override(this);this.readToken(this.fullCharCodeAtPos())},ze.readToken=function(o){return F(o,this.options.ecmaVersion>=6)||o===92?this.readWord():this.getTokenFromCode(o)},ze.fullCharCodeAtPos=function(){var o=this.input.charCodeAt(this.pos);if(o<=55295||o>=56320)return o;var h=this.input.charCodeAt(this.pos+1);return h<=56319||h>=57344?o:(o<<10)+h-56613888},ze.skipBlockComment=function(){var o=this.options.onComment&&this.curPosition(),h=this.pos,v=this.input.indexOf("*/",this.pos+=2);if(v===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=v+2,this.options.locations)for(var w=void 0,N=h;(w=D(this.input,N,this.pos))>-1;)++this.curLine,N=this.lineStart=w;this.options.onComment&&this.options.onComment(!0,this.input.slice(h+2,v),h,this.pos,o,this.curPosition())},ze.skipLineComment=function(o){for(var h=this.pos,v=this.options.onComment&&this.curPosition(),w=this.input.charCodeAt(this.pos+=o);this.pos<this.input.length&&!S(w);)w=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(h+o,this.pos),h,this.pos,v,this.curPosition())},ze.skipSpace=function(){e:for(;this.pos<this.input.length;){var o=this.input.charCodeAt(this.pos);switch(o){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(o>8&&o<14||o>=5760&&B.test(String.fromCharCode(o)))++this.pos;else break e}}},ze.finishToken=function(o,h){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var v=this.type;this.type=o,this.value=h,this.updateContext(v)},ze.readToken_dot=function(){var o=this.input.charCodeAt(this.pos+1);if(o>=48&&o<=57)return this.readNumber(!0);var h=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&o===46&&h===46?(this.pos+=3,this.finishToken(f.ellipsis)):(++this.pos,this.finishToken(f.dot))},ze.readToken_slash=function(){var o=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):o===61?this.finishOp(f.assign,2):this.finishOp(f.slash,1)},ze.readToken_mult_modulo_exp=function(o){var h=this.input.charCodeAt(this.pos+1),v=1,w=o===42?f.star:f.modulo;return this.options.ecmaVersion>=7&&o===42&&h===42&&(++v,w=f.starstar,h=this.input.charCodeAt(this.pos+2)),h===61?this.finishOp(f.assign,v+1):this.finishOp(w,v)},ze.readToken_pipe_amp=function(o){var h=this.input.charCodeAt(this.pos+1);if(h===o){if(this.options.ecmaVersion>=12){var v=this.input.charCodeAt(this.pos+2);if(v===61)return this.finishOp(f.assign,3)}return this.finishOp(o===124?f.logicalOR:f.logicalAND,2)}return h===61?this.finishOp(f.assign,2):this.finishOp(o===124?f.bitwiseOR:f.bitwiseAND,1)},ze.readToken_caret=function(){var o=this.input.charCodeAt(this.pos+1);return o===61?this.finishOp(f.assign,2):this.finishOp(f.bitwiseXOR,1)},ze.readToken_plus_min=function(o){var h=this.input.charCodeAt(this.pos+1);return h===o?h===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||I.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(f.incDec,2):h===61?this.finishOp(f.assign,2):this.finishOp(f.plusMin,1)},ze.readToken_lt_gt=function(o){var h=this.input.charCodeAt(this.pos+1),v=1;return h===o?(v=o===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+v)===61?this.finishOp(f.assign,v+1):this.finishOp(f.bitShift,v)):h===33&&o===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(h===61&&(v=2),this.finishOp(f.relational,v))},ze.readToken_eq_excl=function(o){var h=this.input.charCodeAt(this.pos+1);return h===61?this.finishOp(f.equality,this.input.charCodeAt(this.pos+2)===61?3:2):o===61&&h===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(f.arrow)):this.finishOp(o===61?f.eq:f.prefix,1)},ze.readToken_question=function(){var o=this.options.ecmaVersion;if(o>=11){var h=this.input.charCodeAt(this.pos+1);if(h===46){var v=this.input.charCodeAt(this.pos+2);if(v<48||v>57)return this.finishOp(f.questionDot,2)}if(h===63){if(o>=12){var w=this.input.charCodeAt(this.pos+2);if(w===61)return this.finishOp(f.assign,3)}return this.finishOp(f.coalesce,2)}}return this.finishOp(f.question,1)},ze.readToken_numberSign=function(){var o=this.options.ecmaVersion,h=35;if(o>=13&&(++this.pos,h=this.fullCharCodeAtPos(),F(h,!0)||h===92))return this.finishToken(f.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+we(h)+"'")},ze.getTokenFromCode=function(o){switch(o){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(f.parenL);case 41:return++this.pos,this.finishToken(f.parenR);case 59:return++this.pos,this.finishToken(f.semi);case 44:return++this.pos,this.finishToken(f.comma);case 91:return++this.pos,this.finishToken(f.bracketL);case 93:return++this.pos,this.finishToken(f.bracketR);case 123:return++this.pos,this.finishToken(f.braceL);case 125:return++this.pos,this.finishToken(f.braceR);case 58:return++this.pos,this.finishToken(f.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(f.backQuote);case 48:var h=this.input.charCodeAt(this.pos+1);if(h===120||h===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(h===111||h===79)return this.readRadixNumber(8);if(h===98||h===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(o);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(o);case 124:case 38:return this.readToken_pipe_amp(o);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(o);case 60:case 62:return this.readToken_lt_gt(o);case 61:case 33:return this.readToken_eq_excl(o);case 63:return this.readToken_question();case 126:return this.finishOp(f.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+we(o)+"'")},ze.finishOp=function(o,h){var v=this.input.slice(this.pos,this.pos+h);return this.pos+=h,this.finishToken(o,v)},ze.readRegexp=function(){for(var o,h,v=this.pos;;){this.pos>=this.input.length&&this.raise(v,"Unterminated regular expression");var w=this.input.charAt(this.pos);if(I.test(w)&&this.raise(v,"Unterminated regular expression"),o)o=!1;else{if(w==="[")h=!0;else if(w==="]"&&h)h=!1;else if(w==="/"&&!h)break;o=w==="\\"}++this.pos}var N=this.input.slice(v,this.pos);++this.pos;var $=this.pos,Q=this.readWord1();this.containsEsc&&this.unexpected($);var ne=this.regexpState||(this.regexpState=new Se(this));ne.reset(v,N,Q),this.validateRegExpFlags(ne),this.validateRegExpPattern(ne);var ue=null;try{ue=new RegExp(N,Q)}catch{}return this.finishToken(f.regexp,{pattern:N,flags:Q,value:ue})},ze.readInt=function(o,h,v){for(var w=this.options.ecmaVersion>=12&&h===void 0,N=v&&this.input.charCodeAt(this.pos)===48,$=this.pos,Q=0,ne=0,ue=0,Ve=h??1/0;ue<Ve;++ue,++this.pos){var Pe=this.input.charCodeAt(this.pos),vt=void 0;if(w&&Pe===95){N&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ne===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ue===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ne=Pe;continue}if(Pe>=97?vt=Pe-97+10:Pe>=65?vt=Pe-65+10:Pe>=48&&Pe<=57?vt=Pe-48:vt=1/0,vt>=o)break;ne=Pe,Q=Q*o+vt}return w&&ne===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===$||h!=null&&this.pos-$!==h?null:Q};function go(o,h){return h?parseInt(o,8):parseFloat(o.replace(/_/g,""))}function gi(o){return typeof BigInt!="function"?null:BigInt(o.replace(/_/g,""))}ze.readRadixNumber=function(o){var h=this.pos;this.pos+=2;var v=this.readInt(o);return v==null&&this.raise(this.start+2,"Expected number in radix "+o),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(v=gi(this.input.slice(h,this.pos)),++this.pos):F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,v)},ze.readNumber=function(o){var h=this.pos;!o&&this.readInt(10,void 0,!0)===null&&this.raise(h,"Invalid number");var v=this.pos-h>=2&&this.input.charCodeAt(h)===48;v&&this.strict&&this.raise(h,"Invalid number");var w=this.input.charCodeAt(this.pos);if(!v&&!o&&this.options.ecmaVersion>=11&&w===110){var N=gi(this.input.slice(h,this.pos));return++this.pos,F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,N)}v&&/[89]/.test(this.input.slice(h,this.pos))&&(v=!1),w===46&&!v&&(++this.pos,this.readInt(10),w=this.input.charCodeAt(this.pos)),(w===69||w===101)&&!v&&(w=this.input.charCodeAt(++this.pos),(w===43||w===45)&&++this.pos,this.readInt(10)===null&&this.raise(h,"Invalid number")),F(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var $=go(this.input.slice(h,this.pos),v);return this.finishToken(f.num,$)},ze.readCodePoint=function(){var o=this.input.charCodeAt(this.pos),h;if(o===123){this.options.ecmaVersion<6&&this.unexpected();var v=++this.pos;h=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,h>1114111&&this.invalidStringToken(v,"Code point out of bounds")}else h=this.readHexChar(4);return h},ze.readString=function(o){for(var h="",v=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var w=this.input.charCodeAt(this.pos);if(w===o)break;w===92?(h+=this.input.slice(v,this.pos),h+=this.readEscapedChar(!1),v=this.pos):w===8232||w===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(S(w)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return h+=this.input.slice(v,this.pos++),this.finishToken(f.string,h)};var Ms={};ze.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(o){if(o===Ms)this.readInvalidTemplateToken();else throw o}this.inTemplateElement=!1},ze.invalidStringToken=function(o,h){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ms;this.raise(o,h)},ze.readTmplToken=function(){for(var o="",h=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var v=this.input.charCodeAt(this.pos);if(v===96||v===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===f.template||this.type===f.invalidTemplate)?v===36?(this.pos+=2,this.finishToken(f.dollarBraceL)):(++this.pos,this.finishToken(f.backQuote)):(o+=this.input.slice(h,this.pos),this.finishToken(f.template,o));if(v===92)o+=this.input.slice(h,this.pos),o+=this.readEscapedChar(!0),h=this.pos;else if(S(v)){switch(o+=this.input.slice(h,this.pos),++this.pos,v){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:o+=`
`;break;default:o+=String.fromCharCode(v);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),h=this.pos}else++this.pos}},ze.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(f.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},ze.readEscapedChar=function(o){var h=this.input.charCodeAt(++this.pos);switch(++this.pos,h){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return we(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),o){var v=this.pos-1;this.invalidStringToken(v,"Invalid escape sequence in template string")}default:if(h>=48&&h<=55){var w=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],N=parseInt(w,8);return N>255&&(w=w.slice(0,-1),N=parseInt(w,8)),this.pos+=w.length-1,h=this.input.charCodeAt(this.pos),(w!=="0"||h===56||h===57)&&(this.strict||o)&&this.invalidStringToken(this.pos-1-w.length,o?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(N)}return S(h)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(h)}},ze.readHexChar=function(o){var h=this.pos,v=this.readInt(16,o);return v===null&&this.invalidStringToken(h,"Bad character escape sequence"),v},ze.readWord1=function(){this.containsEsc=!1;for(var o="",h=!0,v=this.pos,w=this.options.ecmaVersion>=6;this.pos<this.input.length;){var N=this.fullCharCodeAtPos();if(L(N,w))this.pos+=N<=65535?1:2;else if(N===92){this.containsEsc=!0,o+=this.input.slice(v,this.pos);var $=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Q=this.readCodePoint();(h?F:L)(Q,w)||this.invalidStringToken($,"Invalid Unicode escape"),o+=we(Q),v=this.pos}else break;h=!1}return o+this.input.slice(v,this.pos)},ze.readWord=function(){var o=this.readWord1(),h=f.name;return this.keywords.test(o)&&(h=H[o]),this.finishToken(h,o)};var Pa="8.12.1";je.acorn={Parser:je,version:Pa,defaultOptions:St,Position:Ne,SourceLocation:Qe,getLineInfo:ft,Node:hr,TokenType:M,tokTypes:f,keywordTypes:H,TokContext:Rt,tokContexts:Ke,isIdentifierChar:L,isIdentifierStart:F,Token:kr,isNewLine:S,lineBreak:I,lineBreakG:x,nonASCIIwhitespace:B};function Ru(o,h){return je.parse(o,h)}function ls(o,h,v){return je.parseExpressionAt(o,h,v)}function br(o,h){return je.tokenizer(o,h)}n.Node=hr,n.Parser=je,n.Position=Ne,n.SourceLocation=Qe,n.TokContext=Rt,n.Token=kr,n.TokenType=M,n.defaultOptions=St,n.getLineInfo=ft,n.isIdentifierChar=L,n.isIdentifierStart=F,n.isNewLine=S,n.keywordTypes=H,n.lineBreak=I,n.lineBreakG=x,n.nonASCIIwhitespace=B,n.parse=Ru,n.parseExpressionAt=ls,n.tokContexts=Ke,n.tokTypes=f,n.tokenizer=br,n.version=Pa})}),eO=vc((t,e)=>{e.exports={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}}),tO=vc((t,e)=>{var n=function(d){d=d.Parser.acorn||d;let p=c.get(d);if(!p){const g=d.tokTypes,A=d.TokContext,b=d.TokenType,F=new A("<tag",!1),L=new A("</tag",!1),M=new A("<tag>...</tag>",!0,!0),R={tc_oTag:F,tc_cTag:L,tc_expr:M},k={jsxName:new b("jsxName"),jsxText:new b("jsxText",{beforeExpr:!0}),jsxTagStart:new b("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new b("jsxTagEnd")};k.jsxTagStart.updateContext=function(){this.context.push(M),this.context.push(F),this.exprAllowed=!1},k.jsxTagEnd.updateContext=function(P){let H=this.context.pop();H===F&&P===g.slash||H===L?(this.context.pop(),this.exprAllowed=this.curContext()===M):this.exprAllowed=!0},p={tokContexts:R,tokTypes:k},c.set(d,p)}return p},r=function(d){if(!d)return d;if(d.type==="JSXIdentifier")return d.name;if(d.type==="JSXNamespacedName")return d.namespace.name+":"+d.name.name;if(d.type==="JSXMemberExpression")return r(d.object)+"."+r(d.property)},i=function(d,p){const g=p.acorn||n1(),A=n(g),b=g.tokTypes,F=A.tokTypes,L=g.tokContexts,M=A.tokContexts.tc_oTag,R=A.tokContexts.tc_cTag,k=A.tokContexts.tc_expr,P=g.isNewLine,H=g.isIdentifierStart,G=g.isIdentifierChar;return class extends p{static get acornJsx(){return A}jsx_readToken(){let f="",I=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let x=this.input.charCodeAt(this.pos);switch(x){case 60:case 123:return this.pos===this.start?x===60&&this.exprAllowed?(++this.pos,this.finishToken(F.jsxTagStart)):this.getTokenFromCode(x):(f+=this.input.slice(I,this.pos),this.finishToken(F.jsxText,f));case 38:f+=this.input.slice(I,this.pos),f+=this.jsx_readEntity(),I=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(x===62?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:P(x)?(f+=this.input.slice(I,this.pos),f+=this.jsx_readNewLine(!0),I=this.pos):++this.pos}}}jsx_readNewLine(f){let I=this.input.charCodeAt(this.pos),x;return++this.pos,I===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,x=f?`
`:`\r
`):x=String.fromCharCode(I),this.options.locations&&(++this.curLine,this.lineStart=this.pos),x}jsx_readString(f){let I="",x=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let S=this.input.charCodeAt(this.pos);if(S===f)break;S===38?(I+=this.input.slice(x,this.pos),I+=this.jsx_readEntity(),x=this.pos):P(S)?(I+=this.input.slice(x,this.pos),I+=this.jsx_readNewLine(!1),x=this.pos):++this.pos}return I+=this.input.slice(x,this.pos++),this.finishToken(b.string,I)}jsx_readEntity(){let f="",I=0,x,S=this.input[this.pos];S!=="&"&&this.raise(this.pos,"Entity must start with an ampersand");let D=++this.pos;for(;this.pos<this.input.length&&I++<10;){if(S=this.input[this.pos++],S===";"){f[0]==="#"?f[1]==="x"?(f=f.substr(2),a.test(f)&&(x=String.fromCharCode(parseInt(f,16)))):(f=f.substr(1),u.test(f)&&(x=String.fromCharCode(parseInt(f,10)))):x=s[f];break}f+=S}return x||(this.pos=D,"&")}jsx_readWord(){let f,I=this.pos;do f=this.input.charCodeAt(++this.pos);while(G(f)||f===45);return this.finishToken(F.jsxName,this.input.slice(I,this.pos))}jsx_parseIdentifier(){let f=this.startNode();return this.type===F.jsxName?f.name=this.value:this.type.keyword?f.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(f,"JSXIdentifier")}jsx_parseNamespacedName(){let f=this.start,I=this.startLoc,x=this.jsx_parseIdentifier();if(!d.allowNamespaces||!this.eat(b.colon))return x;var S=this.startNodeAt(f,I);return S.namespace=x,S.name=this.jsx_parseIdentifier(),this.finishNode(S,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===F.jsxTagEnd)return"";let f=this.start,I=this.startLoc,x=this.jsx_parseNamespacedName();for(this.type===b.dot&&x.type==="JSXNamespacedName"&&!d.allowNamespacedObjects&&this.unexpected();this.eat(b.dot);){let S=this.startNodeAt(f,I);S.object=x,S.property=this.jsx_parseIdentifier(),x=this.finishNode(S,"JSXMemberExpression")}return x}jsx_parseAttributeValue(){switch(this.type){case b.braceL:let f=this.jsx_parseExpressionContainer();return f.expression.type==="JSXEmptyExpression"&&this.raise(f.start,"JSX attributes must only be assigned a non-empty expression"),f;case F.jsxTagStart:case b.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let f=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(f,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let f=this.startNode();return this.next(),f.expression=this.type===b.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(b.braceR),this.finishNode(f,"JSXExpressionContainer")}jsx_parseAttribute(){let f=this.startNode();return this.eat(b.braceL)?(this.expect(b.ellipsis),f.argument=this.parseMaybeAssign(),this.expect(b.braceR),this.finishNode(f,"JSXSpreadAttribute")):(f.name=this.jsx_parseNamespacedName(),f.value=this.eat(b.eq)?this.jsx_parseAttributeValue():null,this.finishNode(f,"JSXAttribute"))}jsx_parseOpeningElementAt(f,I){let x=this.startNodeAt(f,I);x.attributes=[];let S=this.jsx_parseElementName();for(S&&(x.name=S);this.type!==b.slash&&this.type!==F.jsxTagEnd;)x.attributes.push(this.jsx_parseAttribute());x.selfClosing=this.eat(b.slash),this.expect(F.jsxTagEnd);const D=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];return d.autoCloseVoidElements&&S&&D.includes(S.name)&&(x.selfClosing=!0),this.finishNode(x,S?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(f,I){let x=this.startNodeAt(f,I),S=this.jsx_parseElementName();return S&&(x.name=S),this.expect(F.jsxTagEnd),this.finishNode(x,S?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(f,I){let x=this.startNodeAt(f,I),S=[],D=this.jsx_parseOpeningElementAt(f,I),B=null;if(!D.selfClosing){e:for(;;)switch(this.type){case F.jsxTagStart:if(f=this.start,I=this.startLoc,this.next(),this.eat(b.slash)){B=this.jsx_parseClosingElementAt(f,I);break e}S.push(this.jsx_parseElementAt(f,I));break;case F.jsxText:S.push(this.parseExprAtom());break;case b.braceL:S.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}r(B.name)!==r(D.name)&&this.raise(B.start,"Expected corresponding JSX closing tag for <"+r(D.name)+">")}let U=D.name?"Element":"Fragment";return x["opening"+U]=D,x["closing"+U]=B,x.children=S,this.type===b.relational&&this.value==="<"&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(x,"JSX"+U)}jsx_parseText(){let f=this.parseLiteral(this.value);return f.type="JSXText",f}jsx_parseElement(){let f=this.start,I=this.startLoc;return this.next(),this.jsx_parseElementAt(f,I)}parseExprAtom(f){return this.type===F.jsxText?this.jsx_parseText():this.type===F.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(f)}readToken(f){let I=this.curContext();if(I===k)return this.jsx_readToken();if(I===M||I===R){if(H(f))return this.jsx_readWord();if(f==62)return++this.pos,this.finishToken(F.jsxTagEnd);if((f===34||f===39)&&I==M)return this.jsx_readString(f)}return f===60&&this.exprAllowed&&this.input.charCodeAt(this.pos+1)!==33?(++this.pos,this.finishToken(F.jsxTagStart)):super.readToken(f)}updateContext(f){if(this.type==b.braceL){var I=this.curContext();I==M?this.context.push(L.b_expr):I==k?this.context.push(L.b_tmpl):super.updateContext(f),this.exprAllowed=!0}else if(this.type===b.slash&&f===F.jsxTagStart)this.context.length-=2,this.context.push(R),this.exprAllowed=!1;else return super.updateContext(f)}}},s=eO(),a=/^[\da-fA-F]+$/,u=/^\d+$/,c=new WeakMap;e.exports=function(d){return d=d||{},function(p){return i({allowNamespaces:d.allowNamespaces!==!1,allowNamespacedObjects:!!d.allowNamespacedObjects,autoCloseVoidElements:!!d.autoCloseVoidElements},p)}},Object.defineProperty(e.exports,"tokTypes",{get:function(){return n(n1()).tokTypes},configurable:!0,enumerable:!0})}),nO=vc((t,e)=>{(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),M=Symbol.iterator,R="@@iterator";function k(E){if(E===null||typeof E!="object")return null;var O=M&&E[M]||E[R];return typeof O=="function"?O:null}var P={current:null},H={transition:null},G={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},f={current:null},I={},x=null;function S(E){x=E}I.setExtraStackFrame=function(E){x=E},I.getCurrentStack=null,I.getStackAddendum=function(){var E="";x&&(E+=x);var O=I.getCurrentStack;return O&&(E+=O()||""),E};var D=!1,B=!1,U=!1,V=!1,He=!1,Pt={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:H,ReactCurrentOwner:f};Pt.ReactDebugCurrentFrame=I,Pt.ReactCurrentActQueue=G;function Bt(E){{for(var O=arguments.length,Y=new Array(O>1?O-1:0),J=1;J<O;J++)Y[J-1]=arguments[J];ae("warn",E,Y)}}function fe(E){{for(var O=arguments.length,Y=new Array(O>1?O-1:0),J=1;J<O;J++)Y[J-1]=arguments[J];ae("error",E,Y)}}function ae(E,O,Y){{var J=Pt.ReactDebugCurrentFrame,ie=J.getStackAddendum();ie!==""&&(O+="%s",Y=Y.concat([ie]));var Re=Y.map(function(pe){return String(pe)});Re.unshift("Warning: "+O),Function.prototype.apply.call(console[E],console,Re)}}var ve={};function we(E,O){{var Y=E.constructor,J=Y&&(Y.displayName||Y.name)||"ReactClass",ie=J+"."+O;if(ve[ie])return;fe("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",O,J),ve[ie]=!0}}var Ge={isMounted:function(E){return!1},enqueueForceUpdate:function(E,O,Y){we(E,"forceUpdate")},enqueueReplaceState:function(E,O,Y,J){we(E,"replaceState")},enqueueSetState:function(E,O,Y,J){we(E,"setState")}},Ne=Object.assign,Qe={};Object.freeze(Qe);function ft(E,O,Y){this.props=E,this.context=O,this.refs=Qe,this.updater=Y||Ge}ft.prototype.isReactComponent={},ft.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},ft.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};{var St={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Wt=function(E,O){Object.defineProperty(ft.prototype,E,{get:function(){Bt("%s(...) is deprecated in plain JavaScript React classes. %s",O[0],O[1])}})};for(var An in St)St.hasOwnProperty(An)&&Wt(An,St[An])}function Ni(){}Ni.prototype=ft.prototype;function xr(E,O,Y){this.props=E,this.context=O,this.refs=Qe,this.updater=Y||Ge}var xn=xr.prototype=new Ni;xn.constructor=xr,Ne(xn,ft.prototype),xn.isPureReactComponent=!0;function Ur(){var E={current:null};return Object.seal(E),E}var Lt=Array.isArray;function pn(E){return Lt(E)}function ci(E){{var O=typeof Symbol=="function"&&Symbol.toStringTag,Y=O&&E[Symbol.toStringTag]||E.constructor.name||"Object";return Y}}function hi(E){try{return Dn(E),!1}catch{return!0}}function Dn(E){return""+E}function lr(E){if(hi(E))return fe("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ci(E)),Dn(E)}function ns(E,O,Y){var J=E.displayName;if(J)return J;var ie=O.displayName||O.name||"";return ie!==""?Y+"("+ie+")":Y}function zr(E){return E.displayName||"Context"}function sn(E){if(E==null)return null;if(typeof E.tag=="number"&&fe("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case s:return"Fragment";case i:return"Portal";case u:return"Profiler";case a:return"StrictMode";case g:return"Suspense";case A:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case d:var O=E;return zr(O)+".Consumer";case c:var Y=E;return zr(Y._context)+".Provider";case p:return ns(E,E.render,"ForwardRef");case b:var J=E.displayName||null;return J!==null?J:sn(E.type)||"Memo";case F:{var ie=E,Re=ie._payload,pe=ie._init;try{return sn(pe(Re))}catch{return null}}}return null}var cr=Object.prototype.hasOwnProperty,Fn={key:!0,ref:!0,__self:!0,__source:!0},di,Yn,Xn;Xn={};function je(E){if(cr.call(E,"ref")){var O=Object.getOwnPropertyDescriptor(E,"ref").get;if(O&&O.isReactWarning)return!1}return E.ref!==void 0}function st(E){if(cr.call(E,"key")){var O=Object.getOwnPropertyDescriptor(E,"key").get;if(O&&O.isReactWarning)return!1}return E.key!==void 0}function pt(E,O){var Y=function(){di||(di=!0,fe("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",O))};Y.isReactWarning=!0,Object.defineProperty(E,"key",{get:Y,configurable:!0})}function Ln(E,O){var Y=function(){Yn||(Yn=!0,fe("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",O))};Y.isReactWarning=!0,Object.defineProperty(E,"ref",{get:Y,configurable:!0})}function $r(E){if(typeof E.ref=="string"&&f.current&&E.__self&&f.current.stateNode!==E.__self){var O=sn(f.current.type);Xn[O]||(fe('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',O,E.ref),Xn[O]=!0)}}var de=function(E,O,Y,J,ie,Re,pe){var Fe={$$typeof:r,type:E,key:O,ref:Y,props:pe,_owner:Re};return Fe._store={},Object.defineProperty(Fe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Fe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:J}),Object.defineProperty(Fe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ie}),Object.freeze&&(Object.freeze(Fe.props),Object.freeze(Fe)),Fe};function Cr(E,O,Y){var J,ie={},Re=null,pe=null,Fe=null,Xe=null;if(O!=null){je(O)&&(pe=O.ref,$r(O)),st(O)&&(lr(O.key),Re=""+O.key),Fe=O.__self===void 0?null:O.__self,Xe=O.__source===void 0?null:O.__source;for(J in O)cr.call(O,J)&&!Fn.hasOwnProperty(J)&&(ie[J]=O[J])}var ct=arguments.length-2;if(ct===1)ie.children=Y;else if(ct>1){for(var Tt=Array(ct),xt=0;xt<ct;xt++)Tt[xt]=arguments[xt+2];Object.freeze&&Object.freeze(Tt),ie.children=Tt}if(E&&E.defaultProps){var yt=E.defaultProps;for(J in yt)ie[J]===void 0&&(ie[J]=yt[J])}if(Re||pe){var Mt=typeof E=="function"?E.displayName||E.name||"Unknown":E;Re&&pt(ie,Mt),pe&&Ln(ie,Mt)}return de(E,Re,pe,Fe,Xe,f.current,ie)}function Jn(E,O){var Y=de(E.type,O,E.ref,E._self,E._source,E._owner,E.props);return Y}function rs(E,O,Y){if(E==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var J,ie=Ne({},E.props),Re=E.key,pe=E.ref,Fe=E._self,Xe=E._source,ct=E._owner;if(O!=null){je(O)&&(pe=O.ref,ct=f.current),st(O)&&(lr(O.key),Re=""+O.key);var Tt;E.type&&E.type.defaultProps&&(Tt=E.type.defaultProps);for(J in O)cr.call(O,J)&&!Fn.hasOwnProperty(J)&&(O[J]===void 0&&Tt!==void 0?ie[J]=Tt[J]:ie[J]=O[J])}var xt=arguments.length-2;if(xt===1)ie.children=Y;else if(xt>1){for(var yt=Array(xt),Mt=0;Mt<xt;Mt++)yt[Mt]=arguments[Mt+2];ie.children=yt}return de(E.type,Re,pe,Fe,Xe,ct,ie)}function an(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}var fi=".",Vs=":";function Di(E){var O=/[=:]/g,Y={"=":"=0",":":"=2"},J=E.replace(O,function(ie){return Y[ie]});return"$"+J}var Zn=!1,Jt=/\/+/g;function Rt(E){return E.replace(Jt,"$&/")}function Ke(E,O){return typeof E=="object"&&E!==null&&E.key!=null?(lr(E.key),Di(""+E.key)):O.toString(36)}function on(E,O,Y,J,ie){var Re=typeof E;(Re==="undefined"||Re==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(Re){case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case r:case i:pe=!0}}if(pe){var Fe=E,Xe=ie(Fe),ct=J===""?fi+Ke(Fe,0):J;if(pn(Xe)){var Tt="";ct!=null&&(Tt=Rt(ct)+"/"),on(Xe,O,Tt,"",function(Tc){return Tc})}else Xe!=null&&(an(Xe)&&(Xe.key&&(!Fe||Fe.key!==Xe.key)&&lr(Xe.key),Xe=Jn(Xe,Y+(Xe.key&&(!Fe||Fe.key!==Xe.key)?Rt(""+Xe.key)+"/":"")+ct)),O.push(Xe));return 1}var xt,yt,Mt=0,Zt=J===""?fi:J+Vs;if(pn(E))for(var js=0;js<E.length;js++)xt=E[js],yt=Zt+Ke(xt,js),Mt+=on(xt,O,Y,yt,ie);else{var Ra=k(E);if(typeof Ra=="function"){var Fu=E;Ra===Fu.entries&&(Zn||Bt("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Zn=!0);for(var yo=Ra.call(Fu),Lu,Ic=0;!(Lu=yo.next()).done;)xt=Lu.value,yt=Zt+Ke(xt,Ic++),Mt+=on(xt,O,Y,yt,ie)}else if(Re==="object"){var Vi=String(E);throw new Error("Objects are not valid as a React child (found: "+(Vi==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Vi)+"). If you meant to render a collection of children, use an array instead.")}}return Mt}function Ae(E,O,Y){if(E==null)return E;var J=[],ie=0;return on(E,J,"","",function(Re){return O.call(Y,Re,ie++)}),J}function Fi(E){var O=0;return Ae(E,function(){O++}),O}function qr(E,O,Y){Ae(E,function(){O.apply(this,arguments)},Y)}function is(E){return Ae(E,function(O){return O})||[]}function Cn(E){if(!an(E))throw new Error("React.Children.only expected to receive a single React element child.");return E}function mn(E){var O={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};O.Provider={$$typeof:c,_context:O};var Y=!1,J=!1,ie=!1;{var Re={$$typeof:d,_context:O};Object.defineProperties(Re,{Provider:{get:function(){return J||(J=!0,fe("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),O.Provider},set:function(pe){O.Provider=pe}},_currentValue:{get:function(){return O._currentValue},set:function(pe){O._currentValue=pe}},_currentValue2:{get:function(){return O._currentValue2},set:function(pe){O._currentValue2=pe}},_threadCount:{get:function(){return O._threadCount},set:function(pe){O._threadCount=pe}},Consumer:{get:function(){return Y||(Y=!0,fe("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),O.Consumer}},displayName:{get:function(){return O.displayName},set:function(pe){ie||(Bt("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",pe),ie=!0)}}}),O.Consumer=Re}return O._currentRenderer=null,O._currentRenderer2=null,O}var Nt=-1,hr=0,j=1,z=2;function K(E){if(E._status===Nt){var O=E._result,Y=O();if(Y.then(function(Re){if(E._status===hr||E._status===Nt){var pe=E;pe._status=j,pe._result=Re}},function(Re){if(E._status===hr||E._status===Nt){var pe=E;pe._status=z,pe._result=Re}}),E._status===Nt){var J=E;J._status=hr,J._result=Y}}if(E._status===j){var ie=E._result;return ie===void 0&&fe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,ie),"default"in ie||fe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,ie),ie.default}else throw E._result}function Z(E){var O={_status:Nt,_result:E},Y={$$typeof:F,_payload:O,_init:K};{var J,ie;Object.defineProperties(Y,{defaultProps:{configurable:!0,get:function(){return J},set:function(Re){fe("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),J=Re,Object.defineProperty(Y,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return ie},set:function(Re){fe("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),ie=Re,Object.defineProperty(Y,"propTypes",{enumerable:!0})}}})}return Y}function oe(E){E!=null&&E.$$typeof===b?fe("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof E!="function"?fe("forwardRef requires a render function but was given %s.",E===null?"null":typeof E):E.length!==0&&E.length!==2&&fe("forwardRef render functions accept exactly two parameters: props and ref. %s",E.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),E!=null&&(E.defaultProps!=null||E.propTypes!=null)&&fe("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var O={$$typeof:p,render:E};{var Y;Object.defineProperty(O,"displayName",{enumerable:!1,configurable:!0,get:function(){return Y},set:function(J){Y=J,!E.name&&!E.displayName&&(E.displayName=J)}})}return O}var ge;ge=Symbol.for("react.module.reference");function Te(E){return!!(typeof E=="string"||typeof E=="function"||E===s||E===u||He||E===a||E===g||E===A||V||E===L||D||B||U||typeof E=="object"&&E!==null&&(E.$$typeof===F||E.$$typeof===b||E.$$typeof===c||E.$$typeof===d||E.$$typeof===p||E.$$typeof===ge||E.getModuleId!==void 0))}function se(E,O){Te(E)||fe("memo: The first argument must be a component. Instead received: %s",E===null?"null":typeof E);var Y={$$typeof:b,type:E,compare:O===void 0?null:O};{var J;Object.defineProperty(Y,"displayName",{enumerable:!1,configurable:!0,get:function(){return J},set:function(ie){J=ie,!E.name&&!E.displayName&&(E.displayName=ie)}})}return Y}function _e(){var E=P.current;return E===null&&fe(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),E}function xe(E){var O=_e();if(E._context!==void 0){var Y=E._context;Y.Consumer===E?fe("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Y.Provider===E&&fe("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return O.useContext(E)}function Ce(E){var O=_e();return O.useState(E)}function $e(E,O,Y){var J=_e();return J.useReducer(E,O,Y)}function Ye(E){var O=_e();return O.useRef(E)}function tt(E,O){var Y=_e();return Y.useEffect(E,O)}function We(E,O){var Y=_e();return Y.useInsertionEffect(E,O)}function It(E,O){var Y=_e();return Y.useLayoutEffect(E,O)}function Et(E,O){var Y=_e();return Y.useCallback(E,O)}function Hr(E,O){var Y=_e();return Y.useMemo(E,O)}function dr(E,O,Y){var J=_e();return J.useImperativeHandle(E,O,Y)}function Vn(E,O){{var Y=_e();return Y.useDebugValue(E,O)}}function Sr(){var E=_e();return E.useTransition()}function On(E){var O=_e();return O.useDeferredValue(E)}function Qt(){var E=_e();return E.useId()}function Bn(E,O,Y){var J=_e();return J.useSyncExternalStore(E,O,Y)}var ce=0,fr,Se,mt,Gt,at,gn,pi;function ss(){}ss.__reactDisabledLog=!0;function mo(){{if(ce===0){fr=console.log,Se=console.info,mt=console.warn,Gt=console.error,at=console.group,gn=console.groupCollapsed,pi=console.groupEnd;var E={configurable:!0,enumerable:!0,value:ss,writable:!0};Object.defineProperties(console,{info:E,log:E,warn:E,error:E,group:E,groupCollapsed:E,groupEnd:E})}ce++}}function Ir(){{if(ce--,ce===0){var E={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ne({},E,{value:fr}),info:Ne({},E,{value:Se}),warn:Ne({},E,{value:mt}),error:Ne({},E,{value:Gt}),group:Ne({},E,{value:at}),groupCollapsed:Ne({},E,{value:gn}),groupEnd:Ne({},E,{value:pi})})}ce<0&&fe("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var un=Pt.ReactCurrentDispatcher,Os;function as(E,O,Y){{if(Os===void 0)try{throw Error()}catch(ie){var J=ie.stack.trim().match(/\n( *(at )?)/);Os=J&&J[1]||""}return`
`+Os+E}}var Tr=!1,Mn;{var Bs=typeof WeakMap=="function"?WeakMap:Map;Mn=new Bs}function os(E,O){if(!E||Tr)return"";{var Y=Mn.get(E);if(Y!==void 0)return Y}var J;Tr=!0;var ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Re;Re=un.current,un.current=null,mo();try{if(O){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(Zt){J=Zt}Reflect.construct(E,[],pe)}else{try{pe.call()}catch(Zt){J=Zt}E.call(pe.prototype)}}else{try{throw Error()}catch(Zt){J=Zt}E()}}catch(Zt){if(Zt&&J&&typeof Zt.stack=="string"){for(var Fe=Zt.stack.split(`
`),Xe=J.stack.split(`
`),ct=Fe.length-1,Tt=Xe.length-1;ct>=1&&Tt>=0&&Fe[ct]!==Xe[Tt];)Tt--;for(;ct>=1&&Tt>=0;ct--,Tt--)if(Fe[ct]!==Xe[Tt]){if(ct!==1||Tt!==1)do if(ct--,Tt--,Tt<0||Fe[ct]!==Xe[Tt]){var xt=`
`+Fe[ct].replace(" at new "," at ");return E.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",E.displayName)),typeof E=="function"&&Mn.set(E,xt),xt}while(ct>=1&&Tt>=0);break}}}finally{Tr=!1,un.current=Re,Ir(),Error.prepareStackTrace=ie}var yt=E?E.displayName||E.name:"",Mt=yt?as(yt):"";return typeof E=="function"&&Mn.set(E,Mt),Mt}function us(E,O,Y){return os(E,!1)}function gt(E){var O=E.prototype;return!!(O&&O.isReactComponent)}function Wr(E,O,Y){if(E==null)return"";if(typeof E=="function")return os(E,gt(E));if(typeof E=="string")return as(E);switch(E){case g:return as("Suspense");case A:return as("SuspenseList")}if(typeof E=="object")switch(E.$$typeof){case p:return us(E.render);case b:return Wr(E.type,O,Y);case F:{var J=E,ie=J._payload,Re=J._init;try{return Wr(Re(ie),O,Y)}catch{}}}return""}var mi={},kr=Pt.ReactDebugCurrentFrame;function ze(E){if(E){var O=E._owner,Y=Wr(E.type,E._source,O?O.type:null);kr.setExtraStackFrame(Y)}else kr.setExtraStackFrame(null)}function go(E,O,Y,J,ie){{var Re=Function.call.bind(cr);for(var pe in E)if(Re(E,pe)){var Fe=void 0;try{if(typeof E[pe]!="function"){var Xe=Error((J||"React class")+": "+Y+" type `"+pe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof E[pe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}Fe=E[pe](O,pe,J,Y,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ct){Fe=ct}Fe&&!(Fe instanceof Error)&&(ze(ie),fe("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",J||"React class",Y,pe,typeof Fe),ze(null)),Fe instanceof Error&&!(Fe.message in mi)&&(mi[Fe.message]=!0,ze(ie),fe("Failed %s type: %s",Y,Fe.message),ze(null))}}}function gi(E){if(E){var O=E._owner,Y=Wr(E.type,E._source,O?O.type:null);S(Y)}else S(null)}var Ms;Ms=!1;function Pa(){if(f.current){var E=sn(f.current.type);if(E)return`

Check the render method of \``+E+"`."}return""}function Ru(E){if(E!==void 0){var O=E.fileName.replace(/^.*[\\\/]/,""),Y=E.lineNumber;return`

Check your code at `+O+":"+Y+"."}return""}function ls(E){return E!=null?Ru(E.__source):""}var br={};function o(E){var O=Pa();if(!O){var Y=typeof E=="string"?E:E.displayName||E.name;Y&&(O=`

Check the top-level render call using <`+Y+">.")}return O}function h(E,O){if(!(!E._store||E._store.validated||E.key!=null)){E._store.validated=!0;var Y=o(O);if(!br[Y]){br[Y]=!0;var J="";E&&E._owner&&E._owner!==f.current&&(J=" It was passed a child from "+sn(E._owner.type)+"."),gi(E),fe('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Y,J),gi(null)}}}function v(E,O){if(typeof E=="object"){if(pn(E))for(var Y=0;Y<E.length;Y++){var J=E[Y];an(J)&&h(J,O)}else if(an(E))E._store&&(E._store.validated=!0);else if(E){var ie=k(E);if(typeof ie=="function"&&ie!==E.entries)for(var Re=ie.call(E),pe;!(pe=Re.next()).done;)an(pe.value)&&h(pe.value,O)}}}function w(E){{var O=E.type;if(O==null||typeof O=="string")return;var Y;if(typeof O=="function")Y=O.propTypes;else if(typeof O=="object"&&(O.$$typeof===p||O.$$typeof===b))Y=O.propTypes;else return;if(Y){var J=sn(O);go(Y,E.props,"prop",J,E)}else if(O.PropTypes!==void 0&&!Ms){Ms=!0;var ie=sn(O);fe("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ie||"Unknown")}typeof O.getDefaultProps=="function"&&!O.getDefaultProps.isReactClassApproved&&fe("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function N(E){{for(var O=Object.keys(E.props),Y=0;Y<O.length;Y++){var J=O[Y];if(J!=="children"&&J!=="key"){gi(E),fe("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",J),gi(null);break}}E.ref!==null&&(gi(E),fe("Invalid attribute `ref` supplied to `React.Fragment`."),gi(null))}}function $(E,O,Y){var J=Te(E);if(!J){var ie="";(E===void 0||typeof E=="object"&&E!==null&&Object.keys(E).length===0)&&(ie+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Re=ls(O);Re?ie+=Re:ie+=Pa();var pe;E===null?pe="null":pn(E)?pe="array":E!==void 0&&E.$$typeof===r?(pe="<"+(sn(E.type)||"Unknown")+" />",ie=" Did you accidentally export a JSX literal instead of a component?"):pe=typeof E,fe("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",pe,ie)}var Fe=Cr.apply(this,arguments);if(Fe==null)return Fe;if(J)for(var Xe=2;Xe<arguments.length;Xe++)v(arguments[Xe],E);return E===s?N(Fe):w(Fe),Fe}var Q=!1;function ne(E){var O=$.bind(null,E);return O.type=E,Q||(Q=!0,Bt("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(O,"type",{enumerable:!1,get:function(){return Bt("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:E}),E}}),O}function ue(E,O,Y){for(var J=rs.apply(this,arguments),ie=2;ie<arguments.length;ie++)v(arguments[ie],J.type);return w(J),J}function Ve(E,O){var Y=H.transition;H.transition={};var J=H.transition;H.transition._updatedFibers=new Set;try{E()}finally{if(H.transition=Y,Y===null&&J._updatedFibers){var ie=J._updatedFibers.size;ie>10&&Bt("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),J._updatedFibers.clear()}}}var Pe=!1,vt=null;function Gr(E){if(vt===null)try{var O=("require"+Math.random()).slice(0,7),Y=e&&e[O];vt=Y.call(e,"timers").setImmediate}catch{vt=function(ie){Pe===!1&&(Pe=!0,typeof MessageChannel>"u"&&fe("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Re=new MessageChannel;Re.port1.onmessage=ie,Re.port2.postMessage(void 0)}}return vt(E)}var vn=0,er=!1;function Li(E){{var O=vn;vn++,G.current===null&&(G.current=[]);var Y=G.isBatchingLegacy,J;try{if(G.isBatchingLegacy=!0,J=E(),!Y&&G.didScheduleLegacyUpdate){var ie=G.current;ie!==null&&(G.didScheduleLegacyUpdate=!1,Du(ie))}}catch(yt){throw tr(O),yt}finally{G.isBatchingLegacy=Y}if(J!==null&&typeof J=="object"&&typeof J.then=="function"){var Re=J,pe=!1,Fe={then:function(yt,Mt){pe=!0,Re.then(function(Zt){tr(O),vn===0?ot(Zt,yt,Mt):yt(Zt)},function(Zt){tr(O),Mt(Zt)})}};return!er&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){pe||(er=!0,fe("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Fe}else{var Xe=J;if(tr(O),vn===0){var ct=G.current;ct!==null&&(Du(ct),G.current=null);var Tt={then:function(yt,Mt){G.current===null?(G.current=[],ot(Xe,yt,Mt)):yt(Xe)}};return Tt}else{var xt={then:function(yt,Mt){yt(Xe)}};return xt}}}}function tr(E){E!==vn-1&&fe("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),vn=E}function ot(E,O,Y){{var J=G.current;if(J!==null)try{Du(J),Gr(function(){J.length===0?(G.current=null,O(E)):ot(E,O,Y)})}catch(ie){Y(ie)}else O(E)}}var Nu=!1;function Du(E){if(!Nu){Nu=!0;var O=0;try{for(;O<E.length;O++){var Y=E[O];do Y=Y(!0);while(Y!==null)}E.length=0}catch(J){throw E=E.slice(O+1),J}finally{Nu=!1}}}var xc=$,Cc=ue,Sc=ne,vo={map:Ae,forEach:qr,count:Fi,toArray:is,only:Cn};t.Children=vo,t.Component=ft,t.Fragment=s,t.Profiler=u,t.PureComponent=xr,t.StrictMode=a,t.Suspense=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pt,t.act=Li,t.cloneElement=Cc,t.createContext=mn,t.createElement=xc,t.createFactory=Sc,t.createRef=Ur,t.forwardRef=oe,t.isValidElement=an,t.lazy=Z,t.memo=se,t.startTransition=Ve,t.unstable_act=Li,t.useCallback=Et,t.useContext=xe,t.useDebugValue=Vn,t.useDeferredValue=On,t.useEffect=tt,t.useId=Qt,t.useImperativeHandle=dr,t.useInsertionEffect=We,t.useLayoutEffect=It,t.useMemo=Hr,t.useReducer=$e,t.useRef=Ye,t.useState=Ce,t.useSyncExternalStore=Bn,t.useTransition=Sr,t.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}),rO=vc((t,e)=>{var n=Vv(nO());e.exports=n}),Tm=function(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1},Ps=function(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&AO.test(String.fromCharCode(t)):e===!1?!1:Tm(t,qC)},pu=function(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&xO.test(String.fromCharCode(t)):e===!1?!1:Tm(t,qC)||Tm(t,yO)},Kr=function(t,e){return new ut(t,{beforeExpr:!0,binop:e})},nt=function(t,e){return e===void 0&&(e={}),e.keyword=t,Bv[t]=new ut(t,e)},ku=function(t){return t===10||t===13||t===8232||t===8233},DC=function(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(ku(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1},ra=function(t){return i1[t]||(i1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))},wa=function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))},FC=function(t,e){for(var n=1,r=0;;){var i=DC(t,r,e);if(i<0)return new Xl(n,e-r);++n,r=i}},iO=function(t){var e={};for(var n in bm)e[n]=t&&yc(t,n)?t[n]:bm[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!s1&&typeof console=="object"&&console.warn&&(s1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),r1(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return r1(e.onComment)&&(e.onComment=sO(e,e.onComment)),e},sO=function(t,e){return function(n,r,i,s,a,u){var c={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(c.loc=new cf(this,a,u)),t.ranges&&(c.range=[i,s]),e.push(c)}},Ov=function(t,e){return bu|(t?Mv:0)|(e?KC:0)},aO=function(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)},fd=function(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)},LC=function(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&LC(t.expression)},km=function(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&km(t.expression)||t.type==="ParenthesizedExpression"&&km(t.expression)},VC=function(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t},oO=function(t){var e=dS[t]={binary:ra(FO[t]+" "+a1),binaryOfStrings:ra(VO[t]),nonBinary:{General_Category:ra(a1),Script:ra(BO[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions},uO=function(t){for(var e in t)return!0;return!1},OC=function(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125},lO=function(t){return Ps(t,!0)||t===36||t===95},cO=function(t){return pu(t,!0)||t===36||t===95||t===8204||t===8205},BC=function(t){return t>=65&&t<=90||t>=97&&t<=122},hO=function(t){return t>=0&&t<=1114111},dO=function(t){return t===100||t===68||t===115||t===83||t===119||t===87},MC=function(t){return BC(t)||t===95},fO=function(t){return MC(t)||lf(t)},pO=function(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126},mO=function(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125},gO=function(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126},lf=function(t){return t>=48&&t<=57},jC=function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},UC=function(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48},zC=function(t){return t>=48&&t<=55},vO=function(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))},$C=function(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))},yO=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],qC=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_O="-----------------------------------------------------------------------------------------------------------------------------------------------------",HC="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",sp={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ap="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",EO={5:ap,"5module":ap+" export import",6:ap+" const class extends export import super"},wO=/^in(stanceof)?$/,AO=new RegExp("["+HC+"]"),xO=new RegExp("["+HC+_O+"]"),ut=function(e,n){n===void 0&&(n={}),this.label=e,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null},Qr={beforeExpr:!0},pr={startsExpr:!0},Bv={},C={num:new ut("num",pr),regexp:new ut("regexp",pr),string:new ut("string",pr),name:new ut("name",pr),privateId:new ut("privateId",pr),eof:new ut("eof"),bracketL:new ut("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ut("]"),braceL:new ut("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ut("}"),parenL:new ut("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ut(")"),comma:new ut(",",Qr),semi:new ut(";",Qr),colon:new ut(":",Qr),dot:new ut("."),question:new ut("?",Qr),questionDot:new ut("?."),arrow:new ut("=>",Qr),template:new ut("template"),invalidTemplate:new ut("invalidTemplate"),ellipsis:new ut("...",Qr),backQuote:new ut("`",pr),dollarBraceL:new ut("${",{beforeExpr:!0,startsExpr:!0}),eq:new ut("=",{beforeExpr:!0,isAssign:!0}),assign:new ut("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ut("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ut("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Kr("||",1),logicalAND:Kr("&&",2),bitwiseOR:Kr("|",3),bitwiseXOR:Kr("^",4),bitwiseAND:Kr("&",5),equality:Kr("==/!=/===/!==",6),relational:Kr("</>/<=/>=",7),bitShift:Kr("<</>>/>>>",8),plusMin:new ut("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Kr("%",10),star:Kr("*",10),slash:Kr("/",10),starstar:new ut("**",{beforeExpr:!0}),coalesce:Kr("??",1),_break:nt("break"),_case:nt("case",Qr),_catch:nt("catch"),_continue:nt("continue"),_debugger:nt("debugger"),_default:nt("default",Qr),_do:nt("do",{isLoop:!0,beforeExpr:!0}),_else:nt("else",Qr),_finally:nt("finally"),_for:nt("for",{isLoop:!0}),_function:nt("function",pr),_if:nt("if"),_return:nt("return",Qr),_switch:nt("switch"),_throw:nt("throw",Qr),_try:nt("try"),_var:nt("var"),_const:nt("const"),_while:nt("while",{isLoop:!0}),_with:nt("with"),_new:nt("new",{beforeExpr:!0,startsExpr:!0}),_this:nt("this",pr),_super:nt("super",pr),_class:nt("class",pr),_extends:nt("extends",Qr),_export:nt("export"),_import:nt("import",pr),_null:nt("null",pr),_true:nt("true",pr),_false:nt("false",pr),_in:nt("in",{beforeExpr:!0,binop:7}),_instanceof:nt("instanceof",{beforeExpr:!0,binop:7}),_typeof:nt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:nt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:nt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ui=/\r\n?|\n|\u2028|\u2029/,CO=new RegExp(ui.source,"g"),WC=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Jr=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,GC=Object.prototype,SO=GC.hasOwnProperty,IO=GC.toString,yc=Object.hasOwn||function(t,e){return SO.call(t,e)},r1=Array.isArray||function(t){return IO.call(t)==="[object Array]"},i1=Object.create(null),TO=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Xl=function(e,n){this.line=e,this.column=n};Xl.prototype.offset=function(e){return new Xl(this.line,this.column+e)};var cf=function(e,n,r){this.start=n,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)},bm={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},s1=!1,Jl=1,bu=2,Mv=4,KC=8,QC=16,YC=32,jv=64,XC=128,_c=256,Uv=Jl|bu|_c,pd=0,zv=1,Ls=2,JC=3,ZC=4,eS=5,dn=function(e,n,r){this.options=e=iO(e),this.sourceFile=e.sourceFile,this.keywords=ra(EO[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var i="";e.allowReserved!==!0&&(i=sp[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(i+=" await")),this.reservedWords=ra(i);var s=(i?i+" ":"")+sp.strict;this.reservedWordsStrict=ra(s),this.reservedWordsStrictBind=ra(s+" "+sp.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ui).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=C.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Jl),this.regexpState=null,this.privateNameStack=[]},es={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};dn.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};es.inFunction.get=function(){return(this.currentVarScope().flags&bu)>0};es.inGenerator.get=function(){return(this.currentVarScope().flags&KC)>0&&!this.currentVarScope().inClassFieldInit};es.inAsync.get=function(){return(this.currentVarScope().flags&Mv)>0&&!this.currentVarScope().inClassFieldInit};es.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&_c)return!1;if(e.flags&bu)return(e.flags&Mv)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};es.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&jv)>0||n||this.options.allowSuperOutsideMethod};es.allowDirectSuper.get=function(){return(this.currentThisScope().flags&XC)>0};es.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};es.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(bu|_c))>0||n};es.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&_c)>0};dn.extend=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r};dn.parse=function(e,n){return new this(n,e).parse()};dn.parseExpressionAt=function(e,n,r){var i=new this(r,e,n);return i.nextToken(),i.parseExpression()};dn.tokenizer=function(e,n){return new this(n,e)};Object.defineProperties(dn.prototype,es);var ur=dn.prototype,kO=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;ur.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Jr.lastIndex=t,t+=Jr.exec(this.input)[0].length;var e=kO.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Jr.lastIndex=t+e[0].length;var n=Jr.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ui.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,Jr.lastIndex=t,t+=Jr.exec(this.input)[0].length,this.input[t]===";"&&t++}};ur.eat=function(t){return this.type===t?(this.next(),!0):!1};ur.isContextual=function(t){return this.type===C.name&&this.value===t&&!this.containsEsc};ur.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ur.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ur.canInsertSemicolon=function(){return this.type===C.eof||this.type===C.braceR||ui.test(this.input.slice(this.lastTokEnd,this.start))};ur.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ur.semicolon=function(){!this.eat(C.semi)&&!this.insertSemicolon()&&this.unexpected()};ur.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ur.expect=function(t){this.eat(t)||this.unexpected()};ur.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var hf=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ur.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};ur.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ur.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ur.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Ie=dn.prototype;Ie.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==C.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var $v={kind:"loop"},bO={kind:"switch"};Ie.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Jr.lastIndex=this.pos;var e=Jr.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(Ps(r,!0)){for(var i=n+1;pu(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!wO.test(s))return!0}return!1};Ie.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Jr.lastIndex=this.pos;var t=Jr.exec(this.input),e=this.pos+t[0].length,n;return!ui.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(pu(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};Ie.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(t)&&(r=C._var,s="let"),r){case C._break:case C._continue:return this.parseBreakContinueStatement(i,r.keyword);case C._debugger:return this.parseDebuggerStatement(i);case C._do:return this.parseDoStatement(i);case C._for:return this.parseForStatement(i);case C._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case C._class:return t&&this.unexpected(),this.parseClass(i,!0);case C._if:return this.parseIfStatement(i);case C._return:return this.parseReturnStatement(i);case C._switch:return this.parseSwitchStatement(i);case C._throw:return this.parseThrowStatement(i);case C._try:return this.parseTryStatement(i);case C._const:case C._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case C._while:return this.parseWhileStatement(i);case C._with:return this.parseWithStatement(i);case C.braceL:return this.parseBlock(!0,i);case C.semi:return this.parseEmptyStatement(i);case C._export:case C._import:if(this.options.ecmaVersion>10&&r===C._import){Jr.lastIndex=this.pos;var a=Jr.exec(this.input),u=this.pos+a[0].length,c=this.input.charCodeAt(u);if(c===40||c===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===C._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var d=this.value,p=this.parseExpression();return r===C.name&&p.type==="Identifier"&&this.eat(C.colon)?this.parseLabeledStatement(i,d,p,t):this.parseExpressionStatement(i,p)}};Ie.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(C.semi)||this.insertSemicolon()?t.label=null:this.type!==C.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};Ie.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Ie.parseDoStatement=function(t){return this.next(),this.labels.push($v),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(C._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(C.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Ie.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($v),this.enterScope(0),this.expect(C.parenL),this.type===C.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===C._var||this.type===C._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===C._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),a=!1,u=this.containsEsc,c=new hf,d=this.start,p=e>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===C._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===C._in&&this.unexpected(e),t.await=!0):a&&this.options.ecmaVersion>=8&&(p.start===d&&!u&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),s&&a&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,c),this.checkLValPattern(p),this.parseForIn(t,p)):(this.checkExpressionErrors(c,!0),e>-1&&this.unexpected(e),this.parseFor(t,p))};Ie.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,_l|(n?0:Pm),!1,e)};Ie.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(C._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Ie.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(C.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Ie.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(C.braceL),this.labels.push(bO),this.enterScope(0);for(var e,n=!1;this.type!==C.braceR;)if(this.type===C._case||this.type===C._default){var r=this.type===C._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(C.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Ie.parseThrowStatement=function(t){return this.next(),ui.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var PO=[];Ie.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?YC:0),this.checkLValPattern(t,e?ZC:Ls),this.expect(C.parenR),t};Ie.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===C._catch){var e=this.startNode();this.next(),this.eat(C.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(C._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Ie.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Ie.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push($v),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Ie.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Ie.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Ie.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var a=s[i];a.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var u=this.type.isLoop?"loop":this.type===C._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var d=this.labels[c];if(d.statementStart===t.start)d.statementStart=this.start,d.kind=u;else break}return this.labels.push({name:e,kind:u,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};Ie.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Ie.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(C.braceL),t&&this.enterScope(0);this.type!==C.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Ie.parseFor=function(t,e){return t.init=e,this.expect(C.semi),t.test=this.type===C.semi?null:this.parseExpression(),this.expect(C.semi),t.update=this.type===C.parenR?null:this.parseExpression(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Ie.parseForIn=function(t,e){var n=this.type===C._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};Ie.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(C.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===C._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(C.comma))break}return t};Ie.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?zv:Ls,!1)};var _l=1,Pm=2,tS=4;Ie.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===C.star&&e&Pm&&this.unexpected(),t.generator=this.eat(C.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&_l&&(t.id=e&tS&&this.type!==C.name?null:this.parseIdent(),t.id&&!(e&Pm)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?zv:Ls:JC));var s=this.yieldPos,a=this.awaitPos,u=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ov(t.async,t.generator)),e&_l||(t.id=this.type===C.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=u,this.finishNode(t,e&_l?"FunctionDeclaration":"FunctionExpression")};Ie.parseFunctionParams=function(t){this.expect(C.parenL),t.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Ie.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(C.braceL);this.type!==C.braceR;){var a=this.parseClassElement(t.superClass!==null);a&&(i.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&a.key.type==="PrivateIdentifier"&&aO(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Ie.parseClassElement=function(t){if(this.eat(C.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,a="method",u=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(C.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===C.star?u=!0:r="static"}if(n.static=u,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===C.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(e>=9||!s)&&this.eat(C.star)&&(i=!0),!r&&!s&&!i){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:r=c)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===C.parenL||a!=="method"||i||s){var d=!n.static&&fd(n,"constructor"),p=d&&t;d&&a!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=d?"constructor":a,this.parseClassMethod(n,i,s,p)}else this.parseClassField(n);return n};Ie.isClassElementNameStart=function(){return this.type===C.name||this.type===C.privateId||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword};Ie.parseClassElementName=function(t){this.type===C.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Ie.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&fd(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Ie.parseClassField=function(t){if(fd(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&fd(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(C.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Ie.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(_c|jv);this.type!==C.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Ie.parseClassId=function(t,e){this.type===C.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ls,!1)):(e===!0&&this.unexpected(),t.id=null)};Ie.parseClassSuper=function(t){t.superClass=this.eat(C._extends)?this.parseExprSubscripts(null,!1):null};Ie.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Ie.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var a=n[s];yc(e,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};Ie.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};Ie.parseExport=function(t,e){if(this.next(),this.eat(C.star))return this.parseExportAllDeclaration(t,e);if(this.eat(C._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Ie.parseExportDeclaration=function(t){return this.parseStatement(null)};Ie.parseExportDefaultDeclaration=function(){var t;if(this.type===C._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,_l|tS,!1,t)}else if(this.type===C._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};Ie.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),yc(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};Ie.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if(n==="ArrayPattern")for(var a=0,u=e.elements;a<u.length;a+=1){var c=u[a];c&&this.checkPatternExport(t,c)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};Ie.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};Ie.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Ie.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};Ie.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(C.braceL);!this.eat(C.braceR);){if(n)n=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;e.push(this.parseExportSpecifier(t))}return e};Ie.parseImport=function(t){return this.next(),this.type===C.string?(t.specifiers=PO,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===C.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Ie.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportSpecifier")};Ie.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportDefaultSpecifier")};Ie.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportNamespaceSpecifier")};Ie.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===C.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(C.comma)))return t;if(this.type===C.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(C.braceL);!this.eat(C.braceR);){if(e)e=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;t.push(this.parseImportSpecifier())}return t};Ie.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===C.string){var t=this.parseLiteral(this.value);return TO.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Ie.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Ie.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var li=dn.prototype;li.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};li.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};li.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};li.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==C.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};li.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case C.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(C.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case C.braceL:return this.parseObj(!0)}return this.parseIdent()};li.parseBindingList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(C.comma),e&&this.type===C.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===C.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),i.push(a),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};li.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};li.parseBindingListItem=function(t){return t};li.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(C.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};li.checkLValSimple=function(t,e,n){e===void 0&&(e=pd);var r=e!==pd;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===Ls&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(yc(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==eS&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};li.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=pd),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var a=0,u=t.elements;a<u.length;a+=1){var c=u[a];c&&this.checkLValInnerPattern(c,e,n)}break;default:this.checkLValSimple(t,e,n)}};li.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=pd),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var _i=function(e,n,r,i,s){this.token=e,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Ot={b_stat:new _i("{",!1),b_expr:new _i("{",!0),b_tmpl:new _i("${",!1),p_stat:new _i("(",!1),p_expr:new _i("(",!0),q_tmpl:new _i("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new _i("function",!1),f_expr:new _i("function",!0),f_expr_gen:new _i("function",!0,!1,null,!0),f_gen:new _i("function",!1,!1,null,!0)},Pu=dn.prototype;Pu.initialContext=function(){return[Ot.b_stat]};Pu.curContext=function(){return this.context[this.context.length-1]};Pu.braceIsBlock=function(t){var e=this.curContext();return e===Ot.f_expr||e===Ot.f_stat?!0:t===C.colon&&(e===Ot.b_stat||e===Ot.b_expr)?!e.isExpr:t===C._return||t===C.name&&this.exprAllowed?ui.test(this.input.slice(this.lastTokEnd,this.start)):t===C._else||t===C.semi||t===C.eof||t===C.parenR||t===C.arrow?!0:t===C.braceL?e===Ot.b_stat:t===C._var||t===C._const||t===C.name?!1:!this.exprAllowed};Pu.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Pu.updateContext=function(t){var e,n=this.type;n.keyword&&t===C.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Pu.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};C.parenR.updateContext=C.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ot.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};C.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ot.b_stat:Ot.b_expr),this.exprAllowed=!0};C.dollarBraceL.updateContext=function(){this.context.push(Ot.b_tmpl),this.exprAllowed=!0};C.parenL.updateContext=function(t){var e=t===C._if||t===C._for||t===C._with||t===C._while;this.context.push(e?Ot.p_stat:Ot.p_expr),this.exprAllowed=!0};C.incDec.updateContext=function(){};C._function.updateContext=C._class.updateContext=function(t){t.beforeExpr&&t!==C._else&&!(t===C.semi&&this.curContext()!==Ot.p_stat)&&!(t===C._return&&ui.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===C.colon||t===C.braceL)&&this.curContext()===Ot.b_stat)?this.context.push(Ot.f_expr):this.context.push(Ot.f_stat),this.exprAllowed=!1};C.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};C.backQuote.updateContext=function(){this.curContext()===Ot.q_tmpl?this.context.pop():this.context.push(Ot.q_tmpl),this.exprAllowed=!1};C.star.updateContext=function(t){if(t===C._function){var e=this.context.length-1;this.context[e]===Ot.f_expr?this.context[e]=Ot.f_expr_gen:this.context[e]=Ot.f_gen}this.exprAllowed=!0};C.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==C.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Me=dn.prototype;Me.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var a=e[i];if(a){var u;s==="init"?u=this.strict&&a.init||a.get||a.set:u=a.init||a[s],u&&this.raiseRecoverable(r.start,"Redefinition of property")}else a=e[i]={init:!1,get:!1,set:!1};a[s]=!0}};Me.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===C.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(C.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i};Me.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1,a=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new hf,r=!0);var u=this.start,c=this.startLoc;(this.type===C.parenL||this.type===C.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var d=this.parseMaybeConditional(t,e);if(n&&(d=n.call(this,d,u,c)),this.type.isAssign){var p=this.startNodeAt(u,c);return p.operator=this.value,this.type===C.eq&&(d=this.toAssignable(d,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=d.start&&(e.shorthandAssign=-1),this.type===C.eq?this.checkLValPattern(d):this.checkLValSimple(d),p.left=d,this.next(),p.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(p,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),d};Me.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(C.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(C.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i};Me.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};Me.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==C._in)&&s>r){var a=this.type===C.logicalOR||this.type===C.logicalAND,u=this.type===C.coalesce;u&&(s=C.logicalAND.binop);var c=this.value;this.next();var d=this.start,p=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),d,p,s,i),A=this.buildBinary(e,n,t,g,c,a||u);return(a&&this.type===C.coalesce||u&&(this.type===C.logicalOR||this.type===C.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(A,e,n,r,i)}return t};Me.buildBinary=function(t,e,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")};Me.parseMaybeUnary=function(t,e,n,r){var i=this.start,s=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(r),e=!0;else if(this.type.prefix){var u=this.startNode(),c=this.type===C.incDec;u.operator=this.value,u.prefix=!0,this.next(),u.argument=this.parseMaybeUnary(null,!0,c,r),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(u.argument):this.strict&&u.operator==="delete"&&LC(u.argument)?this.raiseRecoverable(u.start,"Deleting local variable in strict mode"):u.operator==="delete"&&km(u.argument)?this.raiseRecoverable(u.start,"Private fields can not be deleted"):e=!0,a=this.finishNode(u,c?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===C.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==C._in&&this.unexpected();else{if(a=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var d=this.startNodeAt(i,s);d.operator=this.value,d.prefix=!1,d.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(d,"UpdateExpression")}}if(!n&&this.eat(C.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,a,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return a};Me.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};Me.parseSubscripts=function(t,e,n,r,i){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,a=!1;;){var u=this.parseSubscript(t,e,n,r,s,a,i);if(u.optional&&(a=!0),u===t||u.type==="ArrowFunctionExpression"){if(a){var c=this.startNodeAt(e,n);c.expression=u,u=this.finishNode(c,"ChainExpression")}return u}t=u}};Me.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(C.arrow)};Me.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};Me.parseSubscript=function(t,e,n,r,i,s,a){var u=this.options.ecmaVersion>=11,c=u&&this.eat(C.questionDot);r&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var d=this.eat(C.bracketL);if(d||c&&this.type!==C.parenL&&this.type!==C.backQuote||this.eat(C.dot)){var p=this.startNodeAt(e,n);p.object=t,d?(p.property=this.parseExpression(),this.expect(C.bracketR)):this.type===C.privateId&&t.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!d,u&&(p.optional=c),t=this.finishNode(p,"MemberExpression")}else if(!r&&this.eat(C.parenL)){var g=new hf,A=this.yieldPos,b=this.awaitPos,F=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var L=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1,g);if(i&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=A,this.awaitPos=b,this.awaitIdentPos=F,this.parseSubscriptAsyncArrow(e,n,L,a);this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=F||this.awaitIdentPos;var M=this.startNodeAt(e,n);M.callee=t,M.arguments=L,u&&(M.optional=c),t=this.finishNode(M,"CallExpression")}else if(this.type===C.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,n);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};Me.parseExprAtom=function(t,e,n){this.type===C.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case C._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===C.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==C.dot&&this.type!==C.bracketL&&this.type!==C.parenL&&this.unexpected(),this.finishNode(r,"Super");case C._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case C.name:var s=this.start,a=this.startLoc,u=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!u&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(C._function))return this.overrideContext(Ot.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(C.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[c],!1,e);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===C.name&&!u&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(C.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[c],!0,e)}return c;case C.regexp:var d=this.value;return r=this.parseLiteral(d.value),r.regex={pattern:d.pattern,flags:d.flags},r;case C.num:case C.string:return this.parseLiteral(this.value);case C._null:case C._true:case C._false:return r=this.startNode(),r.value=this.type===C._null?null:this.type===C._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case C.parenL:var p=this.start,g=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=p),t.parenthesizedBind<0&&(t.parenthesizedBind=p)),g;case C.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(C.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case C.braceL:return this.overrideContext(Ot.b_expr),this.parseObj(!1,t);case C._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case C._class:return this.parseClass(this.startNode(),!1);case C._new:return this.parseNew();case C.backQuote:return this.parseTemplate();case C._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Me.parseExprAtomDefault=function(){this.unexpected()};Me.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===C.parenL&&!t)return this.parseDynamicImport(e);if(this.type===C.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};Me.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(C.parenR)){var e=this.start;this.eat(C.comma)&&this.eat(C.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Me.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Me.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Me.parseParenExpression=function(){this.expect(C.parenL);var t=this.parseExpression();return this.expect(C.parenR),t};Me.shouldParseArrow=function(t){return!this.canInsertSemicolon()};Me.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,u=this.startLoc,c=[],d=!0,p=!1,g=new hf,A=this.yieldPos,b=this.awaitPos,F;for(this.yieldPos=0,this.awaitPos=0;this.type!==C.parenR;)if(d?d=!1:this.expect(C.comma),s&&this.afterTrailingComma(C.parenR,!0)){p=!0;break}else if(this.type===C.ellipsis){F=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var L=this.lastTokEnd,M=this.lastTokEndLoc;if(this.expect(C.parenR),t&&this.shouldParseArrow(c)&&this.eat(C.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=A,this.awaitPos=b,this.parseParenArrowList(n,r,c,e);(!c.length||p)&&this.unexpected(this.lastTokStart),F&&this.unexpected(F),this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=b||this.awaitPos,c.length>1?(i=this.startNodeAt(a,u),i.expressions=c,this.finishNodeAt(i,"SequenceExpression",L,M)):i=c[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(n,r);return R.expression=i,this.finishNode(R,"ParenthesizedExpression")}else return i};Me.parseParenItem=function(t){return t};Me.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var RO=[];Me.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===C.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(C.parenL)?t.arguments=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1):t.arguments=RO,this.finishNode(t,"NewExpression")};Me.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===C.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===C.backQuote,this.finishNode(n,"TemplateElement")};Me.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===C.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(C.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(C.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};Me.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===C.name||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===C.star)&&!ui.test(this.input.slice(this.lastTokEnd,this.start))};Me.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(C.braceR);){if(r)r=!1;else if(this.expect(C.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(C.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};Me.parseProperty=function(t,e){var n=this.startNode(),r,i,s,a;if(this.options.ecmaVersion>=9&&this.eat(C.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===C.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(s=this.start,a=this.startLoc),t||(r=this.eat(C.star)));var u=this.containsEsc;return this.parsePropertyName(n),!t&&!u&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(C.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,s,a,e,u),this.finishNode(n,"Property")};Me.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};Me.parsePropertyValue=function(t,e,n,r,i,s,a,u){(n||r)&&this.type===C.colon&&this.unexpected(),this.eat(C.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===C.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!u&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==C.comma&&this.type!==C.braceR&&this.type!==C.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===C.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Me.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(C.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(C.bracketR),t.key;t.computed=!1}return t.key=this.type===C.num||this.type===C.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Me.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Me.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ov(e,r.generator)|jv|(n?XC:0)),this.expect(C.parenL),r.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")};Me.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Ov(n,!1)|QC),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")};Me.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==C.braceL,s=this.strict,a=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var u=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||u)&&(a=this.strictDirective(this.end),a&&u&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!s&&!a&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,eS),t.body=this.parseBlock(!1,void 0,a&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()};Me.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};Me.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,zv,e?null:n)}};Me.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(C.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===C.comma?a=null:this.type===C.ellipsis?(a=this.parseSpread(r),r&&this.type===C.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i};Me.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};Me.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Me.parseIdentNode=function(){var t=this.startNode();return this.type===C.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=C.name):this.unexpected(),t};Me.parsePrivateIdent=function(){var t=this.startNode();return this.type===C.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};Me.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===C.semi||this.canInsertSemicolon()||this.type!==C.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(C.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Me.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var md=dn.prototype;md.raise=function(t,e){var n=FC(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};md.raiseRecoverable=md.raise;md.curPosition=function(){if(this.options.locations)return new Xl(this.curLine,this.pos-this.lineStart)};var ba=dn.prototype,NO=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ba.enterScope=function(t){this.scopeStack.push(new NO(t))};ba.exitScope=function(){this.scopeStack.pop()};ba.treatFunctionsAsVarInScope=function(t){return t.flags&bu||!this.inModule&&t.flags&Jl};ba.declareName=function(t,e,n){var r=!1;if(e===Ls){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&Jl&&delete this.undefinedExports[t]}else if(e===ZC){var s=this.currentScope();s.lexical.push(t)}else if(e===JC){var a=this.currentScope();this.treatFunctionsAsVar?r=a.lexical.indexOf(t)>-1:r=a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var u=this.scopeStack.length-1;u>=0;--u){var c=this.scopeStack[u];if(c.lexical.indexOf(t)>-1&&!(c.flags&YC&&c.lexical[0]===t)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(t)>-1){r=!0;break}if(c.var.push(t),this.inModule&&c.flags&Jl&&delete this.undefinedExports[t],c.flags&Uv)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};ba.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};ba.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ba.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Uv)return e}};ba.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Uv&&!(e.flags&QC))return e}};var df=function(e,n,r){this.type="",this.start=n,this.end=0,e.options.locations&&(this.loc=new cf(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[n,0])},Ec=dn.prototype;Ec.startNode=function(){return new df(this,this.start,this.startLoc)};Ec.startNodeAt=function(t,e){return new df(this,t,e)};Ec.finishNode=function(t,e){return VC.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Ec.finishNodeAt=function(t,e,n,r){return VC.call(this,t,e,n,r)};Ec.copyNode=function(t){var e=new df(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var nS="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",rS=nS+" Extended_Pictographic",iS=rS,sS=iS+" EBase EComp EMod EPres ExtPict",aS=sS,DO=aS,FO={9:nS,10:rS,11:iS,12:sS,13:aS,14:DO},LO="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",VO={9:"",10:"",11:"",12:"",13:"",14:LO},a1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",oS="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",uS=oS+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",lS=uS+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",cS=lS+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",hS=cS+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",OO=hS+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",BO={9:oS,10:uS,11:lS,12:cS,13:hS,14:OO},dS={};for(eh=0,op=[9,10,11,12,13,14];eh<op.length;eh+=1)o1=op[eh],oO(o1);var o1,eh,op,ye=dn.prototype,gd=function(e,n){this.parent=e,this.base=n||this};gd.prototype.separatedFrom=function(e){for(var n=this;n;n=n.parent)for(var r=e;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};gd.prototype.sibling=function(){return new gd(this.parent,this.base)};var ts=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=dS[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};ts.prototype.reset=function(e,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=e|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};ts.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};ts.prototype.at=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return-1;var s=r.charCodeAt(e);if(!(n||this.switchU)||s<=55295||s>=57344||e+1>=i)return s;var a=r.charCodeAt(e+1);return a>=56320&&a<=57343?(s<<10)+a-56613888:s};ts.prototype.nextIndex=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return i;var s=r.charCodeAt(e),a;return!(n||this.switchU)||s<=55295||s>=57344||e+1>=i||(a=r.charCodeAt(e+1))<56320||a>57343?e+1:e+2};ts.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};ts.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};ts.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};ts.prototype.eat=function(e,n){return n===void 0&&(n=!1),this.current(n)===e?(this.advance(n),!0):!1};ts.prototype.eatChars=function(e,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=e;i<s.length;i+=1){var a=s[i],u=this.at(r,n);if(u===-1||u!==a)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};ye.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,s=0;s<n.length;s++){var a=n.charAt(s);e.indexOf(a)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(a,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),a==="u"&&(r=!0),a==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};ye.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&uO(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};ye.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};ye.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new gd(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};ye.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};ye.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};ye.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};ye.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};ye.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};ye.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};ye.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};ye.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};ye.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};ye.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};ye.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};ye.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};ye.regexp_eatSyntaxCharacter=function(t){var e=t.current();return OC(e)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!OC(n);)t.advance();return t.pos!==e};ye.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};ye.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var r=0,i=n;r<i.length;r+=1){var s=i[r];s.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};ye.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};ye.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=wa(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=wa(t.lastIntValue);return!0}return!1};ye.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),lO(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};ye.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),cO(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};ye.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};ye.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};ye.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};ye.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};ye.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};ye.regexp_eatZero=function(t){return t.current()===48&&!lf(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};ye.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};ye.regexp_eatControlLetter=function(t){var e=t.current();return BC(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};ye.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=(i-55296)*1024+(a-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&hO(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};ye.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var fS=0,Rs=1,ei=2;ye.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(dO(e))return t.lastIntValue=-1,t.advance(),Rs;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===ei&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return fS};ye.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),Rs}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return fS};ye.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){yc(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};ye.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Rs;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ei;t.raise("Invalid property name")};ye.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";MC(e=t.current());)t.lastStringValue+=wa(e),t.advance();return t.lastStringValue!==""};ye.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";fO(e=t.current());)t.lastStringValue+=wa(e),t.advance();return t.lastStringValue!==""};ye.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};ye.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===ei&&t.raise("Negated character class may contain strings"),!0}return!1};ye.regexp_classContents=function(t){return t.current()===93?Rs:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Rs)};ye.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};ye.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||zC(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};ye.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};ye.regexp_classSetExpression=function(t){var e=Rs,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===ei&&(e=ei);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==ei&&(e=Rs);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===ei&&(e=ei)}};ye.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};ye.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Rs:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};ye.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===ei&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};ye.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};ye.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ei&&(e=ei);return e};ye.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Rs:ei};ye.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&pO(n)||mO(n)?!1:(t.advance(),t.lastIntValue=n,!0)};ye.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return gO(e)?(t.lastIntValue=e,t.advance(),!0):!1};ye.regexp_eatClassControlLetter=function(t){var e=t.current();return lf(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};ye.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};ye.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;lf(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};ye.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;jC(n=t.current());)t.lastIntValue=16*t.lastIntValue+UC(n),t.advance();return t.pos!==e};ye.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};ye.regexp_eatOctalDigit=function(t){var e=t.current();return zC(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};ye.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!jC(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+UC(i),t.advance()}return!0};var qv=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new cf(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},et=dn.prototype;et.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new qv(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};et.getToken=function(){return this.next(),new qv(this)};typeof Symbol<"u"&&(et[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===C.eof,value:e}}}});et.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(C.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};et.readToken=function(t){return Ps(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};et.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};et.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=DC(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};et.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!ku(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};et.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&WC.test(String.fromCharCode(t)))++this.pos;else break e}}};et.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};et.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(C.ellipsis)):(++this.pos,this.finishToken(C.dot))};et.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(C.assign,2):this.finishOp(C.slash,1)};et.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?C.star:C.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=C.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(C.assign,n+1):this.finishOp(r,n)};et.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(C.assign,3)}return this.finishOp(t===124?C.logicalOR:C.logicalAND,2)}return e===61?this.finishOp(C.assign,2):this.finishOp(t===124?C.bitwiseOR:C.bitwiseAND,1)};et.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(C.assign,2):this.finishOp(C.bitwiseXOR,1)};et.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ui.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(C.incDec,2):e===61?this.finishOp(C.assign,2):this.finishOp(C.plusMin,1)};et.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(C.assign,n+1):this.finishOp(C.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(C.relational,n))};et.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(C.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(C.arrow)):this.finishOp(t===61?C.eq:C.prefix,1)};et.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(C.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(C.assign,3)}return this.finishOp(C.coalesce,2)}}return this.finishOp(C.question,1)};et.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ps(e,!0)||e===92))return this.finishToken(C.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+wa(e)+"'")};et.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(C.parenL);case 41:return++this.pos,this.finishToken(C.parenR);case 59:return++this.pos,this.finishToken(C.semi);case 44:return++this.pos,this.finishToken(C.comma);case 91:return++this.pos,this.finishToken(C.bracketL);case 93:return++this.pos,this.finishToken(C.bracketR);case 123:return++this.pos,this.finishToken(C.braceL);case 125:return++this.pos,this.finishToken(C.braceR);case 58:return++this.pos,this.finishToken(C.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(C.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(C.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+wa(t)+"'")};et.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};et.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ui.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var u=this.regexpState||(this.regexpState=new ts(this));u.reset(n,i,a),this.validateRegExpFlags(u),this.validateRegExpPattern(u);var c=null;try{c=new RegExp(i,a)}catch{}return this.finishToken(C.regexp,{pattern:i,flags:a,value:c})};et.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,a=0,u=0,c=0,d=e??1/0;c<d;++c,++this.pos){var p=this.input.charCodeAt(this.pos),g=void 0;if(r&&p===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),u===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),u=p;continue}if(p>=97?g=p-97+10:p>=65?g=p-65+10:p>=48&&p<=57?g=p-48:g=1/0,g>=t)break;u=p,a=a*t+g}return r&&u===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:a};et.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=$C(this.input.slice(e,this.pos)),++this.pos):Ps(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,n)};et.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=$C(this.input.slice(e,this.pos));return++this.pos,Ps(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ps(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=vO(this.input.slice(e,this.pos),n);return this.finishToken(C.num,s)};et.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};et.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ku(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(C.string,e)};var pS={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===pS)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};et.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw pS;this.raise(t,e)};et.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===C.template||this.type===C.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(C.dollarBraceL)):(++this.pos,this.finishToken(C.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(C.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(ku(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(C.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};et.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wa(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return ku(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};et.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};et.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(pu(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?Ps:pu)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=wa(a),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};et.readWord=function(){var t=this.readWord1(),e=C.name;return this.keywords.test(t)&&(e=Bv[t]),this.finishToken(e,t)};var MO="8.12.1";dn.acorn={Parser:dn,version:MO,defaultOptions:bm,Position:Xl,SourceLocation:cf,getLineInfo:FC,Node:df,TokenType:ut,tokTypes:C,keywordTypes:Bv,TokContext:_i,tokContexts:Ot,isIdentifierChar:pu,isIdentifierStart:Ps,Token:qv,isNewLine:ku,lineBreak:ui,lineBreakG:CO,nonASCIIwhitespace:WC};var jO=Vv(tO()),Co=Vv(rO()),u1={class:"className",for:"htmlFor",maxlength:"maxLength",colspan:"colSpan",rowspan:"rowSpan"};function UO(t){return $O.indexOf(t.toLowerCase())===-1}function zO(t){return qO.indexOf(t.toLowerCase())!==-1}var $O=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],qO=["table","tbody","tfoot","thead","tr"],HO=(t="",e=16)=>{const n=String(t);let r=0;return n.split("").forEach(i=>{r=(r<<5)-r+i.charCodeAt(0),r&=r}),Math.abs(r).toString(e)},l1=()=>HO(Math.random().toString()),WO=t=>t.replace(/([A-Z])([A-Z])/g,"$1 $2").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/[^a-zA-Z\u00C0-\u00ff]/g," ").toLowerCase().split(" ").filter(e=>e).map((e,n)=>n>0?e[0].toUpperCase()+e.slice(1):e).join(""),GO=t=>{switch(typeof t){case"string":return t.split(";").filter(e=>e).reduce((e,n)=>{const r=n.slice(0,n.indexOf(":")).trim(),i=n.slice(n.indexOf(":")+1).trim();return{...e,[WO(r)]:i}},{});case"object":return t;default:return}},KO=t=>t==null||t===""?[]:t.split("."),mS=(t,e)=>{const[n,...r]=e;if(!(t==null||n==null))return r.length===0?t[n]:mS(t[n],r)},c1=(t,e)=>mS(t,KO(e)),vd,De,yd,Jo,Zl;class h1 extends Co.default.Component{constructor(){super(...arguments);Pc(this,"ParsedChildren",null);wo(this,vd,n=>{const r=dn.extend(jO.default({autoCloseVoidElements:this.props.autoCloseVoidElements})),i=`<root>${n}</root>`;let s=[];try{s=r.parse(i,{ecmaVersion:"latest"}),s=s.body[0].expression.children||[]}catch(a){return this.props.showWarnings&&console.warn(a),this.props.onError&&this.props.onError(a),this.props.renderError?this.props.renderError({error:String(a)}):null}return s.map(a=>ke(this,De).call(this,a)).filter(Boolean)});wo(this,De,(n,r)=>{var i,s;switch(n.type){case"JSXAttribute":return n.value===null?!0:ke(this,De).call(this,n.value,r);case"JSXElement":case"JSXFragment":return ke(this,Zl).call(this,n,r);case"JSXExpressionContainer":return ke(this,De).call(this,n.expression,r);case"JSXText":const a=this.props.disableKeyGeneration?void 0:l1();return this.props.disableFragments?n.value:Co.default.createElement(Co.Fragment,{key:a},n.value);case"ArrayExpression":return n.elements.map(p=>ke(this,De).call(this,p,r));case"BinaryExpression":switch(n.operator){case"-":return ke(this,De).call(this,n.left)-ke(this,De).call(this,n.right);case"!=":return ke(this,De).call(this,n.left)!=ke(this,De).call(this,n.right);case"!==":return ke(this,De).call(this,n.left)!==ke(this,De).call(this,n.right);case"*":return ke(this,De).call(this,n.left)*ke(this,De).call(this,n.right);case"**":return ke(this,De).call(this,n.left)**ke(this,De).call(this,n.right);case"/":return ke(this,De).call(this,n.left)/ke(this,De).call(this,n.right);case"%":return ke(this,De).call(this,n.left)%ke(this,De).call(this,n.right);case"+":return ke(this,De).call(this,n.left)+ke(this,De).call(this,n.right);case"<":return ke(this,De).call(this,n.left)<ke(this,De).call(this,n.right);case"<=":return ke(this,De).call(this,n.left)<=ke(this,De).call(this,n.right);case"==":return ke(this,De).call(this,n.left)==ke(this,De).call(this,n.right);case"===":return ke(this,De).call(this,n.left)===ke(this,De).call(this,n.right);case">":return ke(this,De).call(this,n.left)>ke(this,De).call(this,n.right);case">=":return ke(this,De).call(this,n.left)>=ke(this,De).call(this,n.right)}return;case"CallExpression":const u=ke(this,De).call(this,n.callee);if(u===void 0){this.props.onError(new Error(`The expression '${n.callee}' could not be resolved, resulting in an undefined return value.`));return}return u(...n.arguments.map(p=>ke(this,De).call(this,p,n.callee)));case"ConditionalExpression":return ke(this,De).call(this,n.test)?ke(this,De).call(this,n.consequent):ke(this,De).call(this,n.alternate);case"ExpressionStatement":return ke(this,De).call(this,n.expression);case"Identifier":return r&&n.name in r?r[n.name]:(this.props.bindings||{})[n.name];case"Literal":return n.value;case"LogicalExpression":const c=ke(this,De).call(this,n.left);return n.operator==="||"&&c?c:n.operator==="&&"&&c||n.operator==="||"&&!c?ke(this,De).call(this,n.right):!1;case"MemberExpression":return ke(this,yd).call(this,n,r);case"ObjectExpression":const d={};return n.properties.forEach(p=>{d[p.key.name||p.key.value]=ke(this,De).call(this,p.value)}),d;case"TemplateElement":return n.value.cooked;case"TemplateLiteral":return[...n.expressions,...n.quasis].sort((p,g)=>p.start<g.start?-1:1).map(p=>ke(this,De).call(this,p)).join("");case"UnaryExpression":switch(n.operator){case"+":return n.argument.value;case"-":return-n.argument.value;case"!":return!n.argument.value}return;case"ArrowFunctionExpression":return(n.async||n.generator)&&((s=(i=this.props).onError)==null||s.call(i,new Error("Async and generator arrow functions are not supported."))),(...p)=>{const g={};return n.params.forEach((A,b)=>{g[A.name]=p[b]}),ke(this,De).call(this,n.body,g)}}});wo(this,yd,(n,r)=>{var u,c;let{object:i}=n;const s=[((u=n.property)==null?void 0:u.name)??JSON.parse(((c=n.property)==null?void 0:c.raw)??'""')];if(n.object.type!=="Literal")for(;i&&["MemberExpression","Literal"].includes(i==null?void 0:i.type);){const{property:d}=i;i.computed?s.unshift(ke(this,De).call(this,d,r)):s.unshift((d==null?void 0:d.name)??JSON.parse((d==null?void 0:d.raw)??'""')),i=i.object}const a=ke(this,De).call(this,i,r);try{let d=a;const p=s.reduce((g,A)=>(d=g,g[A]),a);return typeof p=="function"?p.bind(d):p}catch{const d=(i==null?void 0:i.name)||"unknown";this.props.onError(new Error(`Unable to parse ${d}["${s.join('"]["')}"]}`))}});wo(this,Jo,n=>n.type==="JSXIdentifier"?n.name:`${ke(this,Jo).call(this,n.object)}.${ke(this,Jo).call(this,n.property)}`);wo(this,Zl,(n,r)=>{const{allowUnknownElements:i,components:s,componentsOnly:a,onError:u}=this.props,{children:c=[]}=n,d=n.type==="JSXElement"?n.openingElement:n.openingFragment,{attributes:p=[]}=d,g=n.type==="JSXElement"?ke(this,Jo).call(this,d.name):"",A=(this.props.blacklistedAttrs||[]).map(P=>P instanceof RegExp?P:new RegExp(P,"i")),b=(this.props.blacklistedTags||[]).map(P=>P.trim().toLowerCase()).filter(Boolean);if(/^(html|head|body)$/i.test(g))return c.map(P=>ke(this,Zl).call(this,P,r));const F=g.trim().toLowerCase();if(b.indexOf(F)!==-1)return u(new Error(`The tag <${g}> is blacklisted, and will not be rendered.`)),null;if(g!==""&&!c1(s,g)){if(a)return u(new Error(`The component <${g}> is unrecognized, and will not be rendered.`)),this.props.renderUnrecognized(g);if(!i&&document.createElement(g)instanceof HTMLUnknownElement)return u(new Error(`The tag <${g}> is unrecognized in this browser, and will not be rendered.`)),this.props.renderUnrecognized(g)}let L;const M=n.type==="JSXElement"?c1(s,g):Co.Fragment;(M||UO(g))&&(L=c.map(P=>ke(this,De).call(this,P,r)),!M&&!zO(g)&&(L=L.filter(P=>typeof P!="string"||!/^\s*$/.test(P))),L.length===0?L=void 0:L.length===1?[L]=L:L.length>1&&!this.props.disableKeyGeneration&&(L=L.map((P,H)=>P!=null&&P.type&&!(P!=null&&P.key)?{...P,key:P.key||H}:P)));const R={key:this.props.disableKeyGeneration?void 0:l1()};p.forEach(P=>{if(P.type==="JSXAttribute"){const H=P.name.name,G=u1[H]||H,f=ke(this,De).call(this,P,r);A.filter(x=>x.test(G)).length===0&&(R[G]=f)}else if(P.type==="JSXSpreadAttribute"&&P.argument.type==="Identifier"||P.argument.type==="MemberExpression"){const H=ke(this,De).call(this,P.argument,r);typeof H=="object"&&Object.keys(H).forEach(G=>{const f=u1[G]||G;A.filter(x=>x.test(f)).length===0&&(R[f]=H[G])})}}),typeof R.style=="string"&&(R.style=GO(R.style));const k=g.toLowerCase();return k==="option"&&(L=L.props.children),Co.default.createElement(M||k,R,L)})}render(){const n=(this.props.jsx||"").trim().replace(/<!DOCTYPE([^>]*)>/g,"");this.ParsedChildren=ke(this,vd).call(this,n);const r=[...new Set(["jsx-parser",...String(this.props.className).split(" ")])].filter(Boolean).join(" ");return this.props.renderInWrapper?Co.default.createElement("div",{className:r},this.ParsedChildren):this.ParsedChildren}}vd=new WeakMap,De=new WeakMap,yd=new WeakMap,Jo=new WeakMap,Zl=new WeakMap,Pc(h1,"displayName","JsxParser"),Pc(h1,"defaultProps",{allowUnknownElements:!0,autoCloseVoidElements:!1,bindings:{},blacklistedAttrs:[/^on.+/i],blacklistedTags:["script"],className:"",components:{},componentsOnly:!1,disableFragments:!1,disableKeyGeneration:!1,jsx:"",onError:()=>{},showWarnings:!1,renderError:void 0,renderInWrapper:!0,renderUnrecognized:()=>null});const QO=()=>{const t=fn(),{grade:e,term:n}=ai(),[r,i]=q.useState([]),[s,a]=q.useState(!0);return q.useEffect(()=>{async function u(){var p;const d=(p=(await Ia(Zi(or,`${e}/test_yourself_students/questions`,n))).data())==null?void 0:p.subjects;i(d),a(!1)}u()},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:" :"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(Lv,{grade:e,backFrom:"test_yourself_students"}),_.jsx(uf,{})]})]}),s?_.jsx(jr,{}):_.jsx("div",{className:"row g-2 my-2",children:r==null?void 0:r.map((u,c)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/${u}/test_yourself_students`),children:Ar(u)})},c))})]})},YO=()=>_.jsxs("div",{className:"row g-2",children:[_.jsx("div",{className:"col-sm-6",children:_.jsx(va,{to:"term_1",className:"btn btn-primary w-100",children:"  "})}),_.jsx("div",{className:"col-sm-6",children:_.jsx(va,{to:"term_2",className:"btn btn-primary w-100",children:"  "})})]}),XO=()=>{const t=fn(),[e,n]=q.useState(!0),{grade:r,term:i}=ai(),[s,a]=q.useState([]);return q.useEffect(()=>{Ia(Zi(or,`${r}/test_yourself_students/questions/${i}`)).then(u=>{a(u.data().subjects),n(!1)})},[]),_.jsx(_.Fragment,{children:e?_.jsx(jr,{}):_.jsx("div",{className:"row g-2",children:s.map((u,c)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t(`/${r}/${i}/${u}/send_question`),children:Ar(u)})},c))})})},gS=({formRef:t,children:e})=>_.jsx("form",{className:"mx-auto mt-3 needs-validation",noValidate:!0,style:{maxWidth:"480px"},ref:t,children:e}),Dr=({field:t,marginBottom:e=3})=>_.jsx("div",{className:`mb-${e}`,children:t}),vS=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"email-input",className:"form-label fw-bold",children:" :"}),_.jsx("input",{type:"email",className:"form-control",pattern:"^[^@]+@[^@]+\\.[^@]{2,}$",id:"email-input",placeholder:"folan.alfolany@gmail.com","aria-describedby":"emailHelp",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"    ."})]}),yS=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"password-input",className:"form-label fw-bold",children:" :"}),_.jsx("input",{type:"password",placeholder:"_____",minLength:"6",className:"form-control",id:"password-input",autoComplete:"off",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"      6   ."})]}),JO=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:"name-input",className:"form-label fw-bold",children:":"}),_.jsx("input",{type:"text",className:"form-control",minLength:3,id:"name-input",placeholder:" ",required:!0}),_.jsx("div",{className:"invalid-feedback",children:"     3   ."})]}),ZO=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold",children:" :"}),_.jsxs("select",{className:"form-select mt-2",id:"grade-input",required:!0,children:[_.jsx("option",{value:"grade_1",children:" "}),_.jsx("option",{value:"grade_2",children:" "}),_.jsx("option",{value:"grade_3",children:" "}),_.jsx("option",{value:"grade_4",children:" "})]}),_.jsx("div",{className:"invalid-feedback",children:"  ."})]}),wc=({text:t})=>_.jsx("button",{type:"submit",className:"btn btn-primary w-100 fw-bold",children:t}),ff=({label:t,placeholder:e,invalidFeedback:n,minLength:r=10,rows:i=4,fontSize:s=5,id:a="textarea-field"})=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:`fw-bold fs-${s} mb-1`,htmlFor:a,children:t}),_.jsx("textarea",{className:"form-control",id:a,rows:i,placeholder:e,minLength:r,required:!0}),_.jsx("div",{className:"invalid-feedback",children:n})]}),Ac=()=>_.jsx("button",{className:"btn btn-primary w-100 disabled",children:_.jsx("div",{className:"spinner-border spinner-border-sm",role:"status"})}),e4=()=>{const t=fn(),[e,n]=q.useState(!1),[r,i]=q.useState(!1),s=q.useRef(null);return q.useEffect(()=>{const a=s.current;a.addEventListener("submit",async u=>{if(u.preventDefault(),u.stopPropagation(),a.checkValidity())try{i(!0);const c=u.target["name-input"].value,d=u.target["email-input"].value,p=u.target["grade-input"].value,g=u.target["password-input"].value,A=u.target["textarea-field"].value,F=(await xF(gc,d,g)).user.uid;await CD(Zi(or,"users",F),{name:c,email:d,grade:p,uid:F,message:A,write_permission:!1}),t("/")}catch(c){console.log(c.code),n(!0)}finally{i(!1),setTimeout(()=>{n(!1)},3e3)}else a.classList.add("was-validated")})},[]),_.jsxs("div",{children:[_.jsx(oi,{children:"  "}),_.jsxs(gS,{formRef:s,children:[_.jsx(Dr,{field:_.jsx(JO,{})}),_.jsx(Dr,{field:_.jsx(vS,{})}),_.jsx(Dr,{field:_.jsx(ZO,{})}),_.jsx(Dr,{field:_.jsx(ff,{placeholder:"    .      .            .     .",label:"    :",fontSize:6,minLength:100,invalidFeedback:"     100   ."})}),_.jsx(Dr,{field:_.jsx(yS,{})}),r?_.jsx(Ac,{}):_.jsx(wc,{text:"  "}),e&&_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})]})},t4=()=>{const t=fn(),[e,n]=q.useState(!1),[r,i]=q.useState(!1),s=q.useRef(null);return q.useEffect(()=>{const a=s.current;a.addEventListener("submit",async u=>{if(u.preventDefault(),u.stopPropagation(),a.checkValidity())try{i(!0);const c=u.target["email-input"].value,d=u.target["password-input"].value;await CF(gc,c,d),t("/")}catch(c){console.log(c.code),n(!0)}finally{i(!1),setTimeout(()=>{n(!1)},3e3)}else a.classList.add("was-validated")})},[]),_.jsxs("div",{children:[_.jsx(oi,{children:" "}),_.jsxs(gS,{formRef:s,children:[_.jsx(Dr,{field:_.jsx(vS,{})}),_.jsx(Dr,{field:_.jsx(yS,{})}),r?_.jsx(Ac,{}):_.jsx(wc,{text:" "}),e&&_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]}),_.jsxs("p",{className:"text-center mt-2 fw-bold",children:["    ",_.jsx(va,{to:"/signup",children:" "}),"."]})]})},Hv=({formRef:t,children:e})=>_.jsx("form",{className:"mt-3 needs-validation",noValidate:!0,ref:t,children:e}),n4=({optionsRef:t})=>{const e=["","","",""];return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),_.jsx("div",{className:"row g-2",children:e.map((n,r)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("input",{type:"text",className:"form-control",placeholder:` ${n}.`,ref:i=>t.current[r]=i,required:!0})},r))})]})},r4=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:"  :"}),_.jsxs("select",{className:"form-control",id:"options-input",children:[_.jsx("option",{value:"0",children:"1"}),_.jsx("option",{value:"1",children:"2"}),_.jsx("option",{value:"2",children:"3"}),_.jsx("option",{value:"3",children:"4"})]})]}),i4=()=>_.jsxs(_.Fragment,{children:[_.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),_.jsx("input",{type:"text",className:"form-control",placeholder:" .",id:"answer-reason-input"})]}),s4=()=>_.jsx(ff,{placeholder:"   .",label:" :",invalidFeedback:"      10   ."}),a4=()=>{const[t,e]=q.useState(!1),[n,r]=q.useState("initial"),{grade:i,term:s,subject:a}=ai(),u=q.useRef([]),c=q.useRef(null);return q.useEffect(()=>{const d=c.current;d.addEventListener("submit",async p=>{p.preventDefault(),p.stopPropagation();const g=d["textarea-field"].value,A=[],b=Number(d["options-input"].value),F=d["answer-reason-input"].value;if(u.current.forEach(L=>{A.push(L.value)}),d.checkValidity())try{e(!0);const{name:L,uid:M}=JSON.parse(localStorage.getItem("loggedinUserInfo"));await _v(Su(or,`${i}/test_yourself_students/questions/${s}/${a}`),{question_text:g,question_answer:b,question_options:A,answer_reason:F,question_creator:{name:L,uid:M}}),c.current.reset(),d.classList.remove("was-validated"),r("success")}catch(L){console.log(L.code),d.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else d.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(oi,{children:"  []"}),_.jsxs("p",{className:"text-center mt-2 fw-bold",children:[`${Ar(i)} - ${Ar(s)} - ${Ar(a)}`,"."]}),_.jsxs(Hv,{formRef:c,children:[_.jsx(Dr,{field:_.jsx(s4,{})}),_.jsx(Dr,{field:_.jsx(n4,{optionsRef:u})}),_.jsx(Dr,{field:_.jsx(r4,{})}),_.jsx(Dr,{field:_.jsx(i4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:" "})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},o4=()=>_.jsx(ff,{placeholder:"  .",label:":",invalidFeedback:"      10   .",rows:7}),u4=()=>{const[t,e]=q.useState(!1),[n,r]=q.useState("initial"),i=q.useRef(null);return q.useEffect(()=>{const s=i.current;s.addEventListener("submit",async a=>{a.preventDefault(),a.stopPropagation();const u=s["textarea-field"].value;if(s.checkValidity())try{e(!0),await _v(Su(or,"suggestions"),{suggestion:u}),i.current.reset(),s.classList.remove("was-validated"),r("success")}catch(c){console.log(c.code),s.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else s.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(oi,{children:" "}),_.jsxs(Hv,{formRef:i,children:[_.jsx(Dr,{field:_.jsx(o4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:" "})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},l4=()=>_.jsx(ff,{placeholder:"          .",label:":",invalidFeedback:"      10   .",rows:7}),c4=()=>{const[t,e]=q.useState(!1),[n,r]=q.useState("initial"),i=q.useRef(null);return q.useEffect(()=>{const s=i.current;s.addEventListener("submit",async a=>{a.preventDefault(),a.stopPropagation();const u=s["textarea-field"].value;if(s.checkValidity())try{e(!0),await _v(Su(or,"problems"),{problem:u}),i.current.reset(),s.classList.remove("was-validated"),r("success")}catch(c){console.log(c.code),s.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else s.classList.add("was-validated")})},[]),_.jsxs(_.Fragment,{children:[_.jsx(oi,{children:"  "}),_.jsxs(Hv,{formRef:i,children:[_.jsx(Dr,{field:_.jsx(l4,{})}),t?_.jsx(Ac,{}):_.jsx(wc,{text:" "})]}),n==="initial"?null:n==="success"?_.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):_.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},h4=()=>async(t,e)=>{try{const r=await(await fetch(t)).blob(),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}catch(n){console.log(n)}},d4=()=>{const{grade:t}=ai(),[e,n]=q.useState(!1),[r,i]=q.useState(!0),s=`${Fv}/darelom-students-data/schedule/${t}.jpg`,a=h4();function u(){n(!1),i(!1)}function c(){n(!0),i(!1)}return _.jsxs("div",{className:"container",children:[r?_.jsx(jr,{}):_.jsx(_.Fragment,{children:!e&&_.jsx(_.Fragment,{children:_.jsxs("p",{className:"text-center fw-bold fs-5",children:["  ",Ar(t),"   ."]})})}),_.jsxs("div",{className:`d-${e?"block":"none"}`,children:[_.jsx("img",{src:s,className:"w-100",alt:"Schecule",onError:u,onLoad:c}),_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>a(s,`  ${Ar(t)}`),children:" "})]})]})},f4=()=>{const t=fn();function e(){t("/")}return _.jsx("button",{className:"btn btn-danger",onClick:e,children:" "})},p4=({grade:t,backFrom:e})=>{const n=fn();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return _.jsx("button",{className:"btn btn-danger",onClick:r,children:""})},m4=()=>{const{grade:t,term:e}=ai(),[n,r]=q.useState({}),[i,s]=q.useState([]),[a,u]=q.useState(!0);return q.useEffect(()=>{Ia(Zi(or,`${t}/lectures_recordings`)).then(c=>{var p;const d=(p=c.data())==null?void 0:p[e];if(d&&Object.keys(d).length){const g=Object.keys(d);if(g.includes("mojalad_tasgilat")){const A=["mojalad_tasgilat",...g.filter(b=>b!=="mojalad_tasgilat")];s(A)}else s(g);r(d)}u(!1)})},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[_.jsx("h2",{children:" :"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(p4,{grade:t,backFrom:"lectures_recordings"}),_.jsx(f4,{})]})]}),_.jsxs(oi,{children:[Ar(t)," - ",Ar(e)]}),a?_.jsx(jr,{}):_.jsx(_.Fragment,{children:Object.keys(n).length?_.jsx("div",{className:"row g-2 my-2",children:i.map((c,d)=>_.jsx("div",{className:"col-sm-6",children:_.jsx(vs,{text:Ar(c),onClick:()=>window.location.href=n[c]})},d))}):_.jsx("p",{className:"text-center fw-bold mt-4 fs-4",children:"   ."})})]})},g4=()=>{const t=fn(),{grade:e,term:n}=ai(),[r,i]=q.useState([]),[s,a]=q.useState(!0);return q.useEffect(()=>{async function u(){var p;const d=((p=(await Ia(Zi(or,`${e}/more_resources/`))).data())==null?void 0:p[n])||[];i(d),a(!1)}u()},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:" :"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(Lv,{grade:e,backFrom:"more_resources"}),_.jsx(uf,{})]})]}),s?_.jsx(jr,{}):_.jsx("div",{className:"row g-2 my-2",children:r!=null&&r.length?r==null?void 0:r.map((u,c)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/more_resources/${u}`),children:Ar(u)})},c)):_.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})},v4=()=>{const t=fn(),{grade:e,term:n,subject:r}=ai(),[i,s]=q.useState([]),[a,u]=q.useState(!0);return q.useEffect(()=>{async function c(){var g;const d=await Ia(Zi(or,`${e}/more_resources/${n}/${r}`));console.log(d.data());const p=((g=d.data())==null?void 0:g.resources)||[];s(p),u(!1)}c()},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[_.jsx("h2",{children:" :"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx("button",{className:"btn btn-danger",onClick:()=>t(-1),children:""}),_.jsx(uf,{})]})]}),a?_.jsx(jr,{}):_.jsx("div",{className:"row g-2 my-2",children:i!=null&&i.length?i==null?void 0:i.map((c,d)=>_.jsx("div",{className:"col-sm-6",children:_.jsx("button",{className:"btn btn-primary w-100",onClick:()=>window.location.href=c.link,children:c.title})},d)):_.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})};function y4(){const[t,e]=q.useState(null),[n,r]=q.useState(JSON.parse(localStorage.getItem("loggedInUserInfo")));q.useEffect(()=>{eC(gc,async s=>{if(s){const u=(await Ia(Zi(or,`users/${s.uid}`))).data();localStorage.setItem("loggedinUserInfo",JSON.stringify(u)),r(u)}else localStorage.setItem("loggedinUserInfo",JSON.stringify(null)),r(null);e(s),localStorage.setItem("loggedinUser",JSON.stringify(s))})},[]);const i=g2(rm(_.jsx(_.Fragment,{children:_.jsxs(jt,{path:"/",element:_.jsx(u3,{}),errorElement:_.jsx(Zc,{}),children:[_.jsx(jt,{path:"/",element:_.jsx(y3,{})}),_.jsx(jt,{path:"/degrees/:grade/2023_24",element:_.jsx(I3,{})}),_.jsx(jt,{path:"/degrees/:grade/2023_24/:studentId",element:_.jsx(N3,{})}),_.jsx(jt,{path:":grade/books/:term",element:_.jsx(F3,{})}),_.jsx(jt,{path:"/book/:bookId",element:_.jsx(B3,{})}),_.jsx(jt,{path:":grade/more_resources/:term",element:_.jsx(g4,{})}),_.jsx(jt,{path:":grade/:term/more_resources/:subject",element:_.jsx(v4,{})}),_.jsx(jt,{path:"/test_yourself",element:_.jsx(ip,{})})," ",_.jsx(jt,{path:"/test_yourself/test_result",element:_.jsx(Q3,{})}),_.jsx(jt,{path:":grade/test_yourself_students/:term",element:_.jsx(QO,{})}),_.jsx(jt,{path:"/test_yourself/sended_questions",element:_.jsx(ip,{})}),_.jsx(jt,{path:"/:grade/:term/:subject/test_yourself_students",element:_.jsx(ip,{})}),_.jsx(jt,{path:"/:grade/send_question_selector",element:n!=null&&n.write_permission?_.jsx(YO,{}):_.jsx(Zc,{})}),_.jsx(jt,{path:"/:grade/send_question_selector/:term",element:n!=null&&n.write_permission?_.jsx(XO,{}):_.jsx(Zc,{})}),_.jsx(jt,{path:"/:grade/:term/:subject/send_question",element:n!=null&&n.write_permission?_.jsx(a4,{}):_.jsx(Zc,{})}),_.jsx(jt,{path:"/signup",element:t?_.jsx(S0,{to:"/"}):_.jsx(e4,{})}),_.jsx(jt,{path:"/signin",element:t?_.jsx(S0,{to:"/"}):_.jsx(t4,{})}),_.jsx(jt,{path:"/send_suggestion",element:_.jsx(u4,{})}),_.jsx(jt,{path:"/send_problem",element:_.jsx(c4,{})}),_.jsx(jt,{path:"/:grade/schedule",element:_.jsx(d4,{})}),_.jsx(jt,{path:"/:grade/lectures_recordings/:term",element:_.jsx(m4,{})})]})})));return _.jsx(S2,{router:i})}up.createRoot(document.getElementById("root")).render(_.jsx(y4,{}));
